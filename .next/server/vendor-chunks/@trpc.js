"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@trpc";
exports.ids = ["vendor-chunks/@trpc"];
exports.modules = {

/***/ "(ssr)/./node_modules/@trpc/client/dist/TRPCClientError-38f9a32a.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/TRPCClientError-38f9a32a.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   T: () => (/* binding */ TRPCClientError)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/shared */ \"(ssr)/./node_modules/@trpc/server/dist/shared/index.mjs\");\n/* harmony import */ var _transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transformResult-ace864b8.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\");\n\n\n\nfunction isTRPCClientError(cause) {\n    return cause instanceof TRPCClientError || /**\n     * @deprecated\n     * Delete in next major\n     */ cause instanceof Error && cause.name === 'TRPCClientError';\n}\nfunction isTRPCErrorResponse(obj) {\n    return (0,_transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__.i)(obj) && (0,_transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__.i)(obj.error) && typeof obj.error.code === 'number' && typeof obj.error.message === 'string';\n}\nclass TRPCClientError extends Error {\n    static from(_cause, opts = {}) {\n        const cause = _cause;\n        if (isTRPCClientError(cause)) {\n            if (opts.meta) {\n                // Decorate with meta error data\n                cause.meta = {\n                    ...cause.meta,\n                    ...opts.meta\n                };\n            }\n            return cause;\n        }\n        if (isTRPCErrorResponse(cause)) {\n            return new TRPCClientError(cause.error.message, {\n                ...opts,\n                result: cause\n            });\n        }\n        if (!(cause instanceof Error)) {\n            return new TRPCClientError('Unknown error', {\n                ...opts,\n                cause: cause\n            });\n        }\n        return new TRPCClientError(cause.message, {\n            ...opts,\n            cause: (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_0__.getCauseFromUnknown)(cause)\n        });\n    }\n    constructor(message, opts){\n        const cause = opts?.cause;\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore https://github.com/tc39/proposal-error-cause\n        super(message, {\n            cause\n        });\n        this.meta = opts?.meta;\n        this.cause = cause;\n        this.shape = opts?.result?.error;\n        this.data = opts?.result?.error.data;\n        this.name = 'TRPCClientError';\n        Object.setPrototypeOf(this, TRPCClientError.prototype);\n    }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvVFJQQ0NsaWVudEVycm9yLTM4ZjlhMzJhLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMEQ7QUFDSzs7QUFFL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdFQUFRLFNBQVMsZ0VBQVE7QUFDcEM7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsd0VBQW1CO0FBQ3RDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVnQyIsInNvdXJjZXMiOlsid2VicGFjazovL21vdmllLXJldmlldy1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvVFJQQ0NsaWVudEVycm9yLTM4ZjlhMzJhLm1qcz9mMTU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldENhdXNlRnJvbVVua25vd24gfSBmcm9tICdAdHJwYy9zZXJ2ZXIvc2hhcmVkJztcbmltcG9ydCB7IGkgYXMgaXNPYmplY3QgfSBmcm9tICcuL3RyYW5zZm9ybVJlc3VsdC1hY2U4NjRiOC5tanMnO1xuXG5mdW5jdGlvbiBpc1RSUENDbGllbnRFcnJvcihjYXVzZSkge1xuICAgIHJldHVybiBjYXVzZSBpbnN0YW5jZW9mIFRSUENDbGllbnRFcnJvciB8fCAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIERlbGV0ZSBpbiBuZXh0IG1ham9yXG4gICAgICovIGNhdXNlIGluc3RhbmNlb2YgRXJyb3IgJiYgY2F1c2UubmFtZSA9PT0gJ1RSUENDbGllbnRFcnJvcic7XG59XG5mdW5jdGlvbiBpc1RSUENFcnJvclJlc3BvbnNlKG9iaikge1xuICAgIHJldHVybiBpc09iamVjdChvYmopICYmIGlzT2JqZWN0KG9iai5lcnJvcikgJiYgdHlwZW9mIG9iai5lcnJvci5jb2RlID09PSAnbnVtYmVyJyAmJiB0eXBlb2Ygb2JqLmVycm9yLm1lc3NhZ2UgPT09ICdzdHJpbmcnO1xufVxuY2xhc3MgVFJQQ0NsaWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIHN0YXRpYyBmcm9tKF9jYXVzZSwgb3B0cyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGNhdXNlID0gX2NhdXNlO1xuICAgICAgICBpZiAoaXNUUlBDQ2xpZW50RXJyb3IoY2F1c2UpKSB7XG4gICAgICAgICAgICBpZiAob3B0cy5tZXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gRGVjb3JhdGUgd2l0aCBtZXRhIGVycm9yIGRhdGFcbiAgICAgICAgICAgICAgICBjYXVzZS5tZXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jYXVzZS5tZXRhLFxuICAgICAgICAgICAgICAgICAgICAuLi5vcHRzLm1ldGFcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNhdXNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1RSUENFcnJvclJlc3BvbnNlKGNhdXNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUUlBDQ2xpZW50RXJyb3IoY2F1c2UuZXJyb3IubWVzc2FnZSwge1xuICAgICAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgICAgICAgICAgcmVzdWx0OiBjYXVzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoY2F1c2UgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVFJQQ0NsaWVudEVycm9yKCdVbmtub3duIGVycm9yJywge1xuICAgICAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgICAgICAgICAgY2F1c2U6IGNhdXNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRSUENDbGllbnRFcnJvcihjYXVzZS5tZXNzYWdlLCB7XG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICAgICAgY2F1c2U6IGdldENhdXNlRnJvbVVua25vd24oY2F1c2UpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBvcHRzKXtcbiAgICAgICAgY29uc3QgY2F1c2UgPSBvcHRzPy5jYXVzZTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAvLyBAdHMtaWdub3JlIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWVycm9yLWNhdXNlXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHtcbiAgICAgICAgICAgIGNhdXNlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1ldGEgPSBvcHRzPy5tZXRhO1xuICAgICAgICB0aGlzLmNhdXNlID0gY2F1c2U7XG4gICAgICAgIHRoaXMuc2hhcGUgPSBvcHRzPy5yZXN1bHQ/LmVycm9yO1xuICAgICAgICB0aGlzLmRhdGEgPSBvcHRzPy5yZXN1bHQ/LmVycm9yLmRhdGE7XG4gICAgICAgIHRoaXMubmFtZSA9ICdUUlBDQ2xpZW50RXJyb3InO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVFJQQ0NsaWVudEVycm9yLnByb3RvdHlwZSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBUUlBDQ2xpZW50RXJyb3IgYXMgVCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/TRPCClientError-38f9a32a.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/client/dist/httpBatchLink-d0f9eac9.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/httpBatchLink-d0f9eac9.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   c: () => (/* binding */ createHTTPBatchLink),\n/* harmony export */   h: () => (/* binding */ httpBatchLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(ssr)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n/* harmony import */ var _transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transformResult-ace864b8.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\");\n/* harmony import */ var _TRPCClientError_38f9a32a_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TRPCClientError-38f9a32a.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/TRPCClientError-38f9a32a.mjs\");\n/* harmony import */ var _httpUtils_b9d0cb48_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./httpUtils-b9d0cb48.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/httpUtils-b9d0cb48.mjs\");\n\n\n\n\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */ /**\n * A function that should never be called unless we messed something up.\n */ const throwFatalError = ()=>{\n    throw new Error('Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new');\n};\n/**\n * Dataloader that's very inspired by https://github.com/graphql/dataloader\n * Less configuration, no caching, and allows you to cancel requests\n * When cancelling a single fetch the whole batch will be cancelled only when _all_ items are cancelled\n */ function dataLoader(batchLoader) {\n    let pendingItems = null;\n    let dispatchTimer = null;\n    const destroyTimerAndPendingItems = ()=>{\n        clearTimeout(dispatchTimer);\n        dispatchTimer = null;\n        pendingItems = null;\n    };\n    /**\n   * Iterate through the items and split them into groups based on the `batchLoader`'s validate function\n   */ function groupItems(items) {\n        const groupedItems = [\n            []\n        ];\n        let index = 0;\n        while(true){\n            const item = items[index];\n            if (!item) {\n                break;\n            }\n            const lastGroup = groupedItems[groupedItems.length - 1];\n            if (item.aborted) {\n                // Item was aborted before it was dispatched\n                item.reject?.(new Error('Aborted'));\n                index++;\n                continue;\n            }\n            const isValid = batchLoader.validate(lastGroup.concat(item).map((it)=>it.key));\n            if (isValid) {\n                lastGroup.push(item);\n                index++;\n                continue;\n            }\n            if (lastGroup.length === 0) {\n                item.reject?.(new Error('Input is too big for a single dispatch'));\n                index++;\n                continue;\n            }\n            // Create new group, next iteration will try to add the item to that\n            groupedItems.push([]);\n        }\n        return groupedItems;\n    }\n    function dispatch() {\n        const groupedItems = groupItems(pendingItems);\n        destroyTimerAndPendingItems();\n        // Create batches for each group of items\n        for (const items of groupedItems){\n            if (!items.length) {\n                continue;\n            }\n            const batch = {\n                items,\n                cancel: throwFatalError\n            };\n            for (const item of items){\n                item.batch = batch;\n            }\n            const unitResolver = (index, value)=>{\n                const item = batch.items[index];\n                item.resolve?.(value);\n                item.batch = null;\n                item.reject = null;\n                item.resolve = null;\n            };\n            const { promise , cancel  } = batchLoader.fetch(batch.items.map((_item)=>_item.key), unitResolver);\n            batch.cancel = cancel;\n            promise.then((result)=>{\n                for(let i = 0; i < result.length; i++){\n                    const value = result[i];\n                    unitResolver(i, value);\n                }\n                for (const item of batch.items){\n                    item.reject?.(new Error('Missing result'));\n                    item.batch = null;\n                }\n            }).catch((cause)=>{\n                for (const item of batch.items){\n                    item.reject?.(cause);\n                    item.batch = null;\n                }\n            });\n        }\n    }\n    function load(key) {\n        const item = {\n            aborted: false,\n            key,\n            batch: null,\n            resolve: throwFatalError,\n            reject: throwFatalError\n        };\n        const promise = new Promise((resolve, reject)=>{\n            item.reject = reject;\n            item.resolve = resolve;\n            if (!pendingItems) {\n                pendingItems = [];\n            }\n            pendingItems.push(item);\n        });\n        if (!dispatchTimer) {\n            dispatchTimer = setTimeout(dispatch);\n        }\n        const cancel = ()=>{\n            item.aborted = true;\n            if (item.batch?.items.every((item)=>item.aborted)) {\n                // All items in the batch have been cancelled\n                item.batch.cancel();\n                item.batch = null;\n            }\n        };\n        return {\n            promise,\n            cancel\n        };\n    }\n    return {\n        load\n    };\n}\n\n/**\n * @internal\n */ function createHTTPBatchLink(requester) {\n    return function httpBatchLink(opts) {\n        const resolvedOpts = (0,_httpUtils_b9d0cb48_mjs__WEBPACK_IMPORTED_MODULE_3__.r)(opts);\n        const maxURLLength = opts.maxURLLength ?? Infinity;\n        // initialized config\n        return (runtime)=>{\n            const batchLoader = (type)=>{\n                const validate = (batchOps)=>{\n                    if (maxURLLength === Infinity) {\n                        // escape hatch for quick calcs\n                        return true;\n                    }\n                    const path = batchOps.map((op)=>op.path).join(',');\n                    const inputs = batchOps.map((op)=>op.input);\n                    const url = (0,_httpUtils_b9d0cb48_mjs__WEBPACK_IMPORTED_MODULE_3__.g)({\n                        ...resolvedOpts,\n                        runtime,\n                        type,\n                        path,\n                        inputs\n                    });\n                    return url.length <= maxURLLength;\n                };\n                const fetch = requester({\n                    ...resolvedOpts,\n                    runtime,\n                    type,\n                    opts\n                });\n                return {\n                    validate,\n                    fetch\n                };\n            };\n            const query = dataLoader(batchLoader('query'));\n            const mutation = dataLoader(batchLoader('mutation'));\n            const subscription = dataLoader(batchLoader('subscription'));\n            const loaders = {\n                query,\n                subscription,\n                mutation\n            };\n            return ({ op  })=>{\n                return (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n                    const loader = loaders[op.type];\n                    const { promise , cancel  } = loader.load(op);\n                    let _res = undefined;\n                    promise.then((res)=>{\n                        _res = res;\n                        const transformed = (0,_transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__.t)(res.json, runtime);\n                        if (!transformed.ok) {\n                            observer.error(_TRPCClientError_38f9a32a_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(transformed.error, {\n                                meta: res.meta\n                            }));\n                            return;\n                        }\n                        observer.next({\n                            context: res.meta,\n                            result: transformed.result\n                        });\n                        observer.complete();\n                    }).catch((err)=>{\n                        observer.error(_TRPCClientError_38f9a32a_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(err, {\n                            meta: _res?.meta\n                        }));\n                    });\n                    return ()=>{\n                        cancel();\n                    };\n                });\n            };\n        };\n    };\n}\n\nconst batchRequester = (requesterOpts)=>{\n    return (batchOps)=>{\n        const path = batchOps.map((op)=>op.path).join(',');\n        const inputs = batchOps.map((op)=>op.input);\n        const { promise , cancel  } = (0,_httpUtils_b9d0cb48_mjs__WEBPACK_IMPORTED_MODULE_3__.j)({\n            ...requesterOpts,\n            path,\n            inputs,\n            headers () {\n                if (!requesterOpts.opts.headers) {\n                    return {};\n                }\n                if (typeof requesterOpts.opts.headers === 'function') {\n                    return requesterOpts.opts.headers({\n                        opList: batchOps\n                    });\n                }\n                return requesterOpts.opts.headers;\n            }\n        });\n        return {\n            promise: promise.then((res)=>{\n                const resJSON = Array.isArray(res.json) ? res.json : batchOps.map(()=>res.json);\n                const result = resJSON.map((item)=>({\n                        meta: res.meta,\n                        json: item\n                    }));\n                return result;\n            }),\n            cancel\n        };\n    };\n};\nconst httpBatchLink = createHTTPBatchLink(batchRequester);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvaHR0cEJhdGNoTGluay1kMGY5ZWFjOS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXFEO0FBQ2lCO0FBQ0E7QUFDc0M7O0FBRTVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0JBQW9CO0FBQ3hDO0FBQ0E7QUFDQSwrQkFBK0IsbUJBQW1CO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwwREFBc0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywwREFBTTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLEtBQUs7QUFDM0IsdUJBQXVCLG1FQUFVO0FBQ2pDO0FBQ0EsNEJBQTRCLG9CQUFvQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsZ0VBQWU7QUFDM0Q7QUFDQSwyQ0FBMkMsNERBQWU7QUFDMUQ7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHFCQUFxQjtBQUNyQix1Q0FBdUMsNERBQWU7QUFDdEQ7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvQkFBb0IsRUFBRSwwREFBaUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV3RCIsInNvdXJjZXMiOlsid2VicGFjazovL21vdmllLXJldmlldy1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvaHR0cEJhdGNoTGluay1kMGY5ZWFjOS5tanM/NmI4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvYnNlcnZhYmxlIH0gZnJvbSAnQHRycGMvc2VydmVyL29ic2VydmFibGUnO1xuaW1wb3J0IHsgdCBhcyB0cmFuc2Zvcm1SZXN1bHQgfSBmcm9tICcuL3RyYW5zZm9ybVJlc3VsdC1hY2U4NjRiOC5tanMnO1xuaW1wb3J0IHsgVCBhcyBUUlBDQ2xpZW50RXJyb3IgfSBmcm9tICcuL1RSUENDbGllbnRFcnJvci0zOGY5YTMyYS5tanMnO1xuaW1wb3J0IHsgciBhcyByZXNvbHZlSFRUUExpbmtPcHRpb25zLCBnIGFzIGdldFVybCwgaiBhcyBqc29uSHR0cFJlcXVlc3RlciB9IGZyb20gJy4vaHR0cFV0aWxzLWI5ZDBjYjQ4Lm1qcyc7XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gKi8gLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCB1bmxlc3Mgd2UgbWVzc2VkIHNvbWV0aGluZyB1cC5cbiAqLyBjb25zdCB0aHJvd0ZhdGFsRXJyb3IgPSAoKT0+e1xuICAgIHRocm93IG5ldyBFcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSBzdWJtaXQgYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL3RycGMvdHJwYy9pc3N1ZXMvbmV3Jyk7XG59O1xuLyoqXG4gKiBEYXRhbG9hZGVyIHRoYXQncyB2ZXJ5IGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9ncmFwaHFsL2RhdGFsb2FkZXJcbiAqIExlc3MgY29uZmlndXJhdGlvbiwgbm8gY2FjaGluZywgYW5kIGFsbG93cyB5b3UgdG8gY2FuY2VsIHJlcXVlc3RzXG4gKiBXaGVuIGNhbmNlbGxpbmcgYSBzaW5nbGUgZmV0Y2ggdGhlIHdob2xlIGJhdGNoIHdpbGwgYmUgY2FuY2VsbGVkIG9ubHkgd2hlbiBfYWxsXyBpdGVtcyBhcmUgY2FuY2VsbGVkXG4gKi8gZnVuY3Rpb24gZGF0YUxvYWRlcihiYXRjaExvYWRlcikge1xuICAgIGxldCBwZW5kaW5nSXRlbXMgPSBudWxsO1xuICAgIGxldCBkaXNwYXRjaFRpbWVyID0gbnVsbDtcbiAgICBjb25zdCBkZXN0cm95VGltZXJBbmRQZW5kaW5nSXRlbXMgPSAoKT0+e1xuICAgICAgICBjbGVhclRpbWVvdXQoZGlzcGF0Y2hUaW1lcik7XG4gICAgICAgIGRpc3BhdGNoVGltZXIgPSBudWxsO1xuICAgICAgICBwZW5kaW5nSXRlbXMgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAqIEl0ZXJhdGUgdGhyb3VnaCB0aGUgaXRlbXMgYW5kIHNwbGl0IHRoZW0gaW50byBncm91cHMgYmFzZWQgb24gdGhlIGBiYXRjaExvYWRlcmAncyB2YWxpZGF0ZSBmdW5jdGlvblxuICAgKi8gZnVuY3Rpb24gZ3JvdXBJdGVtcyhpdGVtcykge1xuICAgICAgICBjb25zdCBncm91cGVkSXRlbXMgPSBbXG4gICAgICAgICAgICBbXVxuICAgICAgICBdO1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICB3aGlsZSh0cnVlKXtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpbmRleF07XG4gICAgICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxhc3RHcm91cCA9IGdyb3VwZWRJdGVtc1tncm91cGVkSXRlbXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAoaXRlbS5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gSXRlbSB3YXMgYWJvcnRlZCBiZWZvcmUgaXQgd2FzIGRpc3BhdGNoZWRcbiAgICAgICAgICAgICAgICBpdGVtLnJlamVjdD8uKG5ldyBFcnJvcignQWJvcnRlZCcpKTtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXNWYWxpZCA9IGJhdGNoTG9hZGVyLnZhbGlkYXRlKGxhc3RHcm91cC5jb25jYXQoaXRlbSkubWFwKChpdCk9Pml0LmtleSkpO1xuICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICBsYXN0R3JvdXAucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhc3RHcm91cC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBpdGVtLnJlamVjdD8uKG5ldyBFcnJvcignSW5wdXQgaXMgdG9vIGJpZyBmb3IgYSBzaW5nbGUgZGlzcGF0Y2gnKSk7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgZ3JvdXAsIG5leHQgaXRlcmF0aW9uIHdpbGwgdHJ5IHRvIGFkZCB0aGUgaXRlbSB0byB0aGF0XG4gICAgICAgICAgICBncm91cGVkSXRlbXMucHVzaChbXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdyb3VwZWRJdGVtcztcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwZWRJdGVtcyA9IGdyb3VwSXRlbXMocGVuZGluZ0l0ZW1zKTtcbiAgICAgICAgZGVzdHJveVRpbWVyQW5kUGVuZGluZ0l0ZW1zKCk7XG4gICAgICAgIC8vIENyZWF0ZSBiYXRjaGVzIGZvciBlYWNoIGdyb3VwIG9mIGl0ZW1zXG4gICAgICAgIGZvciAoY29uc3QgaXRlbXMgb2YgZ3JvdXBlZEl0ZW1zKXtcbiAgICAgICAgICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBiYXRjaCA9IHtcbiAgICAgICAgICAgICAgICBpdGVtcyxcbiAgICAgICAgICAgICAgICBjYW5jZWw6IHRocm93RmF0YWxFcnJvclxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcyl7XG4gICAgICAgICAgICAgICAgaXRlbS5iYXRjaCA9IGJhdGNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdW5pdFJlc29sdmVyID0gKGluZGV4LCB2YWx1ZSk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gYmF0Y2guaXRlbXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGl0ZW0ucmVzb2x2ZT8uKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpdGVtLmJhdGNoID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpdGVtLnJlamVjdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaXRlbS5yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCB7IHByb21pc2UgLCBjYW5jZWwgIH0gPSBiYXRjaExvYWRlci5mZXRjaChiYXRjaC5pdGVtcy5tYXAoKF9pdGVtKT0+X2l0ZW0ua2V5KSwgdW5pdFJlc29sdmVyKTtcbiAgICAgICAgICAgIGJhdGNoLmNhbmNlbCA9IGNhbmNlbDtcbiAgICAgICAgICAgIHByb21pc2UudGhlbigocmVzdWx0KT0+e1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc3VsdFtpXTtcbiAgICAgICAgICAgICAgICAgICAgdW5pdFJlc29sdmVyKGksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGJhdGNoLml0ZW1zKXtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5yZWplY3Q/LihuZXcgRXJyb3IoJ01pc3NpbmcgcmVzdWx0JykpO1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmJhdGNoID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5jYXRjaCgoY2F1c2UpPT57XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGJhdGNoLml0ZW1zKXtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5yZWplY3Q/LihjYXVzZSk7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uYmF0Y2ggPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxvYWQoa2V5KSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB7XG4gICAgICAgICAgICBhYm9ydGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGJhdGNoOiBudWxsLFxuICAgICAgICAgICAgcmVzb2x2ZTogdGhyb3dGYXRhbEVycm9yLFxuICAgICAgICAgICAgcmVqZWN0OiB0aHJvd0ZhdGFsRXJyb3JcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT57XG4gICAgICAgICAgICBpdGVtLnJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgICAgIGl0ZW0ucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICBpZiAoIXBlbmRpbmdJdGVtcykge1xuICAgICAgICAgICAgICAgIHBlbmRpbmdJdGVtcyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGVuZGluZ0l0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWRpc3BhdGNoVGltZXIpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoVGltZXIgPSBzZXRUaW1lb3V0KGRpc3BhdGNoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYW5jZWwgPSAoKT0+e1xuICAgICAgICAgICAgaXRlbS5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChpdGVtLmJhdGNoPy5pdGVtcy5ldmVyeSgoaXRlbSk9Pml0ZW0uYWJvcnRlZCkpIHtcbiAgICAgICAgICAgICAgICAvLyBBbGwgaXRlbXMgaW4gdGhlIGJhdGNoIGhhdmUgYmVlbiBjYW5jZWxsZWRcbiAgICAgICAgICAgICAgICBpdGVtLmJhdGNoLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIGl0ZW0uYmF0Y2ggPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvbWlzZSxcbiAgICAgICAgICAgIGNhbmNlbFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBsb2FkXG4gICAgfTtcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqLyBmdW5jdGlvbiBjcmVhdGVIVFRQQmF0Y2hMaW5rKHJlcXVlc3Rlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBodHRwQmF0Y2hMaW5rKG9wdHMpIHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRPcHRzID0gcmVzb2x2ZUhUVFBMaW5rT3B0aW9ucyhvcHRzKTtcbiAgICAgICAgY29uc3QgbWF4VVJMTGVuZ3RoID0gb3B0cy5tYXhVUkxMZW5ndGggPz8gSW5maW5pdHk7XG4gICAgICAgIC8vIGluaXRpYWxpemVkIGNvbmZpZ1xuICAgICAgICByZXR1cm4gKHJ1bnRpbWUpPT57XG4gICAgICAgICAgICBjb25zdCBiYXRjaExvYWRlciA9ICh0eXBlKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRlID0gKGJhdGNoT3BzKT0+e1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF4VVJMTGVuZ3RoID09PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNjYXBlIGhhdGNoIGZvciBxdWljayBjYWxjc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGJhdGNoT3BzLm1hcCgob3ApPT5vcC5wYXRoKS5qb2luKCcsJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0cyA9IGJhdGNoT3BzLm1hcCgob3ApPT5vcC5pbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGdldFVybCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5yZXNvbHZlZE9wdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBydW50aW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dHNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1cmwubGVuZ3RoIDw9IG1heFVSTExlbmd0aDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGZldGNoID0gcmVxdWVzdGVyKHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucmVzb2x2ZWRPcHRzLFxuICAgICAgICAgICAgICAgICAgICBydW50aW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICBvcHRzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgIGZldGNoXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IGRhdGFMb2FkZXIoYmF0Y2hMb2FkZXIoJ3F1ZXJ5JykpO1xuICAgICAgICAgICAgY29uc3QgbXV0YXRpb24gPSBkYXRhTG9hZGVyKGJhdGNoTG9hZGVyKCdtdXRhdGlvbicpKTtcbiAgICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGRhdGFMb2FkZXIoYmF0Y2hMb2FkZXIoJ3N1YnNjcmlwdGlvbicpKTtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIG11dGF0aW9uXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuICh7IG9wICB9KT0+e1xuICAgICAgICAgICAgICAgIHJldHVybiBvYnNlcnZhYmxlKChvYnNlcnZlcik9PntcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9hZGVyID0gbG9hZGVyc1tvcC50eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBwcm9taXNlICwgY2FuY2VsICB9ID0gbG9hZGVyLmxvYWQob3ApO1xuICAgICAgICAgICAgICAgICAgICBsZXQgX3JlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKChyZXMpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVzID0gcmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtZWQgPSB0cmFuc2Zvcm1SZXN1bHQocmVzLmpzb24sIHJ1bnRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFuc2Zvcm1lZC5vaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKFRSUENDbGllbnRFcnJvci5mcm9tKHRyYW5zZm9ybWVkLmVycm9yLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGE6IHJlcy5tZXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHJlcy5tZXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogdHJhbnNmb3JtZWQucmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihUUlBDQ2xpZW50RXJyb3IuZnJvbShlcnIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhOiBfcmVzPy5tZXRhXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG5jb25zdCBiYXRjaFJlcXVlc3RlciA9IChyZXF1ZXN0ZXJPcHRzKT0+e1xuICAgIHJldHVybiAoYmF0Y2hPcHMpPT57XG4gICAgICAgIGNvbnN0IHBhdGggPSBiYXRjaE9wcy5tYXAoKG9wKT0+b3AucGF0aCkuam9pbignLCcpO1xuICAgICAgICBjb25zdCBpbnB1dHMgPSBiYXRjaE9wcy5tYXAoKG9wKT0+b3AuaW5wdXQpO1xuICAgICAgICBjb25zdCB7IHByb21pc2UgLCBjYW5jZWwgIH0gPSBqc29uSHR0cFJlcXVlc3Rlcih7XG4gICAgICAgICAgICAuLi5yZXF1ZXN0ZXJPcHRzLFxuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIGlucHV0cyxcbiAgICAgICAgICAgIGhlYWRlcnMgKCkge1xuICAgICAgICAgICAgICAgIGlmICghcmVxdWVzdGVyT3B0cy5vcHRzLmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3Rlck9wdHMub3B0cy5oZWFkZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0ZXJPcHRzLm9wdHMuaGVhZGVycyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcExpc3Q6IGJhdGNoT3BzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdGVyT3B0cy5vcHRzLmhlYWRlcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvbWlzZTogcHJvbWlzZS50aGVuKChyZXMpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzSlNPTiA9IEFycmF5LmlzQXJyYXkocmVzLmpzb24pID8gcmVzLmpzb24gOiBiYXRjaE9wcy5tYXAoKCk9PnJlcy5qc29uKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXNKU09OLm1hcCgoaXRlbSk9Pih7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhOiByZXMubWV0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb246IGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGNhbmNlbFxuICAgICAgICB9O1xuICAgIH07XG59O1xuY29uc3QgaHR0cEJhdGNoTGluayA9IGNyZWF0ZUhUVFBCYXRjaExpbmsoYmF0Y2hSZXF1ZXN0ZXIpO1xuXG5leHBvcnQgeyBjcmVhdGVIVFRQQmF0Y2hMaW5rIGFzIGMsIGh0dHBCYXRjaExpbmsgYXMgaCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/httpBatchLink-d0f9eac9.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/client/dist/httpUtils-b9d0cb48.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/httpUtils-b9d0cb48.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   a: () => (/* binding */ getBody),\n/* harmony export */   b: () => (/* binding */ getFetch),\n/* harmony export */   f: () => (/* binding */ fetchHTTPResponse),\n/* harmony export */   g: () => (/* binding */ getUrl),\n/* harmony export */   h: () => (/* binding */ httpRequest),\n/* harmony export */   j: () => (/* binding */ jsonHttpRequester),\n/* harmony export */   r: () => (/* binding */ resolveHTTPLinkOptions)\n/* harmony export */ });\n/* harmony import */ var _TRPCClientError_38f9a32a_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TRPCClientError-38f9a32a.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/TRPCClientError-38f9a32a.mjs\");\n\n\nconst isFunction = (fn)=>typeof fn === 'function';\nfunction getFetch(customFetchImpl) {\n    if (customFetchImpl) {\n        return customFetchImpl;\n    }\n    if (typeof window !== 'undefined' && isFunction(window.fetch)) {\n        return window.fetch;\n    }\n    if (typeof globalThis !== 'undefined' && isFunction(globalThis.fetch)) {\n        return globalThis.fetch;\n    }\n    throw new Error('No fetch implementation found');\n}\n\nfunction getAbortController(customAbortControllerImpl) {\n    if (customAbortControllerImpl) {\n        return customAbortControllerImpl;\n    }\n    // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n    if (typeof window !== 'undefined' && window.AbortController) {\n        return window.AbortController;\n    }\n    // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n    if (typeof globalThis !== 'undefined' && globalThis.AbortController) {\n        return globalThis.AbortController;\n    }\n    return null;\n}\n\nfunction resolveHTTPLinkOptions(opts) {\n    return {\n        url: opts.url.toString().replace(/\\/$/, ''),\n        fetch: opts.fetch,\n        AbortController: getAbortController(opts.AbortController)\n    };\n}\n// https://github.com/trpc/trpc/pull/669\nfunction arrayToDict(array) {\n    const dict = {};\n    for(let index = 0; index < array.length; index++){\n        const element = array[index];\n        dict[index] = element;\n    }\n    return dict;\n}\nconst METHOD = {\n    query: 'GET',\n    mutation: 'POST'\n};\nfunction getInput(opts) {\n    return 'input' in opts ? opts.runtime.transformer.serialize(opts.input) : arrayToDict(opts.inputs.map((_input)=>opts.runtime.transformer.serialize(_input)));\n}\nconst getUrl = (opts)=>{\n    let url = opts.url + '/' + opts.path;\n    const queryParts = [];\n    if ('inputs' in opts) {\n        queryParts.push('batch=1');\n    }\n    if (opts.type === 'query') {\n        const input = getInput(opts);\n        if (input !== undefined) {\n            queryParts.push(`input=${encodeURIComponent(JSON.stringify(input))}`);\n        }\n    }\n    if (queryParts.length) {\n        url += '?' + queryParts.join('&');\n    }\n    return url;\n};\nconst getBody = (opts)=>{\n    if (opts.type === 'query') {\n        return undefined;\n    }\n    const input = getInput(opts);\n    return input !== undefined ? JSON.stringify(input) : undefined;\n};\nconst jsonHttpRequester = (opts)=>{\n    return httpRequest({\n        ...opts,\n        contentTypeHeader: 'application/json',\n        getUrl,\n        getBody\n    });\n};\nasync function fetchHTTPResponse(opts, ac) {\n    const url = opts.getUrl(opts);\n    const body = opts.getBody(opts);\n    const { type  } = opts;\n    const resolvedHeaders = await opts.headers();\n    /* istanbul ignore if -- @preserve */ if (type === 'subscription') {\n        throw new Error('Subscriptions should use wsLink');\n    }\n    const headers = {\n        ...opts.contentTypeHeader ? {\n            'content-type': opts.contentTypeHeader\n        } : {},\n        ...opts.batchModeHeader ? {\n            'trpc-batch-mode': opts.batchModeHeader\n        } : {},\n        ...resolvedHeaders\n    };\n    return getFetch(opts.fetch)(url, {\n        method: METHOD[type],\n        signal: ac?.signal,\n        body: body,\n        headers\n    });\n}\nfunction httpRequest(opts) {\n    const ac = opts.AbortController ? new opts.AbortController() : null;\n    const meta = {};\n    let done = false;\n    const promise = new Promise((resolve, reject)=>{\n        fetchHTTPResponse(opts, ac).then((_res)=>{\n            meta.response = _res;\n            done = true;\n            return _res.json();\n        }).then((json)=>{\n            meta.responseJSON = json;\n            resolve({\n                json: json,\n                meta\n            });\n        }).catch((err)=>{\n            done = true;\n            reject(_TRPCClientError_38f9a32a_mjs__WEBPACK_IMPORTED_MODULE_0__.T.from(err, {\n                meta\n            }));\n        });\n    });\n    const cancel = ()=>{\n        if (!done) {\n            ac?.abort();\n        }\n    };\n    return {\n        promise,\n        cancel\n    };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvaHR0cFV0aWxzLWI5ZDBjYjQ4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRTs7QUFFdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDBDQUEwQztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxJQUFJO0FBQ2Q7QUFDQTtBQUNBLFVBQVUsSUFBSTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLG1CQUFtQiw0REFBZTtBQUNsQztBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVtSiIsInNvdXJjZXMiOlsid2VicGFjazovL21vdmllLXJldmlldy1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvaHR0cFV0aWxzLWI5ZDBjYjQ4Lm1qcz9hODgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFQgYXMgVFJQQ0NsaWVudEVycm9yIH0gZnJvbSAnLi9UUlBDQ2xpZW50RXJyb3ItMzhmOWEzMmEubWpzJztcblxuY29uc3QgaXNGdW5jdGlvbiA9IChmbik9PnR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJztcbmZ1bmN0aW9uIGdldEZldGNoKGN1c3RvbUZldGNoSW1wbCkge1xuICAgIGlmIChjdXN0b21GZXRjaEltcGwpIHtcbiAgICAgICAgcmV0dXJuIGN1c3RvbUZldGNoSW1wbDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIGlzRnVuY3Rpb24od2luZG93LmZldGNoKSkge1xuICAgICAgICByZXR1cm4gd2luZG93LmZldGNoO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnICYmIGlzRnVuY3Rpb24oZ2xvYmFsVGhpcy5mZXRjaCkpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXMuZmV0Y2g7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignTm8gZmV0Y2ggaW1wbGVtZW50YXRpb24gZm91bmQnKTtcbn1cblxuZnVuY3Rpb24gZ2V0QWJvcnRDb250cm9sbGVyKGN1c3RvbUFib3J0Q29udHJvbGxlckltcGwpIHtcbiAgICBpZiAoY3VzdG9tQWJvcnRDb250cm9sbGVySW1wbCkge1xuICAgICAgICByZXR1cm4gY3VzdG9tQWJvcnRDb250cm9sbGVySW1wbDtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9wcmVmZXItb3B0aW9uYWwtY2hhaW5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LkFib3J0Q29udHJvbGxlcikge1xuICAgICAgICByZXR1cm4gd2luZG93LkFib3J0Q29udHJvbGxlcjtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9wcmVmZXItb3B0aW9uYWwtY2hhaW5cbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbFRoaXMuQWJvcnRDb250cm9sbGVyKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzLkFib3J0Q29udHJvbGxlcjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVIVFRQTGlua09wdGlvbnMob3B0cykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHVybDogb3B0cy51cmwudG9TdHJpbmcoKS5yZXBsYWNlKC9cXC8kLywgJycpLFxuICAgICAgICBmZXRjaDogb3B0cy5mZXRjaCxcbiAgICAgICAgQWJvcnRDb250cm9sbGVyOiBnZXRBYm9ydENvbnRyb2xsZXIob3B0cy5BYm9ydENvbnRyb2xsZXIpXG4gICAgfTtcbn1cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90cnBjL3RycGMvcHVsbC82NjlcbmZ1bmN0aW9uIGFycmF5VG9EaWN0KGFycmF5KSB7XG4gICAgY29uc3QgZGljdCA9IHt9O1xuICAgIGZvcihsZXQgaW5kZXggPSAwOyBpbmRleCA8IGFycmF5Lmxlbmd0aDsgaW5kZXgrKyl7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGRpY3RbaW5kZXhdID0gZWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIGRpY3Q7XG59XG5jb25zdCBNRVRIT0QgPSB7XG4gICAgcXVlcnk6ICdHRVQnLFxuICAgIG11dGF0aW9uOiAnUE9TVCdcbn07XG5mdW5jdGlvbiBnZXRJbnB1dChvcHRzKSB7XG4gICAgcmV0dXJuICdpbnB1dCcgaW4gb3B0cyA/IG9wdHMucnVudGltZS50cmFuc2Zvcm1lci5zZXJpYWxpemUob3B0cy5pbnB1dCkgOiBhcnJheVRvRGljdChvcHRzLmlucHV0cy5tYXAoKF9pbnB1dCk9Pm9wdHMucnVudGltZS50cmFuc2Zvcm1lci5zZXJpYWxpemUoX2lucHV0KSkpO1xufVxuY29uc3QgZ2V0VXJsID0gKG9wdHMpPT57XG4gICAgbGV0IHVybCA9IG9wdHMudXJsICsgJy8nICsgb3B0cy5wYXRoO1xuICAgIGNvbnN0IHF1ZXJ5UGFydHMgPSBbXTtcbiAgICBpZiAoJ2lucHV0cycgaW4gb3B0cykge1xuICAgICAgICBxdWVyeVBhcnRzLnB1c2goJ2JhdGNoPTEnKTtcbiAgICB9XG4gICAgaWYgKG9wdHMudHlwZSA9PT0gJ3F1ZXJ5Jykge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGdldElucHV0KG9wdHMpO1xuICAgICAgICBpZiAoaW5wdXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJ0cy5wdXNoKGBpbnB1dD0ke2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShpbnB1dCkpfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChxdWVyeVBhcnRzLmxlbmd0aCkge1xuICAgICAgICB1cmwgKz0gJz8nICsgcXVlcnlQYXJ0cy5qb2luKCcmJyk7XG4gICAgfVxuICAgIHJldHVybiB1cmw7XG59O1xuY29uc3QgZ2V0Qm9keSA9IChvcHRzKT0+e1xuICAgIGlmIChvcHRzLnR5cGUgPT09ICdxdWVyeScpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgaW5wdXQgPSBnZXRJbnB1dChvcHRzKTtcbiAgICByZXR1cm4gaW5wdXQgIT09IHVuZGVmaW5lZCA/IEpTT04uc3RyaW5naWZ5KGlucHV0KSA6IHVuZGVmaW5lZDtcbn07XG5jb25zdCBqc29uSHR0cFJlcXVlc3RlciA9IChvcHRzKT0+e1xuICAgIHJldHVybiBodHRwUmVxdWVzdCh7XG4gICAgICAgIC4uLm9wdHMsXG4gICAgICAgIGNvbnRlbnRUeXBlSGVhZGVyOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIGdldFVybCxcbiAgICAgICAgZ2V0Qm9keVxuICAgIH0pO1xufTtcbmFzeW5jIGZ1bmN0aW9uIGZldGNoSFRUUFJlc3BvbnNlKG9wdHMsIGFjKSB7XG4gICAgY29uc3QgdXJsID0gb3B0cy5nZXRVcmwob3B0cyk7XG4gICAgY29uc3QgYm9keSA9IG9wdHMuZ2V0Qm9keShvcHRzKTtcbiAgICBjb25zdCB7IHR5cGUgIH0gPSBvcHRzO1xuICAgIGNvbnN0IHJlc29sdmVkSGVhZGVycyA9IGF3YWl0IG9wdHMuaGVhZGVycygpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAtLSBAcHJlc2VydmUgKi8gaWYgKHR5cGUgPT09ICdzdWJzY3JpcHRpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU3Vic2NyaXB0aW9ucyBzaG91bGQgdXNlIHdzTGluaycpO1xuICAgIH1cbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICAuLi5vcHRzLmNvbnRlbnRUeXBlSGVhZGVyID8ge1xuICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6IG9wdHMuY29udGVudFR5cGVIZWFkZXJcbiAgICAgICAgfSA6IHt9LFxuICAgICAgICAuLi5vcHRzLmJhdGNoTW9kZUhlYWRlciA/IHtcbiAgICAgICAgICAgICd0cnBjLWJhdGNoLW1vZGUnOiBvcHRzLmJhdGNoTW9kZUhlYWRlclxuICAgICAgICB9IDoge30sXG4gICAgICAgIC4uLnJlc29sdmVkSGVhZGVyc1xuICAgIH07XG4gICAgcmV0dXJuIGdldEZldGNoKG9wdHMuZmV0Y2gpKHVybCwge1xuICAgICAgICBtZXRob2Q6IE1FVEhPRFt0eXBlXSxcbiAgICAgICAgc2lnbmFsOiBhYz8uc2lnbmFsLFxuICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICBoZWFkZXJzXG4gICAgfSk7XG59XG5mdW5jdGlvbiBodHRwUmVxdWVzdChvcHRzKSB7XG4gICAgY29uc3QgYWMgPSBvcHRzLkFib3J0Q29udHJvbGxlciA/IG5ldyBvcHRzLkFib3J0Q29udHJvbGxlcigpIDogbnVsbDtcbiAgICBjb25zdCBtZXRhID0ge307XG4gICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICAgICAgZmV0Y2hIVFRQUmVzcG9uc2Uob3B0cywgYWMpLnRoZW4oKF9yZXMpPT57XG4gICAgICAgICAgICBtZXRhLnJlc3BvbnNlID0gX3JlcztcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIF9yZXMuanNvbigpO1xuICAgICAgICB9KS50aGVuKChqc29uKT0+e1xuICAgICAgICAgICAgbWV0YS5yZXNwb25zZUpTT04gPSBqc29uO1xuICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAganNvbjoganNvbixcbiAgICAgICAgICAgICAgICBtZXRhXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkuY2F0Y2goKGVycik9PntcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgcmVqZWN0KFRSUENDbGllbnRFcnJvci5mcm9tKGVyciwge1xuICAgICAgICAgICAgICAgIG1ldGFcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29uc3QgY2FuY2VsID0gKCk9PntcbiAgICAgICAgaWYgKCFkb25lKSB7XG4gICAgICAgICAgICBhYz8uYWJvcnQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvbWlzZSxcbiAgICAgICAgY2FuY2VsXG4gICAgfTtcbn1cblxuZXhwb3J0IHsgZ2V0Qm9keSBhcyBhLCBnZXRGZXRjaCBhcyBiLCBmZXRjaEhUVFBSZXNwb25zZSBhcyBmLCBnZXRVcmwgYXMgZywgaHR0cFJlcXVlc3QgYXMgaCwganNvbkh0dHBSZXF1ZXN0ZXIgYXMgaiwgcmVzb2x2ZUhUVFBMaW5rT3B0aW9ucyBhcyByIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/httpUtils-b9d0cb48.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/client/dist/index.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@trpc/client/dist/index.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TRPCClientError: () => (/* reexport safe */ _TRPCClientError_38f9a32a_mjs__WEBPACK_IMPORTED_MODULE_2__.T),\n/* harmony export */   TRPCUntypedClient: () => (/* binding */ TRPCUntypedClient),\n/* harmony export */   clientCallTypeToProcedureType: () => (/* binding */ clientCallTypeToProcedureType),\n/* harmony export */   createTRPCClient: () => (/* binding */ createTRPCClient),\n/* harmony export */   createTRPCClientProxy: () => (/* binding */ createTRPCClientProxy),\n/* harmony export */   createTRPCProxyClient: () => (/* binding */ createTRPCProxyClient),\n/* harmony export */   createTRPCUntypedClient: () => (/* binding */ createTRPCUntypedClient),\n/* harmony export */   createWSClient: () => (/* reexport safe */ _links_wsLink_mjs__WEBPACK_IMPORTED_MODULE_8__.createWSClient),\n/* harmony export */   experimental_formDataLink: () => (/* binding */ experimental_formDataLink),\n/* harmony export */   getFetch: () => (/* reexport safe */ _httpUtils_b9d0cb48_mjs__WEBPACK_IMPORTED_MODULE_4__.b),\n/* harmony export */   getUntypedClient: () => (/* binding */ getUntypedClient),\n/* harmony export */   httpBatchLink: () => (/* reexport safe */ _httpBatchLink_d0f9eac9_mjs__WEBPACK_IMPORTED_MODULE_5__.h),\n/* harmony export */   httpLink: () => (/* reexport safe */ _links_httpLink_mjs__WEBPACK_IMPORTED_MODULE_6__.httpLink),\n/* harmony export */   httpLinkFactory: () => (/* reexport safe */ _links_httpLink_mjs__WEBPACK_IMPORTED_MODULE_6__.httpLinkFactory),\n/* harmony export */   loggerLink: () => (/* reexport safe */ _links_loggerLink_mjs__WEBPACK_IMPORTED_MODULE_7__.loggerLink),\n/* harmony export */   splitLink: () => (/* reexport safe */ _splitLink_4c75f7be_mjs__WEBPACK_IMPORTED_MODULE_1__.s),\n/* harmony export */   unstable_httpBatchStreamLink: () => (/* binding */ unstable_httpBatchStreamLink),\n/* harmony export */   wsLink: () => (/* reexport safe */ _links_wsLink_mjs__WEBPACK_IMPORTED_MODULE_8__.wsLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(ssr)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n/* harmony import */ var _splitLink_4c75f7be_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./splitLink-4c75f7be.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/splitLink-4c75f7be.mjs\");\n/* harmony import */ var _TRPCClientError_38f9a32a_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TRPCClientError-38f9a32a.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/TRPCClientError-38f9a32a.mjs\");\n/* harmony import */ var _trpc_server_shared__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @trpc/server/shared */ \"(ssr)/./node_modules/@trpc/server/dist/shared/index.mjs\");\n/* harmony import */ var _httpUtils_b9d0cb48_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./httpUtils-b9d0cb48.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/httpUtils-b9d0cb48.mjs\");\n/* harmony import */ var _httpBatchLink_d0f9eac9_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./httpBatchLink-d0f9eac9.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/httpBatchLink-d0f9eac9.mjs\");\n/* harmony import */ var _links_httpLink_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./links/httpLink.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/links/httpLink.mjs\");\n/* harmony import */ var _links_loggerLink_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./links/loggerLink.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/links/loggerLink.mjs\");\n/* harmony import */ var _links_wsLink_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./links/wsLink.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/links/wsLink.mjs\");\n/* harmony import */ var _transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./transformResult-ace864b8.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass TRPCUntypedClient {\n    $request({ type , input , path , context ={}  }) {\n        const chain$ = (0,_splitLink_4c75f7be_mjs__WEBPACK_IMPORTED_MODULE_1__.c)({\n            links: this.links,\n            op: {\n                id: ++this.requestId,\n                type,\n                path,\n                input,\n                context\n            }\n        });\n        return chain$.pipe((0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.share)());\n    }\n    requestAsPromise(opts) {\n        const req$ = this.$request(opts);\n        const { promise , abort  } = (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observableToPromise)(req$);\n        const abortablePromise = new Promise((resolve, reject)=>{\n            opts.signal?.addEventListener('abort', abort);\n            promise.then((envelope)=>{\n                resolve(envelope.result.data);\n            }).catch((err)=>{\n                reject(_TRPCClientError_38f9a32a_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(err));\n            });\n        });\n        return abortablePromise;\n    }\n    query(path, input, opts) {\n        return this.requestAsPromise({\n            type: 'query',\n            path,\n            input,\n            context: opts?.context,\n            signal: opts?.signal\n        });\n    }\n    mutation(path, input, opts) {\n        return this.requestAsPromise({\n            type: 'mutation',\n            path,\n            input,\n            context: opts?.context,\n            signal: opts?.signal\n        });\n    }\n    subscription(path, input, opts) {\n        const observable$ = this.$request({\n            type: 'subscription',\n            path,\n            input,\n            context: opts?.context\n        });\n        return observable$.subscribe({\n            next (envelope) {\n                if (envelope.result.type === 'started') {\n                    opts.onStarted?.();\n                } else if (envelope.result.type === 'stopped') {\n                    opts.onStopped?.();\n                } else {\n                    opts.onData?.(envelope.result.data);\n                }\n            },\n            error (err) {\n                opts.onError?.(err);\n            },\n            complete () {\n                opts.onComplete?.();\n            }\n        });\n    }\n    constructor(opts){\n        this.requestId = 0;\n        const combinedTransformer = (()=>{\n            const transformer = opts.transformer;\n            if (!transformer) {\n                return {\n                    input: {\n                        serialize: (data)=>data,\n                        deserialize: (data)=>data\n                    },\n                    output: {\n                        serialize: (data)=>data,\n                        deserialize: (data)=>data\n                    }\n                };\n            }\n            if ('input' in transformer) {\n                return opts.transformer;\n            }\n            return {\n                input: transformer,\n                output: transformer\n            };\n        })();\n        this.runtime = {\n            transformer: {\n                serialize: (data)=>combinedTransformer.input.serialize(data),\n                deserialize: (data)=>combinedTransformer.output.deserialize(data)\n            },\n            combinedTransformer\n        };\n        // Initialize the links\n        this.links = opts.links.map((link)=>link(this.runtime));\n    }\n}\n\nfunction createTRPCUntypedClient(opts) {\n    return new TRPCUntypedClient(opts);\n}\n\n/**\n * @deprecated use `createTRPCProxyClient` instead\n */ function createTRPCClient(opts) {\n    const client = new TRPCUntypedClient(opts);\n    return client;\n}\n\nconst clientCallTypeMap = {\n    query: 'query',\n    mutate: 'mutation',\n    subscribe: 'subscription'\n};\n/** @internal */ const clientCallTypeToProcedureType = (clientCallType)=>{\n    return clientCallTypeMap[clientCallType];\n};\n/**\n * @deprecated use `createTRPCProxyClient` instead\n * @internal\n */ function createTRPCClientProxy(client) {\n    return (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_3__.createFlatProxy)((key)=>{\n        if (client.hasOwnProperty(key)) {\n            return client[key];\n        }\n        if (key === '__untypedClient') {\n            return client;\n        }\n        return (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_3__.createRecursiveProxy)(({ path , args  })=>{\n            const pathCopy = [\n                key,\n                ...path\n            ];\n            const procedureType = clientCallTypeToProcedureType(pathCopy.pop());\n            const fullPath = pathCopy.join('.');\n            return client[procedureType](fullPath, ...args);\n        });\n    });\n}\nfunction createTRPCProxyClient(opts) {\n    const client = new TRPCUntypedClient(opts);\n    const proxy = createTRPCClientProxy(client);\n    return proxy;\n}\n/**\n * Get an untyped client from a proxy client\n * @internal\n */ function getUntypedClient(client) {\n    return client.__untypedClient;\n}\n\nfunction getTextDecoder(customTextDecoder) {\n    if (customTextDecoder) {\n        return customTextDecoder;\n    }\n    // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n    if (typeof window !== 'undefined' && window.TextDecoder) {\n        return new window.TextDecoder();\n    }\n    // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n    if (typeof globalThis !== 'undefined' && globalThis.TextDecoder) {\n        return new globalThis.TextDecoder();\n    }\n    throw new Error('No TextDecoder implementation found');\n}\n\n// Stream parsing adapted from https://www.loginradius.com/blog/engineering/guest-post/http-streaming-with-nodejs-and-fetch-api/\n/**\n * @internal\n * @description Take a stream of bytes and call `onLine` with\n * a JSON object for each line in the stream. Expected stream\n * format is:\n * ```json\n * {\"1\": {...}\n * ,\"0\": {...}\n * }\n * ```\n */ async function parseJSONStream(opts) {\n    const parse = opts.parse ?? JSON.parse;\n    const onLine = (line)=>{\n        if (opts.signal?.aborted) return;\n        if (!line || line === '}') {\n            return;\n        }\n        /**\n     * At this point, `line` can be one of two things:\n     * - The first line of the stream `{\"2\":{...}`\n     * - A line in the middle of the stream `,\"2\":{...}`\n     */ const indexOfColon = line.indexOf(':');\n        const indexAsStr = line.substring(2, indexOfColon - 1);\n        const text = line.substring(indexOfColon + 1);\n        opts.onSingle(Number(indexAsStr), parse(text));\n    };\n    await readLines(opts.readableStream, onLine, opts.textDecoder);\n}\n/**\n * Handle transforming a stream of bytes into lines of text.\n * To avoid using AsyncIterators / AsyncGenerators,\n * we use a callback for each line.\n *\n * @param readableStream can be a NodeJS stream or a WebAPI stream\n * @param onLine will be called for every line ('\\n' delimited) in the stream\n */ async function readLines(readableStream, onLine, textDecoder) {\n    let partOfLine = '';\n    const onChunk = (chunk)=>{\n        const chunkText = textDecoder.decode(chunk);\n        const chunkLines = chunkText.split('\\n');\n        if (chunkLines.length === 1) {\n            partOfLine += chunkLines[0];\n        } else if (chunkLines.length > 1) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- length checked on line above\n            onLine(partOfLine + chunkLines[0]);\n            for(let i = 1; i < chunkLines.length - 1; i++){\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- length checked on line above\n                onLine(chunkLines[i]);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- length doesn't change, so is necessarily > 1\n            partOfLine = chunkLines[chunkLines.length - 1];\n        }\n    };\n    // we handle 2 different types of streams, this if where we figure out which one we have\n    if ('getReader' in readableStream) {\n        await readStandardChunks(readableStream, onChunk);\n    } else {\n        await readNodeChunks(readableStream, onChunk);\n    }\n    onLine(partOfLine);\n}\n/**\n * Handle NodeJS stream\n */ function readNodeChunks(stream, onChunk) {\n    return new Promise((resolve)=>{\n        stream.on('data', onChunk);\n        stream.on('end', resolve);\n    });\n}\n/**\n * Handle WebAPI stream\n */ async function readStandardChunks(stream, onChunk) {\n    const reader = stream.getReader();\n    let readResult = await reader.read();\n    while(!readResult.done){\n        onChunk(readResult.value);\n        readResult = await reader.read();\n    }\n}\nconst streamingJsonHttpRequester = (opts, onSingle)=>{\n    const ac = opts.AbortController ? new opts.AbortController() : null;\n    const responsePromise = (0,_httpUtils_b9d0cb48_mjs__WEBPACK_IMPORTED_MODULE_4__.f)({\n        ...opts,\n        contentTypeHeader: 'application/json',\n        batchModeHeader: 'stream',\n        getUrl: _httpUtils_b9d0cb48_mjs__WEBPACK_IMPORTED_MODULE_4__.g,\n        getBody: _httpUtils_b9d0cb48_mjs__WEBPACK_IMPORTED_MODULE_4__.a\n    }, ac);\n    const cancel = ()=>ac?.abort();\n    const promise = responsePromise.then(async (res)=>{\n        if (!res.body) throw new Error('Received response without body');\n        const meta = {\n            response: res\n        };\n        return parseJSONStream({\n            readableStream: res.body,\n            onSingle,\n            parse: (string)=>({\n                    json: JSON.parse(string),\n                    meta\n                }),\n            signal: ac?.signal,\n            textDecoder: opts.textDecoder\n        });\n    });\n    return {\n        cancel,\n        promise\n    };\n};\n\nconst streamRequester = (requesterOpts)=>{\n    const textDecoder = getTextDecoder(requesterOpts.opts.textDecoder);\n    return (batchOps, unitResolver)=>{\n        const path = batchOps.map((op)=>op.path).join(',');\n        const inputs = batchOps.map((op)=>op.input);\n        const { cancel , promise  } = streamingJsonHttpRequester({\n            ...requesterOpts,\n            textDecoder,\n            path,\n            inputs,\n            headers () {\n                if (!requesterOpts.opts.headers) {\n                    return {};\n                }\n                if (typeof requesterOpts.opts.headers === 'function') {\n                    return requesterOpts.opts.headers({\n                        opList: batchOps\n                    });\n                }\n                return requesterOpts.opts.headers;\n            }\n        }, (index, res)=>{\n            unitResolver(index, res);\n        });\n        return {\n            /**\n       * return an empty array because the batchLoader expects an array of results\n       * but we've already called the `unitResolver` for each of them, there's\n       * nothing left to do here.\n       */ promise: promise.then(()=>[]),\n            cancel\n        };\n    };\n};\nconst unstable_httpBatchStreamLink = (0,_httpBatchLink_d0f9eac9_mjs__WEBPACK_IMPORTED_MODULE_5__.c)(streamRequester);\n\nconst getBody = (opts)=>{\n    if (!('input' in opts)) {\n        return undefined;\n    }\n    if (!(opts.input instanceof FormData)) {\n        throw new Error('Input is not FormData');\n    }\n    return opts.input;\n};\nconst formDataRequester = (opts)=>{\n    if (opts.type !== 'mutation') {\n        // TODO(?) handle formdata queries\n        throw new Error('We only handle mutations with formdata');\n    }\n    return (0,_httpUtils_b9d0cb48_mjs__WEBPACK_IMPORTED_MODULE_4__.h)({\n        ...opts,\n        getUrl () {\n            return `${opts.url}/${opts.path}`;\n        },\n        getBody\n    });\n};\nconst experimental_formDataLink = (0,_links_httpLink_mjs__WEBPACK_IMPORTED_MODULE_6__.httpLinkFactory)({\n    requester: formDataRequester\n});\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBcUU7QUFDVDtBQUNGO0FBQ1k7QUFDQTtBQUNNO0FBQ3FDO0FBQ3hEO0FBQ2U7QUFDTjtBQUNYO0FBQ1U7QUFDYjtBQUNRO0FBQ3BCOztBQUV4QztBQUNBLGVBQWUsb0NBQW9DO0FBQ25ELHVCQUF1QiwwREFBVztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDJCQUEyQiw4REFBSztBQUNoQztBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUJBQW1CLEVBQUUsNEVBQW1CO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLHVCQUF1Qiw0REFBZTtBQUN0QyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvRUFBZTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlFQUFvQixJQUFJLGNBQWM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxNQUFNO0FBQ1YsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxLQUFLLElBQUk7QUFDakQsbURBQW1ELElBQUk7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSwyQkFBMkIsMkJBQTJCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDBEQUFpQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsaUJBQWlCLHNEQUFTO0FBQzFCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9CQUFvQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw4REFBbUI7O0FBRXhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDBEQUFXO0FBQ3RCO0FBQ0E7QUFDQSxzQkFBc0IsU0FBUyxHQUFHLFVBQVU7QUFDNUMsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0Esa0NBQWtDLG9FQUFlO0FBQ2pEO0FBQ0EsQ0FBQzs7QUFFK04iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb3ZpZS1yZXZpZXctYXBwLy4vbm9kZV9tb2R1bGVzL0B0cnBjL2NsaWVudC9kaXN0L2luZGV4Lm1qcz80ZjZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNoYXJlLCBvYnNlcnZhYmxlVG9Qcm9taXNlIH0gZnJvbSAnQHRycGMvc2VydmVyL29ic2VydmFibGUnO1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVDaGFpbiB9IGZyb20gJy4vc3BsaXRMaW5rLTRjNzVmN2JlLm1qcyc7XG5leHBvcnQgeyBzIGFzIHNwbGl0TGluayB9IGZyb20gJy4vc3BsaXRMaW5rLTRjNzVmN2JlLm1qcyc7XG5pbXBvcnQgeyBUIGFzIFRSUENDbGllbnRFcnJvciB9IGZyb20gJy4vVFJQQ0NsaWVudEVycm9yLTM4ZjlhMzJhLm1qcyc7XG5leHBvcnQgeyBUIGFzIFRSUENDbGllbnRFcnJvciB9IGZyb20gJy4vVFJQQ0NsaWVudEVycm9yLTM4ZjlhMzJhLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVGbGF0UHJveHksIGNyZWF0ZVJlY3Vyc2l2ZVByb3h5IH0gZnJvbSAnQHRycGMvc2VydmVyL3NoYXJlZCc7XG5pbXBvcnQgeyBmIGFzIGZldGNoSFRUUFJlc3BvbnNlLCBnIGFzIGdldFVybCwgYSBhcyBnZXRCb2R5JDEsIGggYXMgaHR0cFJlcXVlc3QgfSBmcm9tICcuL2h0dHBVdGlscy1iOWQwY2I0OC5tanMnO1xuZXhwb3J0IHsgYiBhcyBnZXRGZXRjaCB9IGZyb20gJy4vaHR0cFV0aWxzLWI5ZDBjYjQ4Lm1qcyc7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUhUVFBCYXRjaExpbmsgfSBmcm9tICcuL2h0dHBCYXRjaExpbmstZDBmOWVhYzkubWpzJztcbmV4cG9ydCB7IGggYXMgaHR0cEJhdGNoTGluayB9IGZyb20gJy4vaHR0cEJhdGNoTGluay1kMGY5ZWFjOS5tanMnO1xuaW1wb3J0IHsgaHR0cExpbmtGYWN0b3J5IH0gZnJvbSAnLi9saW5rcy9odHRwTGluay5tanMnO1xuZXhwb3J0IHsgaHR0cExpbmssIGh0dHBMaW5rRmFjdG9yeSB9IGZyb20gJy4vbGlua3MvaHR0cExpbmsubWpzJztcbmV4cG9ydCB7IGxvZ2dlckxpbmsgfSBmcm9tICcuL2xpbmtzL2xvZ2dlckxpbmsubWpzJztcbmV4cG9ydCB7IGNyZWF0ZVdTQ2xpZW50LCB3c0xpbmsgfSBmcm9tICcuL2xpbmtzL3dzTGluay5tanMnO1xuaW1wb3J0ICcuL3RyYW5zZm9ybVJlc3VsdC1hY2U4NjRiOC5tanMnO1xuXG5jbGFzcyBUUlBDVW50eXBlZENsaWVudCB7XG4gICAgJHJlcXVlc3QoeyB0eXBlICwgaW5wdXQgLCBwYXRoICwgY29udGV4dCA9e30gIH0pIHtcbiAgICAgICAgY29uc3QgY2hhaW4kID0gY3JlYXRlQ2hhaW4oe1xuICAgICAgICAgICAgbGlua3M6IHRoaXMubGlua3MsXG4gICAgICAgICAgICBvcDoge1xuICAgICAgICAgICAgICAgIGlkOiArK3RoaXMucmVxdWVzdElkLFxuICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBjb250ZXh0XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2hhaW4kLnBpcGUoc2hhcmUoKSk7XG4gICAgfVxuICAgIHJlcXVlc3RBc1Byb21pc2Uob3B0cykge1xuICAgICAgICBjb25zdCByZXEkID0gdGhpcy4kcmVxdWVzdChvcHRzKTtcbiAgICAgICAgY29uc3QgeyBwcm9taXNlICwgYWJvcnQgIH0gPSBvYnNlcnZhYmxlVG9Qcm9taXNlKHJlcSQpO1xuICAgICAgICBjb25zdCBhYm9ydGFibGVQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICAgICAgICAgIG9wdHMuc2lnbmFsPy5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0KTtcbiAgICAgICAgICAgIHByb21pc2UudGhlbigoZW52ZWxvcGUpPT57XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShlbnZlbG9wZS5yZXN1bHQuZGF0YSk7XG4gICAgICAgICAgICB9KS5jYXRjaCgoZXJyKT0+e1xuICAgICAgICAgICAgICAgIHJlamVjdChUUlBDQ2xpZW50RXJyb3IuZnJvbShlcnIpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGFib3J0YWJsZVByb21pc2U7XG4gICAgfVxuICAgIHF1ZXJ5KHBhdGgsIGlucHV0LCBvcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RBc1Byb21pc2Uoe1xuICAgICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGNvbnRleHQ6IG9wdHM/LmNvbnRleHQsXG4gICAgICAgICAgICBzaWduYWw6IG9wdHM/LnNpZ25hbFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbXV0YXRpb24ocGF0aCwgaW5wdXQsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdEFzUHJvbWlzZSh7XG4gICAgICAgICAgICB0eXBlOiAnbXV0YXRpb24nLFxuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgY29udGV4dDogb3B0cz8uY29udGV4dCxcbiAgICAgICAgICAgIHNpZ25hbDogb3B0cz8uc2lnbmFsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdWJzY3JpcHRpb24ocGF0aCwgaW5wdXQsIG9wdHMpIHtcbiAgICAgICAgY29uc3Qgb2JzZXJ2YWJsZSQgPSB0aGlzLiRyZXF1ZXN0KHtcbiAgICAgICAgICAgIHR5cGU6ICdzdWJzY3JpcHRpb24nLFxuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgY29udGV4dDogb3B0cz8uY29udGV4dFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGUkLnN1YnNjcmliZSh7XG4gICAgICAgICAgICBuZXh0IChlbnZlbG9wZSkge1xuICAgICAgICAgICAgICAgIGlmIChlbnZlbG9wZS5yZXN1bHQudHlwZSA9PT0gJ3N0YXJ0ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdHMub25TdGFydGVkPy4oKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVudmVsb3BlLnJlc3VsdC50eXBlID09PSAnc3RvcHBlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5vblN0b3BwZWQ/LigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdHMub25EYXRhPy4oZW52ZWxvcGUucmVzdWx0LmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvciAoZXJyKSB7XG4gICAgICAgICAgICAgICAgb3B0cy5vbkVycm9yPy4oZXJyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wbGV0ZSAoKSB7XG4gICAgICAgICAgICAgICAgb3B0cy5vbkNvbXBsZXRlPy4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKG9wdHMpe1xuICAgICAgICB0aGlzLnJlcXVlc3RJZCA9IDA7XG4gICAgICAgIGNvbnN0IGNvbWJpbmVkVHJhbnNmb3JtZXIgPSAoKCk9PntcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gb3B0cy50cmFuc2Zvcm1lcjtcbiAgICAgICAgICAgIGlmICghdHJhbnNmb3JtZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWFsaXplOiAoZGF0YSk9PmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNlcmlhbGl6ZTogKGRhdGEpPT5kYXRhXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWFsaXplOiAoZGF0YSk9PmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNlcmlhbGl6ZTogKGRhdGEpPT5kYXRhXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCdpbnB1dCcgaW4gdHJhbnNmb3JtZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy50cmFuc2Zvcm1lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IHRyYW5zZm9ybWVyLFxuICAgICAgICAgICAgICAgIG91dHB1dDogdHJhbnNmb3JtZXJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKCk7XG4gICAgICAgIHRoaXMucnVudGltZSA9IHtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyOiB7XG4gICAgICAgICAgICAgICAgc2VyaWFsaXplOiAoZGF0YSk9PmNvbWJpbmVkVHJhbnNmb3JtZXIuaW5wdXQuc2VyaWFsaXplKGRhdGEpLFxuICAgICAgICAgICAgICAgIGRlc2VyaWFsaXplOiAoZGF0YSk9PmNvbWJpbmVkVHJhbnNmb3JtZXIub3V0cHV0LmRlc2VyaWFsaXplKGRhdGEpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tYmluZWRUcmFuc2Zvcm1lclxuICAgICAgICB9O1xuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBsaW5rc1xuICAgICAgICB0aGlzLmxpbmtzID0gb3B0cy5saW5rcy5tYXAoKGxpbmspPT5saW5rKHRoaXMucnVudGltZSkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlVFJQQ1VudHlwZWRDbGllbnQob3B0cykge1xuICAgIHJldHVybiBuZXcgVFJQQ1VudHlwZWRDbGllbnQob3B0cyk7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIGBjcmVhdGVUUlBDUHJveHlDbGllbnRgIGluc3RlYWRcbiAqLyBmdW5jdGlvbiBjcmVhdGVUUlBDQ2xpZW50KG9wdHMpIHtcbiAgICBjb25zdCBjbGllbnQgPSBuZXcgVFJQQ1VudHlwZWRDbGllbnQob3B0cyk7XG4gICAgcmV0dXJuIGNsaWVudDtcbn1cblxuY29uc3QgY2xpZW50Q2FsbFR5cGVNYXAgPSB7XG4gICAgcXVlcnk6ICdxdWVyeScsXG4gICAgbXV0YXRlOiAnbXV0YXRpb24nLFxuICAgIHN1YnNjcmliZTogJ3N1YnNjcmlwdGlvbidcbn07XG4vKiogQGludGVybmFsICovIGNvbnN0IGNsaWVudENhbGxUeXBlVG9Qcm9jZWR1cmVUeXBlID0gKGNsaWVudENhbGxUeXBlKT0+e1xuICAgIHJldHVybiBjbGllbnRDYWxsVHlwZU1hcFtjbGllbnRDYWxsVHlwZV07XG59O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCB1c2UgYGNyZWF0ZVRSUENQcm94eUNsaWVudGAgaW5zdGVhZFxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gY3JlYXRlVFJQQ0NsaWVudFByb3h5KGNsaWVudCkge1xuICAgIHJldHVybiBjcmVhdGVGbGF0UHJveHkoKGtleSk9PntcbiAgICAgICAgaWYgKGNsaWVudC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50W2tleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleSA9PT0gJ19fdW50eXBlZENsaWVudCcpIHtcbiAgICAgICAgICAgIHJldHVybiBjbGllbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3Vyc2l2ZVByb3h5KCh7IHBhdGggLCBhcmdzICB9KT0+e1xuICAgICAgICAgICAgY29uc3QgcGF0aENvcHkgPSBbXG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIC4uLnBhdGhcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjb25zdCBwcm9jZWR1cmVUeXBlID0gY2xpZW50Q2FsbFR5cGVUb1Byb2NlZHVyZVR5cGUocGF0aENvcHkucG9wKCkpO1xuICAgICAgICAgICAgY29uc3QgZnVsbFBhdGggPSBwYXRoQ29weS5qb2luKCcuJyk7XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50W3Byb2NlZHVyZVR5cGVdKGZ1bGxQYXRoLCAuLi5hcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVUUlBDUHJveHlDbGllbnQob3B0cykge1xuICAgIGNvbnN0IGNsaWVudCA9IG5ldyBUUlBDVW50eXBlZENsaWVudChvcHRzKTtcbiAgICBjb25zdCBwcm94eSA9IGNyZWF0ZVRSUENDbGllbnRQcm94eShjbGllbnQpO1xuICAgIHJldHVybiBwcm94eTtcbn1cbi8qKlxuICogR2V0IGFuIHVudHlwZWQgY2xpZW50IGZyb20gYSBwcm94eSBjbGllbnRcbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIGdldFVudHlwZWRDbGllbnQoY2xpZW50KSB7XG4gICAgcmV0dXJuIGNsaWVudC5fX3VudHlwZWRDbGllbnQ7XG59XG5cbmZ1bmN0aW9uIGdldFRleHREZWNvZGVyKGN1c3RvbVRleHREZWNvZGVyKSB7XG4gICAgaWYgKGN1c3RvbVRleHREZWNvZGVyKSB7XG4gICAgICAgIHJldHVybiBjdXN0b21UZXh0RGVjb2RlcjtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9wcmVmZXItb3B0aW9uYWwtY2hhaW5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LlRleHREZWNvZGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgd2luZG93LlRleHREZWNvZGVyKCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcHJlZmVyLW9wdGlvbmFsLWNoYWluXG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWxUaGlzLlRleHREZWNvZGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgZ2xvYmFsVGhpcy5UZXh0RGVjb2RlcigpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIFRleHREZWNvZGVyIGltcGxlbWVudGF0aW9uIGZvdW5kJyk7XG59XG5cbi8vIFN0cmVhbSBwYXJzaW5nIGFkYXB0ZWQgZnJvbSBodHRwczovL3d3dy5sb2dpbnJhZGl1cy5jb20vYmxvZy9lbmdpbmVlcmluZy9ndWVzdC1wb3N0L2h0dHAtc3RyZWFtaW5nLXdpdGgtbm9kZWpzLWFuZC1mZXRjaC1hcGkvXG4vKipcbiAqIEBpbnRlcm5hbFxuICogQGRlc2NyaXB0aW9uIFRha2UgYSBzdHJlYW0gb2YgYnl0ZXMgYW5kIGNhbGwgYG9uTGluZWAgd2l0aFxuICogYSBKU09OIG9iamVjdCBmb3IgZWFjaCBsaW5lIGluIHRoZSBzdHJlYW0uIEV4cGVjdGVkIHN0cmVhbVxuICogZm9ybWF0IGlzOlxuICogYGBganNvblxuICoge1wiMVwiOiB7Li4ufVxuICogLFwiMFwiOiB7Li4ufVxuICogfVxuICogYGBgXG4gKi8gYXN5bmMgZnVuY3Rpb24gcGFyc2VKU09OU3RyZWFtKG9wdHMpIHtcbiAgICBjb25zdCBwYXJzZSA9IG9wdHMucGFyc2UgPz8gSlNPTi5wYXJzZTtcbiAgICBjb25zdCBvbkxpbmUgPSAobGluZSk9PntcbiAgICAgICAgaWYgKG9wdHMuc2lnbmFsPy5hYm9ydGVkKSByZXR1cm47XG4gICAgICAgIGlmICghbGluZSB8fCBsaW5lID09PSAnfScpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgKiBBdCB0aGlzIHBvaW50LCBgbGluZWAgY2FuIGJlIG9uZSBvZiB0d28gdGhpbmdzOlxuICAgICAqIC0gVGhlIGZpcnN0IGxpbmUgb2YgdGhlIHN0cmVhbSBge1wiMlwiOnsuLi59YFxuICAgICAqIC0gQSBsaW5lIGluIHRoZSBtaWRkbGUgb2YgdGhlIHN0cmVhbSBgLFwiMlwiOnsuLi59YFxuICAgICAqLyBjb25zdCBpbmRleE9mQ29sb24gPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICAgICAgY29uc3QgaW5kZXhBc1N0ciA9IGxpbmUuc3Vic3RyaW5nKDIsIGluZGV4T2ZDb2xvbiAtIDEpO1xuICAgICAgICBjb25zdCB0ZXh0ID0gbGluZS5zdWJzdHJpbmcoaW5kZXhPZkNvbG9uICsgMSk7XG4gICAgICAgIG9wdHMub25TaW5nbGUoTnVtYmVyKGluZGV4QXNTdHIpLCBwYXJzZSh0ZXh0KSk7XG4gICAgfTtcbiAgICBhd2FpdCByZWFkTGluZXMob3B0cy5yZWFkYWJsZVN0cmVhbSwgb25MaW5lLCBvcHRzLnRleHREZWNvZGVyKTtcbn1cbi8qKlxuICogSGFuZGxlIHRyYW5zZm9ybWluZyBhIHN0cmVhbSBvZiBieXRlcyBpbnRvIGxpbmVzIG9mIHRleHQuXG4gKiBUbyBhdm9pZCB1c2luZyBBc3luY0l0ZXJhdG9ycyAvIEFzeW5jR2VuZXJhdG9ycyxcbiAqIHdlIHVzZSBhIGNhbGxiYWNrIGZvciBlYWNoIGxpbmUuXG4gKlxuICogQHBhcmFtIHJlYWRhYmxlU3RyZWFtIGNhbiBiZSBhIE5vZGVKUyBzdHJlYW0gb3IgYSBXZWJBUEkgc3RyZWFtXG4gKiBAcGFyYW0gb25MaW5lIHdpbGwgYmUgY2FsbGVkIGZvciBldmVyeSBsaW5lICgnXFxuJyBkZWxpbWl0ZWQpIGluIHRoZSBzdHJlYW1cbiAqLyBhc3luYyBmdW5jdGlvbiByZWFkTGluZXMocmVhZGFibGVTdHJlYW0sIG9uTGluZSwgdGV4dERlY29kZXIpIHtcbiAgICBsZXQgcGFydE9mTGluZSA9ICcnO1xuICAgIGNvbnN0IG9uQ2h1bmsgPSAoY2h1bmspPT57XG4gICAgICAgIGNvbnN0IGNodW5rVGV4dCA9IHRleHREZWNvZGVyLmRlY29kZShjaHVuayk7XG4gICAgICAgIGNvbnN0IGNodW5rTGluZXMgPSBjaHVua1RleHQuc3BsaXQoJ1xcbicpO1xuICAgICAgICBpZiAoY2h1bmtMaW5lcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHBhcnRPZkxpbmUgKz0gY2h1bmtMaW5lc1swXTtcbiAgICAgICAgfSBlbHNlIGlmIChjaHVua0xpbmVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uIC0tIGxlbmd0aCBjaGVja2VkIG9uIGxpbmUgYWJvdmVcbiAgICAgICAgICAgIG9uTGluZShwYXJ0T2ZMaW5lICsgY2h1bmtMaW5lc1swXSk7XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAxOyBpIDwgY2h1bmtMaW5lcy5sZW5ndGggLSAxOyBpKyspe1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uIC0tIGxlbmd0aCBjaGVja2VkIG9uIGxpbmUgYWJvdmVcbiAgICAgICAgICAgICAgICBvbkxpbmUoY2h1bmtMaW5lc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiAtLSBsZW5ndGggZG9lc24ndCBjaGFuZ2UsIHNvIGlzIG5lY2Vzc2FyaWx5ID4gMVxuICAgICAgICAgICAgcGFydE9mTGluZSA9IGNodW5rTGluZXNbY2h1bmtMaW5lcy5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gd2UgaGFuZGxlIDIgZGlmZmVyZW50IHR5cGVzIG9mIHN0cmVhbXMsIHRoaXMgaWYgd2hlcmUgd2UgZmlndXJlIG91dCB3aGljaCBvbmUgd2UgaGF2ZVxuICAgIGlmICgnZ2V0UmVhZGVyJyBpbiByZWFkYWJsZVN0cmVhbSkge1xuICAgICAgICBhd2FpdCByZWFkU3RhbmRhcmRDaHVua3MocmVhZGFibGVTdHJlYW0sIG9uQ2h1bmspO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IHJlYWROb2RlQ2h1bmtzKHJlYWRhYmxlU3RyZWFtLCBvbkNodW5rKTtcbiAgICB9XG4gICAgb25MaW5lKHBhcnRPZkxpbmUpO1xufVxuLyoqXG4gKiBIYW5kbGUgTm9kZUpTIHN0cmVhbVxuICovIGZ1bmN0aW9uIHJlYWROb2RlQ2h1bmtzKHN0cmVhbSwgb25DaHVuaykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk9PntcbiAgICAgICAgc3RyZWFtLm9uKCdkYXRhJywgb25DaHVuayk7XG4gICAgICAgIHN0cmVhbS5vbignZW5kJywgcmVzb2x2ZSk7XG4gICAgfSk7XG59XG4vKipcbiAqIEhhbmRsZSBXZWJBUEkgc3RyZWFtXG4gKi8gYXN5bmMgZnVuY3Rpb24gcmVhZFN0YW5kYXJkQ2h1bmtzKHN0cmVhbSwgb25DaHVuaykge1xuICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICBsZXQgcmVhZFJlc3VsdCA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgd2hpbGUoIXJlYWRSZXN1bHQuZG9uZSl7XG4gICAgICAgIG9uQ2h1bmsocmVhZFJlc3VsdC52YWx1ZSk7XG4gICAgICAgIHJlYWRSZXN1bHQgPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgIH1cbn1cbmNvbnN0IHN0cmVhbWluZ0pzb25IdHRwUmVxdWVzdGVyID0gKG9wdHMsIG9uU2luZ2xlKT0+e1xuICAgIGNvbnN0IGFjID0gb3B0cy5BYm9ydENvbnRyb2xsZXIgPyBuZXcgb3B0cy5BYm9ydENvbnRyb2xsZXIoKSA6IG51bGw7XG4gICAgY29uc3QgcmVzcG9uc2VQcm9taXNlID0gZmV0Y2hIVFRQUmVzcG9uc2Uoe1xuICAgICAgICAuLi5vcHRzLFxuICAgICAgICBjb250ZW50VHlwZUhlYWRlcjogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICBiYXRjaE1vZGVIZWFkZXI6ICdzdHJlYW0nLFxuICAgICAgICBnZXRVcmwsXG4gICAgICAgIGdldEJvZHk6IGdldEJvZHkkMVxuICAgIH0sIGFjKTtcbiAgICBjb25zdCBjYW5jZWwgPSAoKT0+YWM/LmFib3J0KCk7XG4gICAgY29uc3QgcHJvbWlzZSA9IHJlc3BvbnNlUHJvbWlzZS50aGVuKGFzeW5jIChyZXMpPT57XG4gICAgICAgIGlmICghcmVzLmJvZHkpIHRocm93IG5ldyBFcnJvcignUmVjZWl2ZWQgcmVzcG9uc2Ugd2l0aG91dCBib2R5Jyk7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB7XG4gICAgICAgICAgICByZXNwb25zZTogcmVzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBwYXJzZUpTT05TdHJlYW0oe1xuICAgICAgICAgICAgcmVhZGFibGVTdHJlYW06IHJlcy5ib2R5LFxuICAgICAgICAgICAgb25TaW5nbGUsXG4gICAgICAgICAgICBwYXJzZTogKHN0cmluZyk9Pih7XG4gICAgICAgICAgICAgICAgICAgIGpzb246IEpTT04ucGFyc2Uoc3RyaW5nKSxcbiAgICAgICAgICAgICAgICAgICAgbWV0YVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgc2lnbmFsOiBhYz8uc2lnbmFsLFxuICAgICAgICAgICAgdGV4dERlY29kZXI6IG9wdHMudGV4dERlY29kZXJcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FuY2VsLFxuICAgICAgICBwcm9taXNlXG4gICAgfTtcbn07XG5cbmNvbnN0IHN0cmVhbVJlcXVlc3RlciA9IChyZXF1ZXN0ZXJPcHRzKT0+e1xuICAgIGNvbnN0IHRleHREZWNvZGVyID0gZ2V0VGV4dERlY29kZXIocmVxdWVzdGVyT3B0cy5vcHRzLnRleHREZWNvZGVyKTtcbiAgICByZXR1cm4gKGJhdGNoT3BzLCB1bml0UmVzb2x2ZXIpPT57XG4gICAgICAgIGNvbnN0IHBhdGggPSBiYXRjaE9wcy5tYXAoKG9wKT0+b3AucGF0aCkuam9pbignLCcpO1xuICAgICAgICBjb25zdCBpbnB1dHMgPSBiYXRjaE9wcy5tYXAoKG9wKT0+b3AuaW5wdXQpO1xuICAgICAgICBjb25zdCB7IGNhbmNlbCAsIHByb21pc2UgIH0gPSBzdHJlYW1pbmdKc29uSHR0cFJlcXVlc3Rlcih7XG4gICAgICAgICAgICAuLi5yZXF1ZXN0ZXJPcHRzLFxuICAgICAgICAgICAgdGV4dERlY29kZXIsXG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgaW5wdXRzLFxuICAgICAgICAgICAgaGVhZGVycyAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXF1ZXN0ZXJPcHRzLm9wdHMuaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdGVyT3B0cy5vcHRzLmhlYWRlcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3Rlck9wdHMub3B0cy5oZWFkZXJzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wTGlzdDogYmF0Y2hPcHNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0ZXJPcHRzLm9wdHMuaGVhZGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgKGluZGV4LCByZXMpPT57XG4gICAgICAgICAgICB1bml0UmVzb2x2ZXIoaW5kZXgsIHJlcyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgKiByZXR1cm4gYW4gZW1wdHkgYXJyYXkgYmVjYXVzZSB0aGUgYmF0Y2hMb2FkZXIgZXhwZWN0cyBhbiBhcnJheSBvZiByZXN1bHRzXG4gICAgICAgKiBidXQgd2UndmUgYWxyZWFkeSBjYWxsZWQgdGhlIGB1bml0UmVzb2x2ZXJgIGZvciBlYWNoIG9mIHRoZW0sIHRoZXJlJ3NcbiAgICAgICAqIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICAgICAgICovIHByb21pc2U6IHByb21pc2UudGhlbigoKT0+W10pLFxuICAgICAgICAgICAgY2FuY2VsXG4gICAgICAgIH07XG4gICAgfTtcbn07XG5jb25zdCB1bnN0YWJsZV9odHRwQmF0Y2hTdHJlYW1MaW5rID0gY3JlYXRlSFRUUEJhdGNoTGluayhzdHJlYW1SZXF1ZXN0ZXIpO1xuXG5jb25zdCBnZXRCb2R5ID0gKG9wdHMpPT57XG4gICAgaWYgKCEoJ2lucHV0JyBpbiBvcHRzKSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoIShvcHRzLmlucHV0IGluc3RhbmNlb2YgRm9ybURhdGEpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW5wdXQgaXMgbm90IEZvcm1EYXRhJyk7XG4gICAgfVxuICAgIHJldHVybiBvcHRzLmlucHV0O1xufTtcbmNvbnN0IGZvcm1EYXRhUmVxdWVzdGVyID0gKG9wdHMpPT57XG4gICAgaWYgKG9wdHMudHlwZSAhPT0gJ211dGF0aW9uJykge1xuICAgICAgICAvLyBUT0RPKD8pIGhhbmRsZSBmb3JtZGF0YSBxdWVyaWVzXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2Ugb25seSBoYW5kbGUgbXV0YXRpb25zIHdpdGggZm9ybWRhdGEnKTtcbiAgICB9XG4gICAgcmV0dXJuIGh0dHBSZXF1ZXN0KHtcbiAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgZ2V0VXJsICgpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtvcHRzLnVybH0vJHtvcHRzLnBhdGh9YDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Qm9keVxuICAgIH0pO1xufTtcbmNvbnN0IGV4cGVyaW1lbnRhbF9mb3JtRGF0YUxpbmsgPSBodHRwTGlua0ZhY3Rvcnkoe1xuICAgIHJlcXVlc3RlcjogZm9ybURhdGFSZXF1ZXN0ZXJcbn0pO1xuXG5leHBvcnQgeyBUUlBDVW50eXBlZENsaWVudCwgY2xpZW50Q2FsbFR5cGVUb1Byb2NlZHVyZVR5cGUsIGNyZWF0ZVRSUENDbGllbnQsIGNyZWF0ZVRSUENDbGllbnRQcm94eSwgY3JlYXRlVFJQQ1Byb3h5Q2xpZW50LCBjcmVhdGVUUlBDVW50eXBlZENsaWVudCwgZXhwZXJpbWVudGFsX2Zvcm1EYXRhTGluaywgZ2V0VW50eXBlZENsaWVudCwgdW5zdGFibGVfaHR0cEJhdGNoU3RyZWFtTGluayB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/client/dist/links/httpLink.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@trpc/client/dist/links/httpLink.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   httpLink: () => (/* binding */ httpLink),\n/* harmony export */   httpLinkFactory: () => (/* binding */ httpLinkFactory)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(ssr)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n/* harmony import */ var _transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../transformResult-ace864b8.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\");\n/* harmony import */ var _TRPCClientError_38f9a32a_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../TRPCClientError-38f9a32a.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/TRPCClientError-38f9a32a.mjs\");\n/* harmony import */ var _httpUtils_b9d0cb48_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../httpUtils-b9d0cb48.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/httpUtils-b9d0cb48.mjs\");\n/* harmony import */ var _trpc_server_shared__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @trpc/server/shared */ \"(ssr)/./node_modules/@trpc/server/dist/shared/index.mjs\");\n\n\n\n\n\n\nfunction httpLinkFactory(factoryOpts) {\n    return (opts)=>{\n        const resolvedOpts = (0,_httpUtils_b9d0cb48_mjs__WEBPACK_IMPORTED_MODULE_3__.r)(opts);\n        return (runtime)=>({ op  })=>(0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n                    const { path , input , type  } = op;\n                    const { promise , cancel  } = factoryOpts.requester({\n                        ...resolvedOpts,\n                        runtime,\n                        type,\n                        path,\n                        input,\n                        headers () {\n                            if (!opts.headers) {\n                                return {};\n                            }\n                            if (typeof opts.headers === 'function') {\n                                return opts.headers({\n                                    op\n                                });\n                            }\n                            return opts.headers;\n                        }\n                    });\n                    let meta = undefined;\n                    promise.then((res)=>{\n                        meta = res.meta;\n                        const transformed = (0,_transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__.t)(res.json, runtime);\n                        if (!transformed.ok) {\n                            observer.error(_TRPCClientError_38f9a32a_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(transformed.error, {\n                                meta\n                            }));\n                            return;\n                        }\n                        observer.next({\n                            context: res.meta,\n                            result: transformed.result\n                        });\n                        observer.complete();\n                    }).catch((cause)=>{\n                        observer.error(_TRPCClientError_38f9a32a_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(cause, {\n                            meta\n                        }));\n                    });\n                    return ()=>{\n                        cancel();\n                    };\n                });\n    };\n}\n/**\n * @see https://trpc.io/docs/client/links/httpLink\n */ const httpLink = httpLinkFactory({\n    requester: _httpUtils_b9d0cb48_mjs__WEBPACK_IMPORTED_MODULE_3__.j\n});\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvbGlua3MvaHR0cExpbmsubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBcUQ7QUFDa0I7QUFDQTtBQUN5QjtBQUNuRTs7QUFFN0I7QUFDQTtBQUNBLDZCQUE2QiwwREFBc0I7QUFDbkQsNkJBQTZCLEtBQUssR0FBRyxtRUFBVTtBQUMvQyw0QkFBNEIsdUJBQXVCO0FBQ25ELDRCQUE0QixvQkFBb0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsZ0VBQWU7QUFDM0Q7QUFDQSwyQ0FBMkMsNERBQWU7QUFDMUQ7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHFCQUFxQjtBQUNyQix1Q0FBdUMsNERBQWU7QUFDdEQ7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxzREFBaUI7QUFDaEMsQ0FBQzs7QUFFb0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb3ZpZS1yZXZpZXctYXBwLy4vbm9kZV9tb2R1bGVzL0B0cnBjL2NsaWVudC9kaXN0L2xpbmtzL2h0dHBMaW5rLm1qcz8yYTUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9ic2VydmFibGUgfSBmcm9tICdAdHJwYy9zZXJ2ZXIvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyB0IGFzIHRyYW5zZm9ybVJlc3VsdCB9IGZyb20gJy4uL3RyYW5zZm9ybVJlc3VsdC1hY2U4NjRiOC5tanMnO1xuaW1wb3J0IHsgVCBhcyBUUlBDQ2xpZW50RXJyb3IgfSBmcm9tICcuLi9UUlBDQ2xpZW50RXJyb3ItMzhmOWEzMmEubWpzJztcbmltcG9ydCB7IHIgYXMgcmVzb2x2ZUhUVFBMaW5rT3B0aW9ucywgaiBhcyBqc29uSHR0cFJlcXVlc3RlciB9IGZyb20gJy4uL2h0dHBVdGlscy1iOWQwY2I0OC5tanMnO1xuaW1wb3J0ICdAdHJwYy9zZXJ2ZXIvc2hhcmVkJztcblxuZnVuY3Rpb24gaHR0cExpbmtGYWN0b3J5KGZhY3RvcnlPcHRzKSB7XG4gICAgcmV0dXJuIChvcHRzKT0+e1xuICAgICAgICBjb25zdCByZXNvbHZlZE9wdHMgPSByZXNvbHZlSFRUUExpbmtPcHRpb25zKG9wdHMpO1xuICAgICAgICByZXR1cm4gKHJ1bnRpbWUpPT4oeyBvcCAgfSk9Pm9ic2VydmFibGUoKG9ic2VydmVyKT0+e1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHBhdGggLCBpbnB1dCAsIHR5cGUgIH0gPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBwcm9taXNlICwgY2FuY2VsICB9ID0gZmFjdG9yeU9wdHMucmVxdWVzdGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlc29sdmVkT3B0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bnRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycyAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRzLmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdHMuaGVhZGVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5oZWFkZXJzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5oZWFkZXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1ldGEgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UudGhlbigocmVzKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YSA9IHJlcy5tZXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtZWQgPSB0cmFuc2Zvcm1SZXN1bHQocmVzLmpzb24sIHJ1bnRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFuc2Zvcm1lZC5vaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKFRSUENDbGllbnRFcnJvci5mcm9tKHRyYW5zZm9ybWVkLmVycm9yLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogcmVzLm1ldGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB0cmFuc2Zvcm1lZC5yZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGNhdXNlKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoVFJQQ0NsaWVudEVycm9yLmZyb20oY2F1c2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgIH07XG59XG4vKipcbiAqIEBzZWUgaHR0cHM6Ly90cnBjLmlvL2RvY3MvY2xpZW50L2xpbmtzL2h0dHBMaW5rXG4gKi8gY29uc3QgaHR0cExpbmsgPSBodHRwTGlua0ZhY3Rvcnkoe1xuICAgIHJlcXVlc3RlcjoganNvbkh0dHBSZXF1ZXN0ZXJcbn0pO1xuXG5leHBvcnQgeyBodHRwTGluaywgaHR0cExpbmtGYWN0b3J5IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/links/httpLink.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/client/dist/links/loggerLink.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/links/loggerLink.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loggerLink: () => (/* binding */ loggerLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(ssr)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n\n\n/// <reference lib=\"dom.iterable\" />\nfunction isFormData(value) {\n    if (typeof FormData === 'undefined') {\n        // FormData is not supported\n        return false;\n    }\n    return value instanceof FormData;\n}\nconst palettes = {\n    css: {\n        query: [\n            '72e3ff',\n            '3fb0d8'\n        ],\n        mutation: [\n            'c5a3fc',\n            '904dfc'\n        ],\n        subscription: [\n            'ff49e1',\n            'd83fbe'\n        ]\n    },\n    ansi: {\n        regular: {\n            // Cyan background, black and white text respectively\n            query: [\n                '\\x1b[30;46m',\n                '\\x1b[97;46m'\n            ],\n            // Magenta background, black and white text respectively\n            mutation: [\n                '\\x1b[30;45m',\n                '\\x1b[97;45m'\n            ],\n            // Green background, black and white text respectively\n            subscription: [\n                '\\x1b[30;42m',\n                '\\x1b[97;42m'\n            ]\n        },\n        bold: {\n            query: [\n                '\\x1b[1;30;46m',\n                '\\x1b[1;97;46m'\n            ],\n            mutation: [\n                '\\x1b[1;30;45m',\n                '\\x1b[1;97;45m'\n            ],\n            subscription: [\n                '\\x1b[1;30;42m',\n                '\\x1b[1;97;42m'\n            ]\n        }\n    }\n};\nfunction constructPartsAndArgs(opts) {\n    const { direction , type , path , id , input  } = opts;\n    const parts = [];\n    const args = [];\n    if (opts.colorMode === 'ansi') {\n        const [lightRegular, darkRegular] = palettes.ansi.regular[type];\n        const [lightBold, darkBold] = palettes.ansi.bold[type];\n        const reset = '\\x1b[0m';\n        parts.push(direction === 'up' ? lightRegular : darkRegular, direction === 'up' ? '>>' : '<<', type, direction === 'up' ? lightBold : darkBold, `#${id}`, path, reset);\n        if (direction === 'up') {\n            args.push({\n                input: opts.input\n            });\n        } else {\n            args.push({\n                input: opts.input,\n                // strip context from result cause it's too noisy in terminal wihtout collapse mode\n                result: 'result' in opts.result ? opts.result.result : opts.result,\n                elapsedMs: opts.elapsedMs\n            });\n        }\n        return {\n            parts,\n            args\n        };\n    }\n    const [light, dark] = palettes.css[type];\n    const css = `\n    background-color: #${direction === 'up' ? light : dark}; \n    color: ${direction === 'up' ? 'black' : 'white'};\n    padding: 2px;\n  `;\n    parts.push('%c', direction === 'up' ? '>>' : '<<', type, `#${id}`, `%c${path}%c`, '%O');\n    args.push(css, `${css}; font-weight: bold;`, `${css}; font-weight: normal;`);\n    if (direction === 'up') {\n        args.push({\n            input,\n            context: opts.context\n        });\n    } else {\n        args.push({\n            input,\n            result: opts.result,\n            elapsedMs: opts.elapsedMs,\n            context: opts.context\n        });\n    }\n    return {\n        parts,\n        args\n    };\n}\n// maybe this should be moved to it's own package\nconst defaultLogger = ({ c =console , colorMode ='css'  })=>(props)=>{\n        const rawInput = props.input;\n        const input = isFormData(rawInput) ? Object.fromEntries(rawInput) : rawInput;\n        const { parts , args  } = constructPartsAndArgs({\n            ...props,\n            colorMode,\n            input\n        });\n        const fn = props.direction === 'down' && props.result && (props.result instanceof Error || 'error' in props.result.result) ? 'error' : 'log';\n        c[fn].apply(null, [\n            parts.join(' ')\n        ].concat(args));\n    };\n/**\n * @see https://trpc.io/docs/client/links/loggerLink\n */ function loggerLink(opts = {}) {\n    const { enabled =()=>true  } = opts;\n    const colorMode = opts.colorMode ?? (typeof window === 'undefined' ? 'ansi' : 'css');\n    const { logger =defaultLogger({\n        c: opts.console,\n        colorMode\n    })  } = opts;\n    return ()=>{\n        return ({ op , next  })=>{\n            return (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n                // ->\n                enabled({\n                    ...op,\n                    direction: 'up'\n                }) && logger({\n                    ...op,\n                    direction: 'up'\n                });\n                const requestStartTime = Date.now();\n                function logResult(result) {\n                    const elapsedMs = Date.now() - requestStartTime;\n                    enabled({\n                        ...op,\n                        direction: 'down',\n                        result\n                    }) && logger({\n                        ...op,\n                        direction: 'down',\n                        elapsedMs,\n                        result\n                    });\n                }\n                return next(op).pipe((0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.tap)({\n                    next (result) {\n                        logResult(result);\n                    },\n                    error (result) {\n                        logResult(result);\n                    }\n                })).subscribe(observer);\n            });\n        };\n    };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvbGlua3MvbG9nZ2VyTGluay5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEQ7O0FBRTFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6Qix5QkFBeUI7QUFDekI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHdCQUF3QixHQUFHO0FBQzNCLHdCQUF3QixHQUFHO0FBQzNCO0FBQ0E7QUFDQSx3QkFBd0IsR0FBRztBQUMzQix3QkFBd0IsR0FBRztBQUMzQjtBQUNBO0FBQ0Esd0JBQXdCLEdBQUc7QUFDM0Isd0JBQXdCLEdBQUc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0NBQXdDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJKQUEySixHQUFHO0FBQzlKO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsaUVBQWlFLEdBQUcsUUFBUSxLQUFLO0FBQ2pGLHNCQUFzQixNQUFNLGtCQUFrQixNQUFNLE1BQU0sb0JBQW9CO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGdDQUFnQztBQUN6RDtBQUNBO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsWUFBWSxxQkFBcUI7QUFDakM7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLEtBQUssS0FBSztBQUNWO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUIsbUJBQW1CLG1FQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxxQ0FBcUMsNERBQUc7QUFDeEM7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb3ZpZS1yZXZpZXctYXBwLy4vbm9kZV9tb2R1bGVzL0B0cnBjL2NsaWVudC9kaXN0L2xpbmtzL2xvZ2dlckxpbmsubWpzPzM5ZjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgb2JzZXJ2YWJsZSwgdGFwIH0gZnJvbSAnQHRycGMvc2VydmVyL29ic2VydmFibGUnO1xuXG4vLy8gPHJlZmVyZW5jZSBsaWI9XCJkb20uaXRlcmFibGVcIiAvPlxuZnVuY3Rpb24gaXNGb3JtRGF0YSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgRm9ybURhdGEgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIEZvcm1EYXRhIGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBGb3JtRGF0YTtcbn1cbmNvbnN0IHBhbGV0dGVzID0ge1xuICAgIGNzczoge1xuICAgICAgICBxdWVyeTogW1xuICAgICAgICAgICAgJzcyZTNmZicsXG4gICAgICAgICAgICAnM2ZiMGQ4J1xuICAgICAgICBdLFxuICAgICAgICBtdXRhdGlvbjogW1xuICAgICAgICAgICAgJ2M1YTNmYycsXG4gICAgICAgICAgICAnOTA0ZGZjJ1xuICAgICAgICBdLFxuICAgICAgICBzdWJzY3JpcHRpb246IFtcbiAgICAgICAgICAgICdmZjQ5ZTEnLFxuICAgICAgICAgICAgJ2Q4M2ZiZSdcbiAgICAgICAgXVxuICAgIH0sXG4gICAgYW5zaToge1xuICAgICAgICByZWd1bGFyOiB7XG4gICAgICAgICAgICAvLyBDeWFuIGJhY2tncm91bmQsIGJsYWNrIGFuZCB3aGl0ZSB0ZXh0IHJlc3BlY3RpdmVseVxuICAgICAgICAgICAgcXVlcnk6IFtcbiAgICAgICAgICAgICAgICAnXFx4MWJbMzA7NDZtJyxcbiAgICAgICAgICAgICAgICAnXFx4MWJbOTc7NDZtJ1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIC8vIE1hZ2VudGEgYmFja2dyb3VuZCwgYmxhY2sgYW5kIHdoaXRlIHRleHQgcmVzcGVjdGl2ZWx5XG4gICAgICAgICAgICBtdXRhdGlvbjogW1xuICAgICAgICAgICAgICAgICdcXHgxYlszMDs0NW0nLFxuICAgICAgICAgICAgICAgICdcXHgxYls5Nzs0NW0nXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgLy8gR3JlZW4gYmFja2dyb3VuZCwgYmxhY2sgYW5kIHdoaXRlIHRleHQgcmVzcGVjdGl2ZWx5XG4gICAgICAgICAgICBzdWJzY3JpcHRpb246IFtcbiAgICAgICAgICAgICAgICAnXFx4MWJbMzA7NDJtJyxcbiAgICAgICAgICAgICAgICAnXFx4MWJbOTc7NDJtJ1xuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBib2xkOiB7XG4gICAgICAgICAgICBxdWVyeTogW1xuICAgICAgICAgICAgICAgICdcXHgxYlsxOzMwOzQ2bScsXG4gICAgICAgICAgICAgICAgJ1xceDFiWzE7OTc7NDZtJ1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG11dGF0aW9uOiBbXG4gICAgICAgICAgICAgICAgJ1xceDFiWzE7MzA7NDVtJyxcbiAgICAgICAgICAgICAgICAnXFx4MWJbMTs5Nzs0NW0nXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgc3Vic2NyaXB0aW9uOiBbXG4gICAgICAgICAgICAgICAgJ1xceDFiWzE7MzA7NDJtJyxcbiAgICAgICAgICAgICAgICAnXFx4MWJbMTs5Nzs0Mm0nXG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9XG59O1xuZnVuY3Rpb24gY29uc3RydWN0UGFydHNBbmRBcmdzKG9wdHMpIHtcbiAgICBjb25zdCB7IGRpcmVjdGlvbiAsIHR5cGUgLCBwYXRoICwgaWQgLCBpbnB1dCAgfSA9IG9wdHM7XG4gICAgY29uc3QgcGFydHMgPSBbXTtcbiAgICBjb25zdCBhcmdzID0gW107XG4gICAgaWYgKG9wdHMuY29sb3JNb2RlID09PSAnYW5zaScpIHtcbiAgICAgICAgY29uc3QgW2xpZ2h0UmVndWxhciwgZGFya1JlZ3VsYXJdID0gcGFsZXR0ZXMuYW5zaS5yZWd1bGFyW3R5cGVdO1xuICAgICAgICBjb25zdCBbbGlnaHRCb2xkLCBkYXJrQm9sZF0gPSBwYWxldHRlcy5hbnNpLmJvbGRbdHlwZV07XG4gICAgICAgIGNvbnN0IHJlc2V0ID0gJ1xceDFiWzBtJztcbiAgICAgICAgcGFydHMucHVzaChkaXJlY3Rpb24gPT09ICd1cCcgPyBsaWdodFJlZ3VsYXIgOiBkYXJrUmVndWxhciwgZGlyZWN0aW9uID09PSAndXAnID8gJz4+JyA6ICc8PCcsIHR5cGUsIGRpcmVjdGlvbiA9PT0gJ3VwJyA/IGxpZ2h0Qm9sZCA6IGRhcmtCb2xkLCBgIyR7aWR9YCwgcGF0aCwgcmVzZXQpO1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAndXAnKSB7XG4gICAgICAgICAgICBhcmdzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlucHV0OiBvcHRzLmlucHV0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaCh7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IG9wdHMuaW5wdXQsXG4gICAgICAgICAgICAgICAgLy8gc3RyaXAgY29udGV4dCBmcm9tIHJlc3VsdCBjYXVzZSBpdCdzIHRvbyBub2lzeSBpbiB0ZXJtaW5hbCB3aWh0b3V0IGNvbGxhcHNlIG1vZGVcbiAgICAgICAgICAgICAgICByZXN1bHQ6ICdyZXN1bHQnIGluIG9wdHMucmVzdWx0ID8gb3B0cy5yZXN1bHQucmVzdWx0IDogb3B0cy5yZXN1bHQsXG4gICAgICAgICAgICAgICAgZWxhcHNlZE1zOiBvcHRzLmVsYXBzZWRNc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBhcnRzLFxuICAgICAgICAgICAgYXJnc1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBbbGlnaHQsIGRhcmtdID0gcGFsZXR0ZXMuY3NzW3R5cGVdO1xuICAgIGNvbnN0IGNzcyA9IGBcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjJHtkaXJlY3Rpb24gPT09ICd1cCcgPyBsaWdodCA6IGRhcmt9OyBcbiAgICBjb2xvcjogJHtkaXJlY3Rpb24gPT09ICd1cCcgPyAnYmxhY2snIDogJ3doaXRlJ307XG4gICAgcGFkZGluZzogMnB4O1xuICBgO1xuICAgIHBhcnRzLnB1c2goJyVjJywgZGlyZWN0aW9uID09PSAndXAnID8gJz4+JyA6ICc8PCcsIHR5cGUsIGAjJHtpZH1gLCBgJWMke3BhdGh9JWNgLCAnJU8nKTtcbiAgICBhcmdzLnB1c2goY3NzLCBgJHtjc3N9OyBmb250LXdlaWdodDogYm9sZDtgLCBgJHtjc3N9OyBmb250LXdlaWdodDogbm9ybWFsO2ApO1xuICAgIGlmIChkaXJlY3Rpb24gPT09ICd1cCcpIHtcbiAgICAgICAgYXJncy5wdXNoKHtcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgY29udGV4dDogb3B0cy5jb250ZXh0XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFyZ3MucHVzaCh7XG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIHJlc3VsdDogb3B0cy5yZXN1bHQsXG4gICAgICAgICAgICBlbGFwc2VkTXM6IG9wdHMuZWxhcHNlZE1zLFxuICAgICAgICAgICAgY29udGV4dDogb3B0cy5jb250ZXh0XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBwYXJ0cyxcbiAgICAgICAgYXJnc1xuICAgIH07XG59XG4vLyBtYXliZSB0aGlzIHNob3VsZCBiZSBtb3ZlZCB0byBpdCdzIG93biBwYWNrYWdlXG5jb25zdCBkZWZhdWx0TG9nZ2VyID0gKHsgYyA9Y29uc29sZSAsIGNvbG9yTW9kZSA9J2NzcycgIH0pPT4ocHJvcHMpPT57XG4gICAgICAgIGNvbnN0IHJhd0lucHV0ID0gcHJvcHMuaW5wdXQ7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gaXNGb3JtRGF0YShyYXdJbnB1dCkgPyBPYmplY3QuZnJvbUVudHJpZXMocmF3SW5wdXQpIDogcmF3SW5wdXQ7XG4gICAgICAgIGNvbnN0IHsgcGFydHMgLCBhcmdzICB9ID0gY29uc3RydWN0UGFydHNBbmRBcmdzKHtcbiAgICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICAgICAgY29sb3JNb2RlLFxuICAgICAgICAgICAgaW5wdXRcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGZuID0gcHJvcHMuZGlyZWN0aW9uID09PSAnZG93bicgJiYgcHJvcHMucmVzdWx0ICYmIChwcm9wcy5yZXN1bHQgaW5zdGFuY2VvZiBFcnJvciB8fCAnZXJyb3InIGluIHByb3BzLnJlc3VsdC5yZXN1bHQpID8gJ2Vycm9yJyA6ICdsb2cnO1xuICAgICAgICBjW2ZuXS5hcHBseShudWxsLCBbXG4gICAgICAgICAgICBwYXJ0cy5qb2luKCcgJylcbiAgICAgICAgXS5jb25jYXQoYXJncykpO1xuICAgIH07XG4vKipcbiAqIEBzZWUgaHR0cHM6Ly90cnBjLmlvL2RvY3MvY2xpZW50L2xpbmtzL2xvZ2dlckxpbmtcbiAqLyBmdW5jdGlvbiBsb2dnZXJMaW5rKG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHsgZW5hYmxlZCA9KCk9PnRydWUgIH0gPSBvcHRzO1xuICAgIGNvbnN0IGNvbG9yTW9kZSA9IG9wdHMuY29sb3JNb2RlID8/ICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyA/ICdhbnNpJyA6ICdjc3MnKTtcbiAgICBjb25zdCB7IGxvZ2dlciA9ZGVmYXVsdExvZ2dlcih7XG4gICAgICAgIGM6IG9wdHMuY29uc29sZSxcbiAgICAgICAgY29sb3JNb2RlXG4gICAgfSkgIH0gPSBvcHRzO1xuICAgIHJldHVybiAoKT0+e1xuICAgICAgICByZXR1cm4gKHsgb3AgLCBuZXh0ICB9KT0+e1xuICAgICAgICAgICAgcmV0dXJuIG9ic2VydmFibGUoKG9ic2VydmVyKT0+e1xuICAgICAgICAgICAgICAgIC8vIC0+XG4gICAgICAgICAgICAgICAgZW5hYmxlZCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLm9wLFxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246ICd1cCdcbiAgICAgICAgICAgICAgICB9KSAmJiBsb2dnZXIoe1xuICAgICAgICAgICAgICAgICAgICAuLi5vcCxcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiAndXAnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdFN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbG9nUmVzdWx0KHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGFwc2VkTXMgPSBEYXRlLm5vdygpIC0gcmVxdWVzdFN0YXJ0VGltZTtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5vcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogJ2Rvd24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgIH0pICYmIGxvZ2dlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5vcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogJ2Rvd24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxhcHNlZE1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChvcCkucGlwZSh0YXAoe1xuICAgICAgICAgICAgICAgICAgICBuZXh0IChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ1Jlc3VsdChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvciAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dSZXN1bHQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pKS5zdWJzY3JpYmUob2JzZXJ2ZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuZXhwb3J0IHsgbG9nZ2VyTGluayB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/links/loggerLink.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/client/dist/links/wsLink.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@trpc/client/dist/links/wsLink.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createWSClient: () => (/* binding */ createWSClient),\n/* harmony export */   wsLink: () => (/* binding */ wsLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(ssr)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n/* harmony import */ var _transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../transformResult-ace864b8.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\");\n/* harmony import */ var _TRPCClientError_38f9a32a_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../TRPCClientError-38f9a32a.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/TRPCClientError-38f9a32a.mjs\");\n/* harmony import */ var _trpc_server_shared__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @trpc/server/shared */ \"(ssr)/./node_modules/@trpc/server/dist/shared/index.mjs\");\n\n\n\n\n\n/* istanbul ignore next -- @preserve */ const retryDelay = (attemptIndex)=>attemptIndex === 0 ? 0 : Math.min(1000 * 2 ** attemptIndex, 30000);\n\nfunction createWSClient(opts) {\n    const { url , WebSocket: WebSocketImpl = WebSocket , retryDelayMs: retryDelayFn = retryDelay , onOpen , onClose ,  } = opts;\n    /* istanbul ignore next -- @preserve */ if (!WebSocketImpl) {\n        throw new Error(\"No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill\");\n    }\n    /**\n   * outgoing messages buffer whilst not open\n   */ let outgoing = [];\n    const pendingRequests = Object.create(null);\n    let connectAttempt = 0;\n    let dispatchTimer = null;\n    let connectTimer = null;\n    let activeConnection = createWS();\n    let state = 'connecting';\n    /**\n   * tries to send the list of messages\n   */ function dispatch() {\n        if (state !== 'open' || dispatchTimer) {\n            return;\n        }\n        dispatchTimer = setTimeout(()=>{\n            dispatchTimer = null;\n            if (outgoing.length === 1) {\n                // single send\n                activeConnection.send(JSON.stringify(outgoing.pop()));\n            } else {\n                // batch send\n                activeConnection.send(JSON.stringify(outgoing));\n            }\n            // clear\n            outgoing = [];\n        });\n    }\n    function tryReconnect() {\n        if (connectTimer !== null || state === 'closed') {\n            return;\n        }\n        const timeout = retryDelayFn(connectAttempt++);\n        reconnectInMs(timeout);\n    }\n    function reconnect() {\n        state = 'connecting';\n        const oldConnection = activeConnection;\n        activeConnection = createWS();\n        closeIfNoPending(oldConnection);\n    }\n    function reconnectInMs(ms) {\n        if (connectTimer) {\n            return;\n        }\n        state = 'connecting';\n        connectTimer = setTimeout(reconnect, ms);\n    }\n    function closeIfNoPending(conn) {\n        // disconnect as soon as there are are no pending result\n        const hasPendingRequests = Object.values(pendingRequests).some((p)=>p.ws === conn);\n        if (!hasPendingRequests) {\n            conn.close();\n        }\n    }\n    function closeActiveSubscriptions() {\n        Object.values(pendingRequests).forEach((req)=>{\n            if (req.type === 'subscription') {\n                req.callbacks.complete();\n            }\n        });\n    }\n    function resumeSubscriptionOnReconnect(req) {\n        if (outgoing.some((r)=>r.id === req.op.id)) {\n            return;\n        }\n        request(req.op, req.callbacks);\n    }\n    function createWS() {\n        const urlString = typeof url === 'function' ? url() : url;\n        const conn = new WebSocketImpl(urlString);\n        clearTimeout(connectTimer);\n        connectTimer = null;\n        conn.addEventListener('open', ()=>{\n            /* istanbul ignore next -- @preserve */ if (conn !== activeConnection) {\n                return;\n            }\n            connectAttempt = 0;\n            state = 'open';\n            onOpen?.();\n            dispatch();\n        });\n        conn.addEventListener('error', ()=>{\n            if (conn === activeConnection) {\n                tryReconnect();\n            }\n        });\n        const handleIncomingRequest = (req)=>{\n            if (req.method === 'reconnect' && conn === activeConnection) {\n                if (state === 'open') {\n                    onClose?.();\n                }\n                reconnect();\n                // notify subscribers\n                for (const pendingReq of Object.values(pendingRequests)){\n                    if (pendingReq.type === 'subscription') {\n                        resumeSubscriptionOnReconnect(pendingReq);\n                    }\n                }\n            }\n        };\n        const handleIncomingResponse = (data)=>{\n            const req = data.id !== null && pendingRequests[data.id];\n            if (!req) {\n                // do something?\n                return;\n            }\n            req.callbacks.next?.(data);\n            if (req.ws !== activeConnection && conn === activeConnection) {\n                const oldWs = req.ws;\n                // gracefully replace old connection with this\n                req.ws = activeConnection;\n                closeIfNoPending(oldWs);\n            }\n            if ('result' in data && data.result.type === 'stopped' && conn === activeConnection) {\n                req.callbacks.complete();\n            }\n        };\n        conn.addEventListener('message', ({ data  })=>{\n            const msg = JSON.parse(data);\n            if ('method' in msg) {\n                handleIncomingRequest(msg);\n            } else {\n                handleIncomingResponse(msg);\n            }\n            if (conn !== activeConnection || state === 'closed') {\n                // when receiving a message, we close old connection that has no pending requests\n                closeIfNoPending(conn);\n            }\n        });\n        conn.addEventListener('close', ({ code  })=>{\n            if (state === 'open') {\n                onClose?.({\n                    code\n                });\n            }\n            if (activeConnection === conn) {\n                // connection might have been replaced already\n                tryReconnect();\n            }\n            for (const [key, req] of Object.entries(pendingRequests)){\n                if (req.ws !== conn) {\n                    continue;\n                }\n                if (state === 'closed') {\n                    // If the connection was closed, we just call `complete()` on the request\n                    delete pendingRequests[key];\n                    req.callbacks.complete?.();\n                    continue;\n                }\n                // The connection was closed either unexpectedly or because of a reconnect\n                if (req.type === 'subscription') {\n                    // Subscriptions will resume after we've reconnected\n                    resumeSubscriptionOnReconnect(req);\n                } else {\n                    // Queries and mutations will error if interrupted\n                    delete pendingRequests[key];\n                    req.callbacks.error?.(_TRPCClientError_38f9a32a_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(new TRPCWebSocketClosedError('WebSocket closed prematurely')));\n                }\n            }\n        });\n        return conn;\n    }\n    function request(op, callbacks) {\n        const { type , input , path , id  } = op;\n        const envelope = {\n            id,\n            method: type,\n            params: {\n                input,\n                path\n            }\n        };\n        pendingRequests[id] = {\n            ws: activeConnection,\n            type,\n            callbacks,\n            op\n        };\n        // enqueue message\n        outgoing.push(envelope);\n        dispatch();\n        return ()=>{\n            const callbacks = pendingRequests[id]?.callbacks;\n            delete pendingRequests[id];\n            outgoing = outgoing.filter((msg)=>msg.id !== id);\n            callbacks?.complete?.();\n            if (activeConnection.readyState === WebSocketImpl.OPEN && op.type === 'subscription') {\n                outgoing.push({\n                    id,\n                    method: 'subscription.stop'\n                });\n                dispatch();\n            }\n        };\n    }\n    return {\n        close: ()=>{\n            state = 'closed';\n            onClose?.();\n            closeActiveSubscriptions();\n            closeIfNoPending(activeConnection);\n            clearTimeout(connectTimer);\n            connectTimer = null;\n        },\n        request,\n        getConnection () {\n            return activeConnection;\n        }\n    };\n}\nclass TRPCWebSocketClosedError extends Error {\n    constructor(message){\n        super(message);\n        this.name = 'TRPCWebSocketClosedError';\n        Object.setPrototypeOf(this, TRPCWebSocketClosedError.prototype);\n    }\n}\n/**\n * @see https://trpc.io/docs/client/links/wsLink\n */ function wsLink(opts) {\n    return (runtime)=>{\n        const { client  } = opts;\n        return ({ op  })=>{\n            return (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n                const { type , path , id , context  } = op;\n                const input = runtime.transformer.serialize(op.input);\n                const unsub = client.request({\n                    type,\n                    path,\n                    input,\n                    id,\n                    context\n                }, {\n                    error (err) {\n                        observer.error(err);\n                        unsub();\n                    },\n                    complete () {\n                        observer.complete();\n                    },\n                    next (message) {\n                        const transformed = (0,_transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__.t)(message, runtime);\n                        if (!transformed.ok) {\n                            observer.error(_TRPCClientError_38f9a32a_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(transformed.error));\n                            return;\n                        }\n                        observer.next({\n                            result: transformed.result\n                        });\n                        if (op.type !== 'subscription') {\n                            // if it isn't a subscription we don't care about next response\n                            unsub();\n                            observer.complete();\n                        }\n                    }\n                });\n                return ()=>{\n                    unsub();\n                };\n            });\n        };\n    };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvbGlua3Mvd3NMaW5rLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBcUQ7QUFDa0I7QUFDQTtBQUMxQzs7QUFFN0I7O0FBRUE7QUFDQSxZQUFZLDZHQUE2RztBQUN6SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsT0FBTztBQUNuRDtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDBDQUEwQyxPQUFPO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsMENBQTBDLDREQUFlO0FBQ3pEO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDRCQUE0QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUIsa0JBQWtCLEtBQUs7QUFDdkIsbUJBQW1CLG1FQUFVO0FBQzdCLHdCQUF3Qiw4QkFBOEI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSw0Q0FBNEMsZ0VBQWU7QUFDM0Q7QUFDQSwyQ0FBMkMsNERBQWU7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW92aWUtcmV2aWV3LWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9jbGllbnQvZGlzdC9saW5rcy93c0xpbmsubWpzP2NhMjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgb2JzZXJ2YWJsZSB9IGZyb20gJ0B0cnBjL3NlcnZlci9vYnNlcnZhYmxlJztcbmltcG9ydCB7IHQgYXMgdHJhbnNmb3JtUmVzdWx0IH0gZnJvbSAnLi4vdHJhbnNmb3JtUmVzdWx0LWFjZTg2NGI4Lm1qcyc7XG5pbXBvcnQgeyBUIGFzIFRSUENDbGllbnRFcnJvciB9IGZyb20gJy4uL1RSUENDbGllbnRFcnJvci0zOGY5YTMyYS5tanMnO1xuaW1wb3J0ICdAdHJwYy9zZXJ2ZXIvc2hhcmVkJztcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgLS0gQHByZXNlcnZlICovIGNvbnN0IHJldHJ5RGVsYXkgPSAoYXR0ZW1wdEluZGV4KT0+YXR0ZW1wdEluZGV4ID09PSAwID8gMCA6IE1hdGgubWluKDEwMDAgKiAyICoqIGF0dGVtcHRJbmRleCwgMzAwMDApO1xuXG5mdW5jdGlvbiBjcmVhdGVXU0NsaWVudChvcHRzKSB7XG4gICAgY29uc3QgeyB1cmwgLCBXZWJTb2NrZXQ6IFdlYlNvY2tldEltcGwgPSBXZWJTb2NrZXQgLCByZXRyeURlbGF5TXM6IHJldHJ5RGVsYXlGbiA9IHJldHJ5RGVsYXkgLCBvbk9wZW4gLCBvbkNsb3NlICwgIH0gPSBvcHRzO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0tIEBwcmVzZXJ2ZSAqLyBpZiAoIVdlYlNvY2tldEltcGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gV2ViU29ja2V0IGltcGxlbWVudGF0aW9uIGZvdW5kIC0geW91IHByb2JhYmx5IGRvbid0IHdhbnQgdG8gdXNlIHRoaXMgb24gdGhlIHNlcnZlciwgYnV0IGlmIHlvdSBkbyB5b3UgbmVlZCB0byBwYXNzIGEgYFdlYlNvY2tldGAtcG9ueWZpbGxcIik7XG4gICAgfVxuICAgIC8qKlxuICAgKiBvdXRnb2luZyBtZXNzYWdlcyBidWZmZXIgd2hpbHN0IG5vdCBvcGVuXG4gICAqLyBsZXQgb3V0Z29pbmcgPSBbXTtcbiAgICBjb25zdCBwZW5kaW5nUmVxdWVzdHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGxldCBjb25uZWN0QXR0ZW1wdCA9IDA7XG4gICAgbGV0IGRpc3BhdGNoVGltZXIgPSBudWxsO1xuICAgIGxldCBjb25uZWN0VGltZXIgPSBudWxsO1xuICAgIGxldCBhY3RpdmVDb25uZWN0aW9uID0gY3JlYXRlV1MoKTtcbiAgICBsZXQgc3RhdGUgPSAnY29ubmVjdGluZyc7XG4gICAgLyoqXG4gICAqIHRyaWVzIHRvIHNlbmQgdGhlIGxpc3Qgb2YgbWVzc2FnZXNcbiAgICovIGZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICAgICAgICBpZiAoc3RhdGUgIT09ICdvcGVuJyB8fCBkaXNwYXRjaFRpbWVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGlzcGF0Y2hUaW1lciA9IHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgIGRpc3BhdGNoVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKG91dGdvaW5nLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIHNpbmdsZSBzZW5kXG4gICAgICAgICAgICAgICAgYWN0aXZlQ29ubmVjdGlvbi5zZW5kKEpTT04uc3RyaW5naWZ5KG91dGdvaW5nLnBvcCgpKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGJhdGNoIHNlbmRcbiAgICAgICAgICAgICAgICBhY3RpdmVDb25uZWN0aW9uLnNlbmQoSlNPTi5zdHJpbmdpZnkob3V0Z29pbmcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNsZWFyXG4gICAgICAgICAgICBvdXRnb2luZyA9IFtdO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJ5UmVjb25uZWN0KCkge1xuICAgICAgICBpZiAoY29ubmVjdFRpbWVyICE9PSBudWxsIHx8IHN0YXRlID09PSAnY2xvc2VkJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSByZXRyeURlbGF5Rm4oY29ubmVjdEF0dGVtcHQrKyk7XG4gICAgICAgIHJlY29ubmVjdEluTXModGltZW91dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY29ubmVjdCgpIHtcbiAgICAgICAgc3RhdGUgPSAnY29ubmVjdGluZyc7XG4gICAgICAgIGNvbnN0IG9sZENvbm5lY3Rpb24gPSBhY3RpdmVDb25uZWN0aW9uO1xuICAgICAgICBhY3RpdmVDb25uZWN0aW9uID0gY3JlYXRlV1MoKTtcbiAgICAgICAgY2xvc2VJZk5vUGVuZGluZyhvbGRDb25uZWN0aW9uKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjb25uZWN0SW5Ncyhtcykge1xuICAgICAgICBpZiAoY29ubmVjdFRpbWVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUgPSAnY29ubmVjdGluZyc7XG4gICAgICAgIGNvbm5lY3RUaW1lciA9IHNldFRpbWVvdXQocmVjb25uZWN0LCBtcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlSWZOb1BlbmRpbmcoY29ubikge1xuICAgICAgICAvLyBkaXNjb25uZWN0IGFzIHNvb24gYXMgdGhlcmUgYXJlIGFyZSBubyBwZW5kaW5nIHJlc3VsdFxuICAgICAgICBjb25zdCBoYXNQZW5kaW5nUmVxdWVzdHMgPSBPYmplY3QudmFsdWVzKHBlbmRpbmdSZXF1ZXN0cykuc29tZSgocCk9PnAud3MgPT09IGNvbm4pO1xuICAgICAgICBpZiAoIWhhc1BlbmRpbmdSZXF1ZXN0cykge1xuICAgICAgICAgICAgY29ubi5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlQWN0aXZlU3Vic2NyaXB0aW9ucygpIHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhwZW5kaW5nUmVxdWVzdHMpLmZvckVhY2goKHJlcSk9PntcbiAgICAgICAgICAgIGlmIChyZXEudHlwZSA9PT0gJ3N1YnNjcmlwdGlvbicpIHtcbiAgICAgICAgICAgICAgICByZXEuY2FsbGJhY2tzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXN1bWVTdWJzY3JpcHRpb25PblJlY29ubmVjdChyZXEpIHtcbiAgICAgICAgaWYgKG91dGdvaW5nLnNvbWUoKHIpPT5yLmlkID09PSByZXEub3AuaWQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVxdWVzdChyZXEub3AsIHJlcS5jYWxsYmFja3MpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVXUygpIHtcbiAgICAgICAgY29uc3QgdXJsU3RyaW5nID0gdHlwZW9mIHVybCA9PT0gJ2Z1bmN0aW9uJyA/IHVybCgpIDogdXJsO1xuICAgICAgICBjb25zdCBjb25uID0gbmV3IFdlYlNvY2tldEltcGwodXJsU3RyaW5nKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3RUaW1lcik7XG4gICAgICAgIGNvbm5lY3RUaW1lciA9IG51bGw7XG4gICAgICAgIGNvbm4uYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsICgpPT57XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtLSBAcHJlc2VydmUgKi8gaWYgKGNvbm4gIT09IGFjdGl2ZUNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25uZWN0QXR0ZW1wdCA9IDA7XG4gICAgICAgICAgICBzdGF0ZSA9ICdvcGVuJztcbiAgICAgICAgICAgIG9uT3Blbj8uKCk7XG4gICAgICAgICAgICBkaXNwYXRjaCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29ubi5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICgpPT57XG4gICAgICAgICAgICBpZiAoY29ubiA9PT0gYWN0aXZlQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgIHRyeVJlY29ubmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaGFuZGxlSW5jb21pbmdSZXF1ZXN0ID0gKHJlcSk9PntcbiAgICAgICAgICAgIGlmIChyZXEubWV0aG9kID09PSAncmVjb25uZWN0JyAmJiBjb25uID09PSBhY3RpdmVDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT8uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIC8vIG5vdGlmeSBzdWJzY3JpYmVyc1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGVuZGluZ1JlcSBvZiBPYmplY3QudmFsdWVzKHBlbmRpbmdSZXF1ZXN0cykpe1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ1JlcS50eXBlID09PSAnc3Vic2NyaXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdW1lU3Vic2NyaXB0aW9uT25SZWNvbm5lY3QocGVuZGluZ1JlcSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZUluY29taW5nUmVzcG9uc2UgPSAoZGF0YSk9PntcbiAgICAgICAgICAgIGNvbnN0IHJlcSA9IGRhdGEuaWQgIT09IG51bGwgJiYgcGVuZGluZ1JlcXVlc3RzW2RhdGEuaWRdO1xuICAgICAgICAgICAgaWYgKCFyZXEpIHtcbiAgICAgICAgICAgICAgICAvLyBkbyBzb21ldGhpbmc/XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVxLmNhbGxiYWNrcy5uZXh0Py4oZGF0YSk7XG4gICAgICAgICAgICBpZiAocmVxLndzICE9PSBhY3RpdmVDb25uZWN0aW9uICYmIGNvbm4gPT09IGFjdGl2ZUNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRXcyA9IHJlcS53cztcbiAgICAgICAgICAgICAgICAvLyBncmFjZWZ1bGx5IHJlcGxhY2Ugb2xkIGNvbm5lY3Rpb24gd2l0aCB0aGlzXG4gICAgICAgICAgICAgICAgcmVxLndzID0gYWN0aXZlQ29ubmVjdGlvbjtcbiAgICAgICAgICAgICAgICBjbG9zZUlmTm9QZW5kaW5nKG9sZFdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgncmVzdWx0JyBpbiBkYXRhICYmIGRhdGEucmVzdWx0LnR5cGUgPT09ICdzdG9wcGVkJyAmJiBjb25uID09PSBhY3RpdmVDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmVxLmNhbGxiYWNrcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25uLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoeyBkYXRhICB9KT0+e1xuICAgICAgICAgICAgY29uc3QgbXNnID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgIGlmICgnbWV0aG9kJyBpbiBtc2cpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVJbmNvbWluZ1JlcXVlc3QobXNnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlSW5jb21pbmdSZXNwb25zZShtc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbm4gIT09IGFjdGl2ZUNvbm5lY3Rpb24gfHwgc3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgICAgICAgICAgICAgLy8gd2hlbiByZWNlaXZpbmcgYSBtZXNzYWdlLCB3ZSBjbG9zZSBvbGQgY29ubmVjdGlvbiB0aGF0IGhhcyBubyBwZW5kaW5nIHJlcXVlc3RzXG4gICAgICAgICAgICAgICAgY2xvc2VJZk5vUGVuZGluZyhjb25uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbm4uYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCAoeyBjb2RlICB9KT0+e1xuICAgICAgICAgICAgaWYgKHN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgICAgICAgICAgICBvbkNsb3NlPy4oe1xuICAgICAgICAgICAgICAgICAgICBjb2RlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWN0aXZlQ29ubmVjdGlvbiA9PT0gY29ubikge1xuICAgICAgICAgICAgICAgIC8vIGNvbm5lY3Rpb24gbWlnaHQgaGF2ZSBiZWVuIHJlcGxhY2VkIGFscmVhZHlcbiAgICAgICAgICAgICAgICB0cnlSZWNvbm5lY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgcmVxXSBvZiBPYmplY3QuZW50cmllcyhwZW5kaW5nUmVxdWVzdHMpKXtcbiAgICAgICAgICAgICAgICBpZiAocmVxLndzICE9PSBjb25uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjb25uZWN0aW9uIHdhcyBjbG9zZWQsIHdlIGp1c3QgY2FsbCBgY29tcGxldGUoKWAgb24gdGhlIHJlcXVlc3RcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHBlbmRpbmdSZXF1ZXN0c1trZXldO1xuICAgICAgICAgICAgICAgICAgICByZXEuY2FsbGJhY2tzLmNvbXBsZXRlPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRoZSBjb25uZWN0aW9uIHdhcyBjbG9zZWQgZWl0aGVyIHVuZXhwZWN0ZWRseSBvciBiZWNhdXNlIG9mIGEgcmVjb25uZWN0XG4gICAgICAgICAgICAgICAgaWYgKHJlcS50eXBlID09PSAnc3Vic2NyaXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdWJzY3JpcHRpb25zIHdpbGwgcmVzdW1lIGFmdGVyIHdlJ3ZlIHJlY29ubmVjdGVkXG4gICAgICAgICAgICAgICAgICAgIHJlc3VtZVN1YnNjcmlwdGlvbk9uUmVjb25uZWN0KHJlcSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUXVlcmllcyBhbmQgbXV0YXRpb25zIHdpbGwgZXJyb3IgaWYgaW50ZXJydXB0ZWRcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHBlbmRpbmdSZXF1ZXN0c1trZXldO1xuICAgICAgICAgICAgICAgICAgICByZXEuY2FsbGJhY2tzLmVycm9yPy4oVFJQQ0NsaWVudEVycm9yLmZyb20obmV3IFRSUENXZWJTb2NrZXRDbG9zZWRFcnJvcignV2ViU29ja2V0IGNsb3NlZCBwcmVtYXR1cmVseScpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvbm47XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcXVlc3Qob3AsIGNhbGxiYWNrcykge1xuICAgICAgICBjb25zdCB7IHR5cGUgLCBpbnB1dCAsIHBhdGggLCBpZCAgfSA9IG9wO1xuICAgICAgICBjb25zdCBlbnZlbG9wZSA9IHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgbWV0aG9kOiB0eXBlLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgcGF0aFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBwZW5kaW5nUmVxdWVzdHNbaWRdID0ge1xuICAgICAgICAgICAgd3M6IGFjdGl2ZUNvbm5lY3Rpb24sXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgY2FsbGJhY2tzLFxuICAgICAgICAgICAgb3BcbiAgICAgICAgfTtcbiAgICAgICAgLy8gZW5xdWV1ZSBtZXNzYWdlXG4gICAgICAgIG91dGdvaW5nLnB1c2goZW52ZWxvcGUpO1xuICAgICAgICBkaXNwYXRjaCgpO1xuICAgICAgICByZXR1cm4gKCk9PntcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IHBlbmRpbmdSZXF1ZXN0c1tpZF0/LmNhbGxiYWNrcztcbiAgICAgICAgICAgIGRlbGV0ZSBwZW5kaW5nUmVxdWVzdHNbaWRdO1xuICAgICAgICAgICAgb3V0Z29pbmcgPSBvdXRnb2luZy5maWx0ZXIoKG1zZyk9Pm1zZy5pZCAhPT0gaWQpO1xuICAgICAgICAgICAgY2FsbGJhY2tzPy5jb21wbGV0ZT8uKCk7XG4gICAgICAgICAgICBpZiAoYWN0aXZlQ29ubmVjdGlvbi5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXRJbXBsLk9QRU4gJiYgb3AudHlwZSA9PT0gJ3N1YnNjcmlwdGlvbicpIHtcbiAgICAgICAgICAgICAgICBvdXRnb2luZy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3N1YnNjcmlwdGlvbi5zdG9wJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGNsb3NlOiAoKT0+e1xuICAgICAgICAgICAgc3RhdGUgPSAnY2xvc2VkJztcbiAgICAgICAgICAgIG9uQ2xvc2U/LigpO1xuICAgICAgICAgICAgY2xvc2VBY3RpdmVTdWJzY3JpcHRpb25zKCk7XG4gICAgICAgICAgICBjbG9zZUlmTm9QZW5kaW5nKGFjdGl2ZUNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3RUaW1lcik7XG4gICAgICAgICAgICBjb25uZWN0VGltZXIgPSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBnZXRDb25uZWN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVDb25uZWN0aW9uO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmNsYXNzIFRSUENXZWJTb2NrZXRDbG9zZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKXtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdUUlBDV2ViU29ja2V0Q2xvc2VkRXJyb3InO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVFJQQ1dlYlNvY2tldENsb3NlZEVycm9yLnByb3RvdHlwZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAc2VlIGh0dHBzOi8vdHJwYy5pby9kb2NzL2NsaWVudC9saW5rcy93c0xpbmtcbiAqLyBmdW5jdGlvbiB3c0xpbmsob3B0cykge1xuICAgIHJldHVybiAocnVudGltZSk9PntcbiAgICAgICAgY29uc3QgeyBjbGllbnQgIH0gPSBvcHRzO1xuICAgICAgICByZXR1cm4gKHsgb3AgIH0pPT57XG4gICAgICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZSgob2JzZXJ2ZXIpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0eXBlICwgcGF0aCAsIGlkICwgY29udGV4dCAgfSA9IG9wO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gcnVudGltZS50cmFuc2Zvcm1lci5zZXJpYWxpemUob3AuaW5wdXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuc3ViID0gY2xpZW50LnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bnN1YigpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBuZXh0IChtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZCA9IHRyYW5zZm9ybVJlc3VsdChtZXNzYWdlLCBydW50aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdHJhbnNmb3JtZWQub2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihUUlBDQ2xpZW50RXJyb3IuZnJvbSh0cmFuc2Zvcm1lZC5lcnJvcikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogdHJhbnNmb3JtZWQucmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcC50eXBlICE9PSAnc3Vic2NyaXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0IGlzbid0IGEgc3Vic2NyaXB0aW9uIHdlIGRvbid0IGNhcmUgYWJvdXQgbmV4dCByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc3ViKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgICAgICAgICB1bnN1YigpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG5leHBvcnQgeyBjcmVhdGVXU0NsaWVudCwgd3NMaW5rIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/links/wsLink.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/client/dist/splitLink-4c75f7be.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/splitLink-4c75f7be.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   c: () => (/* binding */ createChain),\n/* harmony export */   s: () => (/* binding */ splitLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(ssr)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n\n\n/** @internal */ function createChain(opts) {\n    return (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n        function execute(index = 0, op = opts.op) {\n            const next = opts.links[index];\n            if (!next) {\n                throw new Error('No more links to execute - did you forget to add an ending link?');\n            }\n            const subscription = next({\n                op,\n                next (nextOp) {\n                    const nextObserver = execute(index + 1, nextOp);\n                    return nextObserver;\n                }\n            });\n            return subscription;\n        }\n        const obs$ = execute();\n        return obs$.subscribe(observer);\n    });\n}\n\nfunction asArray(value) {\n    return Array.isArray(value) ? value : [\n        value\n    ];\n}\nfunction splitLink(opts) {\n    return (runtime)=>{\n        const yes = asArray(opts.true).map((link)=>link(runtime));\n        const no = asArray(opts.false).map((link)=>link(runtime));\n        return (props)=>{\n            return (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n                const links = opts.condition(props.op) ? yes : no;\n                return createChain({\n                    op: props.op,\n                    links\n                }).subscribe(observer);\n            });\n        };\n    };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3Qvc3BsaXRMaW5rLTRjNzVmN2JlLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUQ7O0FBRXJEO0FBQ0EsV0FBVyxtRUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1FQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW92aWUtcmV2aWV3LWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9jbGllbnQvZGlzdC9zcGxpdExpbmstNGM3NWY3YmUubWpzPzgyOWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgb2JzZXJ2YWJsZSB9IGZyb20gJ0B0cnBjL3NlcnZlci9vYnNlcnZhYmxlJztcblxuLyoqIEBpbnRlcm5hbCAqLyBmdW5jdGlvbiBjcmVhdGVDaGFpbihvcHRzKSB7XG4gICAgcmV0dXJuIG9ic2VydmFibGUoKG9ic2VydmVyKT0+e1xuICAgICAgICBmdW5jdGlvbiBleGVjdXRlKGluZGV4ID0gMCwgb3AgPSBvcHRzLm9wKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gb3B0cy5saW5rc1tpbmRleF07XG4gICAgICAgICAgICBpZiAoIW5leHQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG1vcmUgbGlua3MgdG8gZXhlY3V0ZSAtIGRpZCB5b3UgZm9yZ2V0IHRvIGFkZCBhbiBlbmRpbmcgbGluaz8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IG5leHQoe1xuICAgICAgICAgICAgICAgIG9wLFxuICAgICAgICAgICAgICAgIG5leHQgKG5leHRPcCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0T2JzZXJ2ZXIgPSBleGVjdXRlKGluZGV4ICsgMSwgbmV4dE9wKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHRPYnNlcnZlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2JzJCA9IGV4ZWN1dGUoKTtcbiAgICAgICAgcmV0dXJuIG9icyQuc3Vic2NyaWJlKG9ic2VydmVyKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYXNBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW1xuICAgICAgICB2YWx1ZVxuICAgIF07XG59XG5mdW5jdGlvbiBzcGxpdExpbmsob3B0cykge1xuICAgIHJldHVybiAocnVudGltZSk9PntcbiAgICAgICAgY29uc3QgeWVzID0gYXNBcnJheShvcHRzLnRydWUpLm1hcCgobGluayk9PmxpbmsocnVudGltZSkpO1xuICAgICAgICBjb25zdCBubyA9IGFzQXJyYXkob3B0cy5mYWxzZSkubWFwKChsaW5rKT0+bGluayhydW50aW1lKSk7XG4gICAgICAgIHJldHVybiAocHJvcHMpPT57XG4gICAgICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZSgob2JzZXJ2ZXIpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgbGlua3MgPSBvcHRzLmNvbmRpdGlvbihwcm9wcy5vcCkgPyB5ZXMgOiBubztcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ2hhaW4oe1xuICAgICAgICAgICAgICAgICAgICBvcDogcHJvcHMub3AsXG4gICAgICAgICAgICAgICAgICAgIGxpbmtzXG4gICAgICAgICAgICAgICAgfSkuc3Vic2NyaWJlKG9ic2VydmVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH07XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUNoYWluIGFzIGMsIHNwbGl0TGluayBhcyBzIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/splitLink-4c75f7be.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   i: () => (/* binding */ isObject),\n/* harmony export */   t: () => (/* binding */ transformResult)\n/* harmony export */ });\nfunction isObject(value) {\n    // check that value is object\n    return !!value && !Array.isArray(value) && typeof value === 'object';\n}\n\n// FIXME:\n// - the generics here are probably unnecessary\n// - the RPC-spec could probably be simplified to combine HTTP + WS\n/** @internal */ function transformResultInner(response, runtime) {\n    if ('error' in response) {\n        const error = runtime.transformer.deserialize(response.error);\n        return {\n            ok: false,\n            error: {\n                ...response,\n                error\n            }\n        };\n    }\n    const result = {\n        ...response.result,\n        ...(!response.result.type || response.result.type === 'data') && {\n            type: 'data',\n            data: runtime.transformer.deserialize(response.result.data)\n        }\n    };\n    return {\n        ok: true,\n        result\n    };\n}\nclass TransformResultError extends Error {\n    constructor(){\n        super('Unable to transform response from server');\n    }\n}\n/**\n * Transforms and validates that the result is a valid TRPCResponse\n * @internal\n */ function transformResult(response, runtime) {\n    let result;\n    try {\n        // Use the data transformers on the JSON-response\n        result = transformResultInner(response, runtime);\n    } catch (err) {\n        throw new TransformResultError();\n    }\n    // check that output of the transformers is a valid TRPCResponse\n    if (!result.ok && (!isObject(result.error.error) || typeof result.error.error.code !== 'number')) {\n        throw new TransformResultError();\n    }\n    if (result.ok && !isObject(result.result)) {\n        throw new TransformResultError();\n    }\n    return result;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvdHJhbnNmb3JtUmVzdWx0LWFjZTg2NGI4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUrQyIsInNvdXJjZXMiOlsid2VicGFjazovL21vdmllLXJldmlldy1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvdHJhbnNmb3JtUmVzdWx0LWFjZTg2NGI4Lm1qcz9kZmM0Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgLy8gY2hlY2sgdGhhdCB2YWx1ZSBpcyBvYmplY3RcbiAgICByZXR1cm4gISF2YWx1ZSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jztcbn1cblxuLy8gRklYTUU6XG4vLyAtIHRoZSBnZW5lcmljcyBoZXJlIGFyZSBwcm9iYWJseSB1bm5lY2Vzc2FyeVxuLy8gLSB0aGUgUlBDLXNwZWMgY291bGQgcHJvYmFibHkgYmUgc2ltcGxpZmllZCB0byBjb21iaW5lIEhUVFAgKyBXU1xuLyoqIEBpbnRlcm5hbCAqLyBmdW5jdGlvbiB0cmFuc2Zvcm1SZXN1bHRJbm5lcihyZXNwb25zZSwgcnVudGltZSkge1xuICAgIGlmICgnZXJyb3InIGluIHJlc3BvbnNlKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gcnVudGltZS50cmFuc2Zvcm1lci5kZXNlcmlhbGl6ZShyZXNwb25zZS5lcnJvcik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvazogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgLi4ucmVzcG9uc2UucmVzdWx0LFxuICAgICAgICAuLi4oIXJlc3BvbnNlLnJlc3VsdC50eXBlIHx8IHJlc3BvbnNlLnJlc3VsdC50eXBlID09PSAnZGF0YScpICYmIHtcbiAgICAgICAgICAgIHR5cGU6ICdkYXRhJyxcbiAgICAgICAgICAgIGRhdGE6IHJ1bnRpbWUudHJhbnNmb3JtZXIuZGVzZXJpYWxpemUocmVzcG9uc2UucmVzdWx0LmRhdGEpXG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICByZXN1bHRcbiAgICB9O1xufVxuY2xhc3MgVHJhbnNmb3JtUmVzdWx0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgc3VwZXIoJ1VuYWJsZSB0byB0cmFuc2Zvcm0gcmVzcG9uc2UgZnJvbSBzZXJ2ZXInKTtcbiAgICB9XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgYW5kIHZhbGlkYXRlcyB0aGF0IHRoZSByZXN1bHQgaXMgYSB2YWxpZCBUUlBDUmVzcG9uc2VcbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIHRyYW5zZm9ybVJlc3VsdChyZXNwb25zZSwgcnVudGltZSkge1xuICAgIGxldCByZXN1bHQ7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gVXNlIHRoZSBkYXRhIHRyYW5zZm9ybWVycyBvbiB0aGUgSlNPTi1yZXNwb25zZVxuICAgICAgICByZXN1bHQgPSB0cmFuc2Zvcm1SZXN1bHRJbm5lcihyZXNwb25zZSwgcnVudGltZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRocm93IG5ldyBUcmFuc2Zvcm1SZXN1bHRFcnJvcigpO1xuICAgIH1cbiAgICAvLyBjaGVjayB0aGF0IG91dHB1dCBvZiB0aGUgdHJhbnNmb3JtZXJzIGlzIGEgdmFsaWQgVFJQQ1Jlc3BvbnNlXG4gICAgaWYgKCFyZXN1bHQub2sgJiYgKCFpc09iamVjdChyZXN1bHQuZXJyb3IuZXJyb3IpIHx8IHR5cGVvZiByZXN1bHQuZXJyb3IuZXJyb3IuY29kZSAhPT0gJ251bWJlcicpKSB7XG4gICAgICAgIHRocm93IG5ldyBUcmFuc2Zvcm1SZXN1bHRFcnJvcigpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0Lm9rICYmICFpc09iamVjdChyZXN1bHQucmVzdWx0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHJhbnNmb3JtUmVzdWx0RXJyb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHsgaXNPYmplY3QgYXMgaSwgdHJhbnNmb3JtUmVzdWx0IGFzIHQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/react-query/dist/createHooksInternal-063195fc.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@trpc/react-query/dist/createHooksInternal-063195fc.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   T: () => (/* binding */ TRPCContext),\n/* harmony export */   a: () => (/* binding */ createReactQueryUtilsProxy),\n/* harmony export */   b: () => (/* binding */ createReactProxyDecoration),\n/* harmony export */   c: () => (/* binding */ createHooksInternal),\n/* harmony export */   d: () => (/* binding */ getClientArgs),\n/* harmony export */   e: () => (/* binding */ createUseQueriesProxy),\n/* harmony export */   f: () => (/* binding */ createRootHooks),\n/* harmony export */   g: () => (/* binding */ getQueryKey),\n/* harmony export */   h: () => (/* binding */ contextProps)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/shared */ \"(ssr)/./node_modules/@trpc/server/dist/shared/index.mjs\");\n/* harmony import */ var _getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getArrayQueryKey-86134f8b.mjs */ \"(ssr)/./node_modules/@trpc/react-query/dist/getArrayQueryKey-86134f8b.mjs\");\n/* harmony import */ var _trpc_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @trpc/client */ \"(ssr)/./node_modules/@trpc/client/dist/index.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/react-query/build/lib/useQuery.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/react-query/build/lib/useMutation.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/query-core/build/lib/utils.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/react-query/build/lib/useQueries.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\n\n\n\n\n\n/**\n * We treat `undefined` as an input the same as omitting an `input`\n * https://github.com/trpc/trpc/issues/2290\n */ function getQueryKeyInternal(path, input) {\n    if (path.length) return input === undefined ? [\n        path\n    ] : [\n        path,\n        input\n    ];\n    return [];\n}\n/**\n * Method to extract the query key for a procedure\n * @param procedureOrRouter - procedure or AnyRouter\n * @param input - input to procedureOrRouter\n * @param type - defaults to `any`\n * @link https://trpc.io/docs/getQueryKey\n */ function getQueryKey(..._params) {\n    const [procedureOrRouter, input, type] = _params;\n    // @ts-expect-error - we don't expose _def on the type layer\n    const path = procedureOrRouter._def().path;\n    const dotPath = path.join('.');\n    const queryKey = (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(getQueryKeyInternal(dotPath, input), type ?? 'any');\n    return queryKey;\n}\n\n/**\n * Create proxy for decorating procedures\n * @internal\n */ function createReactProxyDecoration(name, hooks) {\n    return (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_0__.createRecursiveProxy)((opts)=>{\n        const args = opts.args;\n        const pathCopy = [\n            name,\n            ...opts.path\n        ];\n        // The last arg is for instance `.useMutation` or `.useQuery()`\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const lastArg = pathCopy.pop();\n        // The `path` ends up being something like `post.byId`\n        const path = pathCopy.join('.');\n        if (lastArg === 'useMutation') {\n            return hooks[lastArg](path, ...args);\n        }\n        const [input, ...rest] = args;\n        const queryKey = getQueryKeyInternal(path, input);\n        // Expose queryKey helper\n        if (lastArg === 'getQueryKey') {\n            return (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryKey, rest[0] ?? 'any');\n        }\n        if (lastArg === '_def') {\n            return {\n                path: pathCopy\n            };\n        }\n        if (lastArg.startsWith('useSuspense')) {\n            const opts1 = rest[0] || {};\n            const fn = lastArg === 'useSuspenseQuery' ? 'useQuery' : 'useInfiniteQuery';\n            const result = hooks[fn](queryKey, {\n                ...opts1,\n                suspense: true,\n                enabled: true\n            });\n            return [\n                result.data,\n                result\n            ];\n        }\n        return hooks[lastArg](queryKey, ...rest);\n    });\n}\n\nconst contextProps = [\n    'client',\n    'ssrContext',\n    'ssrState',\n    'abortOnUnmount'\n];\nconst TRPCContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(null);\n\n/**\n * @internal\n */ function createReactQueryUtilsProxy(context) {\n    return (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_0__.createFlatProxy)((key)=>{\n        const contextName = key;\n        if (contextName === 'client') {\n            return (0,_trpc_client__WEBPACK_IMPORTED_MODULE_2__.createTRPCClientProxy)(context.client);\n        }\n        if (contextProps.includes(contextName)) {\n            return context[contextName];\n        }\n        return (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_0__.createRecursiveProxy)(({ path , args  })=>{\n            const pathCopy = [\n                key,\n                ...path\n            ];\n            const utilName = pathCopy.pop();\n            const fullPath = pathCopy.join('.');\n            const getOpts = (name)=>{\n                if ([\n                    'setData',\n                    'setInfiniteData'\n                ].includes(name)) {\n                    const [input, updater, ...rest] = args;\n                    const queryKey = getQueryKeyInternal(fullPath, input);\n                    return {\n                        queryKey,\n                        updater,\n                        rest\n                    };\n                }\n                const [input1, ...rest1] = args;\n                const queryKey1 = getQueryKeyInternal(fullPath, input1);\n                return {\n                    queryKey: queryKey1,\n                    rest: rest1\n                };\n            };\n            const { queryKey , rest , updater  } = getOpts(utilName);\n            const contextMap = {\n                fetch: ()=>context.fetchQuery(queryKey, ...rest),\n                fetchInfinite: ()=>context.fetchInfiniteQuery(queryKey, ...rest),\n                prefetch: ()=>context.prefetchQuery(queryKey, ...rest),\n                prefetchInfinite: ()=>context.prefetchInfiniteQuery(queryKey, ...rest),\n                ensureData: ()=>context.ensureQueryData(queryKey, ...rest),\n                invalidate: ()=>context.invalidateQueries(queryKey, ...rest),\n                reset: ()=>context.resetQueries(queryKey, ...rest),\n                refetch: ()=>context.refetchQueries(queryKey, ...rest),\n                cancel: ()=>context.cancelQuery(queryKey, ...rest),\n                setData: ()=>{\n                    context.setQueryData(queryKey, updater, ...rest);\n                },\n                setInfiniteData: ()=>{\n                    context.setInfiniteQueryData(queryKey, updater, ...rest);\n                },\n                getData: ()=>context.getQueryData(queryKey),\n                getInfiniteData: ()=>context.getInfiniteQueryData(queryKey)\n            };\n            return contextMap[utilName]();\n        });\n    });\n}\n\n/**\n * Create proxy for `useQueries` options\n * @internal\n */ function createUseQueriesProxy(client) {\n    return (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_0__.createRecursiveProxy)((opts)=>{\n        const path = opts.path.join('.');\n        const [input, _opts] = opts.args;\n        const queryKey = getQueryKeyInternal(path, input);\n        const options = {\n            queryKey,\n            queryFn: ()=>{\n                return client.query(path, input, _opts?.trpc);\n            },\n            ..._opts\n        };\n        return options;\n    });\n}\n\nfunction getClientArgs(pathAndInput, opts) {\n    const [path, input] = pathAndInput;\n    return [\n        path,\n        input,\n        opts?.trpc\n    ];\n}\n\n/**\n * Makes a stable reference of the `trpc` prop\n */ function useHookResult(value) {\n    const { path  } = value;\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>({\n            path\n        }), [\n        path\n    ]);\n}\n\n/**\n * @internal\n */ function createRootHooks(config) {\n    const mutationSuccessOverride = (config?.overrides ?? config?.unstable_overrides)?.useMutation?.onSuccess ?? ((options)=>options.originalFn());\n    const Context = config?.context ?? TRPCContext;\n    const ReactQueryContext = config?.reactQueryContext;\n    const createClient = (opts)=>{\n        return (0,_trpc_client__WEBPACK_IMPORTED_MODULE_2__.createTRPCClient)(opts);\n    };\n    const TRPCProvider = (props)=>{\n        const { abortOnUnmount =false , client , queryClient , ssrContext  } = props;\n        const [ssrState, setSSRState] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(props.ssrState ?? false);\n        (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n            // Only updating state to `mounted` if we are using SSR.\n            // This makes it so we don't have an unnecessary re-render when opting out of SSR.\n            setSSRState((state)=>state ? 'mounted' : false);\n        }, []);\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_3__.createElement(Context.Provider, {\n            value: {\n                abortOnUnmount,\n                queryClient,\n                client,\n                ssrContext: ssrContext ?? null,\n                ssrState,\n                fetchQuery: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((pathAndInput, opts)=>{\n                    return queryClient.fetchQuery({\n                        ...opts,\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'query'),\n                        queryFn: ()=>client.query(...getClientArgs(pathAndInput, opts))\n                    });\n                }, [\n                    client,\n                    queryClient\n                ]),\n                fetchInfiniteQuery: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((pathAndInput, opts)=>{\n                    return queryClient.fetchInfiniteQuery({\n                        ...opts,\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'infinite'),\n                        queryFn: ({ pageParam  })=>{\n                            const [path, input] = pathAndInput;\n                            const actualInput = {\n                                ...input,\n                                cursor: pageParam\n                            };\n                            return client.query(...getClientArgs([\n                                path,\n                                actualInput\n                            ], opts));\n                        }\n                    });\n                }, [\n                    client,\n                    queryClient\n                ]),\n                prefetchQuery: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((pathAndInput, opts)=>{\n                    return queryClient.prefetchQuery({\n                        ...opts,\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'query'),\n                        queryFn: ()=>client.query(...getClientArgs(pathAndInput, opts))\n                    });\n                }, [\n                    client,\n                    queryClient\n                ]),\n                prefetchInfiniteQuery: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((pathAndInput, opts)=>{\n                    return queryClient.prefetchInfiniteQuery({\n                        ...opts,\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'infinite'),\n                        queryFn: ({ pageParam  })=>{\n                            const [path, input] = pathAndInput;\n                            const actualInput = {\n                                ...input,\n                                cursor: pageParam\n                            };\n                            return client.query(...getClientArgs([\n                                path,\n                                actualInput\n                            ], opts));\n                        }\n                    });\n                }, [\n                    client,\n                    queryClient\n                ]),\n                ensureQueryData: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((pathAndInput, opts)=>{\n                    return queryClient.ensureQueryData({\n                        ...opts,\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'query'),\n                        queryFn: ()=>client.query(...getClientArgs(pathAndInput, opts))\n                    });\n                }, [\n                    client,\n                    queryClient\n                ]),\n                invalidateQueries: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((queryKey, filters, options)=>{\n                    return queryClient.invalidateQueries({\n                        ...filters,\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryKey, 'any')\n                    }, options);\n                }, [\n                    queryClient\n                ]),\n                resetQueries: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((...args)=>{\n                    const [queryKey, filters, options] = args;\n                    return queryClient.resetQueries({\n                        ...filters,\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryKey, 'any')\n                    }, options);\n                }, [\n                    queryClient\n                ]),\n                refetchQueries: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((...args)=>{\n                    const [queryKey, filters, options] = args;\n                    return queryClient.refetchQueries({\n                        ...filters,\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryKey, 'any')\n                    }, options);\n                }, [\n                    queryClient\n                ]),\n                cancelQuery: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((pathAndInput)=>{\n                    return queryClient.cancelQueries({\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'any')\n                    });\n                }, [\n                    queryClient\n                ]),\n                setQueryData: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((...args)=>{\n                    const [queryKey, ...rest] = args;\n                    return queryClient.setQueryData((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryKey, 'query'), ...rest);\n                }, [\n                    queryClient\n                ]),\n                getQueryData: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((...args)=>{\n                    const [queryKey, ...rest] = args;\n                    return queryClient.getQueryData((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryKey, 'query'), ...rest);\n                }, [\n                    queryClient\n                ]),\n                setInfiniteQueryData: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((...args)=>{\n                    const [queryKey, ...rest] = args;\n                    return queryClient.setQueryData((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryKey, 'infinite'), ...rest);\n                }, [\n                    queryClient\n                ]),\n                getInfiniteQueryData: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((...args)=>{\n                    const [queryKey, ...rest] = args;\n                    return queryClient.getQueryData((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryKey, 'infinite'), ...rest);\n                }, [\n                    queryClient\n                ])\n            }\n        }, props.children);\n    };\n    function useContext() {\n        return react__WEBPACK_IMPORTED_MODULE_3__.useContext(Context);\n    }\n    /**\n   * Hack to make sure errors return `status`='error` when doing SSR\n   * @link https://github.com/trpc/trpc/pull/1645\n   */ function useSSRQueryOptionsIfNeeded(pathAndInput, type, opts) {\n        const { queryClient , ssrState  } = useContext();\n        return ssrState && ssrState !== 'mounted' && queryClient.getQueryCache().find((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, type))?.state.status === 'error' ? {\n            retryOnMount: false,\n            ...opts\n        } : opts;\n    }\n    function useQuery$1(// FIXME path should be a tuple in next major\n    pathAndInput, opts) {\n        const context = useContext();\n        if (!context) {\n            throw new Error('Unable to retrieve application context. Did you forget to wrap your App inside `withTRPC` HoC?');\n        }\n        const { abortOnUnmount , client , ssrState , queryClient , prefetchQuery  } = context;\n        const defaultOpts = queryClient.getQueryDefaults((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'query'));\n        if (typeof window === 'undefined' && ssrState === 'prepass' && opts?.trpc?.ssr !== false && (opts?.enabled ?? defaultOpts?.enabled) !== false && !queryClient.getQueryCache().find((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'query'))) {\n            void prefetchQuery(pathAndInput, opts);\n        }\n        const ssrOpts = useSSRQueryOptionsIfNeeded(pathAndInput, 'query', {\n            ...defaultOpts,\n            ...opts\n        });\n        const shouldAbortOnUnmount = opts?.trpc?.abortOnUnmount ?? config?.abortOnUnmount ?? abortOnUnmount;\n        const hook = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_4__.useQuery)({\n            ...ssrOpts,\n            queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'query'),\n            queryFn: (queryFunctionContext)=>{\n                const actualOpts = {\n                    ...ssrOpts,\n                    trpc: {\n                        ...ssrOpts?.trpc,\n                        ...shouldAbortOnUnmount ? {\n                            signal: queryFunctionContext.signal\n                        } : {}\n                    }\n                };\n                return client.query(...getClientArgs(pathAndInput, actualOpts));\n            },\n            context: ReactQueryContext\n        });\n        hook.trpc = useHookResult({\n            path: pathAndInput[0]\n        });\n        return hook;\n    }\n    function useMutation$1(// FIXME: this should only be a tuple path in next major\n    path, opts) {\n        const { client  } = useContext();\n        const queryClient = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_5__.useQueryClient)({\n            context: ReactQueryContext\n        });\n        const actualPath = Array.isArray(path) ? path[0] : path;\n        const defaultOpts = queryClient.getMutationDefaults([\n            actualPath.split('.')\n        ]);\n        const hook = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_6__.useMutation)({\n            ...opts,\n            mutationKey: [\n                actualPath.split('.')\n            ],\n            mutationFn: (input)=>{\n                return client.mutation(...getClientArgs([\n                    actualPath,\n                    input\n                ], opts));\n            },\n            context: ReactQueryContext,\n            onSuccess (...args) {\n                const originalFn = ()=>opts?.onSuccess?.(...args) ?? defaultOpts?.onSuccess?.(...args);\n                return mutationSuccessOverride({\n                    originalFn,\n                    queryClient,\n                    meta: opts?.meta ?? defaultOpts?.meta ?? {}\n                });\n            }\n        });\n        hook.trpc = useHookResult({\n            path: actualPath\n        });\n        return hook;\n    }\n    /* istanbul ignore next -- @preserve */ function useSubscription(pathAndInput, opts) {\n        const enabled = opts?.enabled ?? true;\n        const queryKey = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.hashQueryKey)(pathAndInput);\n        const { client  } = useContext();\n        const optsRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(opts);\n        optsRef.current = opts;\n        (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n            if (!enabled) {\n                return;\n            }\n            const [path, input] = pathAndInput;\n            let isStopped = false;\n            const subscription = client.subscription(path, input ?? undefined, {\n                onStarted: ()=>{\n                    if (!isStopped) {\n                        optsRef.current.onStarted?.();\n                    }\n                },\n                onData: (data)=>{\n                    if (!isStopped) {\n                        // FIXME this shouldn't be needed as both should be `unknown` in next major\n                        optsRef.current.onData(data);\n                    }\n                },\n                onError: (err)=>{\n                    if (!isStopped) {\n                        optsRef.current.onError?.(err);\n                    }\n                }\n            });\n            return ()=>{\n                isStopped = true;\n                subscription.unsubscribe();\n            };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [\n            queryKey,\n            enabled\n        ]);\n    }\n    function useInfiniteQuery$1(pathAndInput, opts) {\n        const [path, input] = pathAndInput;\n        const { client , ssrState , prefetchInfiniteQuery , queryClient , abortOnUnmount ,  } = useContext();\n        const defaultOpts = queryClient.getQueryDefaults((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'infinite'));\n        if (typeof window === 'undefined' && ssrState === 'prepass' && opts?.trpc?.ssr !== false && (opts?.enabled ?? defaultOpts?.enabled) !== false && !queryClient.getQueryCache().find((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'infinite'))) {\n            void prefetchInfiniteQuery(pathAndInput, {\n                ...defaultOpts,\n                ...opts\n            });\n        }\n        const ssrOpts = useSSRQueryOptionsIfNeeded(pathAndInput, 'infinite', {\n            ...defaultOpts,\n            ...opts\n        });\n        // request option should take priority over global\n        const shouldAbortOnUnmount = opts?.trpc?.abortOnUnmount ?? abortOnUnmount;\n        const hook = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_8__.useInfiniteQuery)({\n            ...ssrOpts,\n            queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'infinite'),\n            queryFn: (queryFunctionContext)=>{\n                const actualOpts = {\n                    ...ssrOpts,\n                    trpc: {\n                        ...ssrOpts?.trpc,\n                        ...shouldAbortOnUnmount ? {\n                            signal: queryFunctionContext.signal\n                        } : {}\n                    }\n                };\n                const actualInput = {\n                    ...input ?? {},\n                    cursor: queryFunctionContext.pageParam ?? opts?.initialCursor\n                };\n                // FIXME as any shouldn't be needed as client should be untyped too\n                return client.query(...getClientArgs([\n                    path,\n                    actualInput\n                ], actualOpts));\n            },\n            context: ReactQueryContext\n        });\n        hook.trpc = useHookResult({\n            path\n        });\n        return hook;\n    }\n    const useQueries$1 = (queriesCallback, context)=>{\n        const { ssrState , queryClient , prefetchQuery , client  } = useContext();\n        const proxy = createUseQueriesProxy(client);\n        const queries = queriesCallback(proxy);\n        if (typeof window === 'undefined' && ssrState === 'prepass') {\n            for (const query of queries){\n                const queryOption = query;\n                if (queryOption.trpc?.ssr !== false && !queryClient.getQueryCache().find((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryOption.queryKey, 'query'))) {\n                    void prefetchQuery(queryOption.queryKey, queryOption);\n                }\n            }\n        }\n        return (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_9__.useQueries)({\n            queries: queries.map((query)=>({\n                    ...query,\n                    queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(query.queryKey, 'query')\n                })),\n            context\n        });\n    };\n    const useDehydratedState = (client, trpcState)=>{\n        const transformed = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>{\n            if (!trpcState) {\n                return trpcState;\n            }\n            return client.runtime.transformer.deserialize(trpcState);\n        }, [\n            trpcState,\n            client\n        ]);\n        return transformed;\n    };\n    return {\n        Provider: TRPCProvider,\n        createClient,\n        useContext,\n        useUtils: useContext,\n        useQuery: useQuery$1,\n        useQueries: useQueries$1,\n        useMutation: useMutation$1,\n        useSubscription,\n        useDehydratedState,\n        useInfiniteQuery: useInfiniteQuery$1\n    };\n}\n\n/**\n * Create strongly typed react hooks\n * @internal\n * @deprecated\n */ function createHooksInternal(config) {\n    return createRootHooks(config);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvcmVhY3QtcXVlcnkvZGlzdC9jcmVhdGVIb29rc0ludGVybmFsLTA2MzE5NWZjLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTRFO0FBQ0o7QUFDRDtBQUNtRDtBQUMxQjs7QUFFaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixpRUFBZ0I7QUFDckM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcseUVBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaUVBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msb0RBQWE7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0VBQWU7QUFDMUI7QUFDQTtBQUNBLG1CQUFtQixtRUFBcUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlFQUFvQixJQUFJLGNBQWM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw2QkFBNkI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx5RUFBb0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCLFdBQVcsOENBQU87QUFDbEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw4REFBZ0I7QUFDL0I7QUFDQTtBQUNBLGdCQUFnQiw2REFBNkQ7QUFDN0Usd0NBQXdDLCtDQUFRO0FBQ2hELFFBQVEsZ0RBQVM7QUFDakI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDZCQUE2QixnREFBbUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGtEQUFXO0FBQ3ZDO0FBQ0E7QUFDQSxrQ0FBa0MsaUVBQWdCO0FBQ2xEO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msa0RBQVc7QUFDL0M7QUFDQTtBQUNBLGtDQUFrQyxpRUFBZ0I7QUFDbEQsb0NBQW9DLFlBQVk7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixrREFBVztBQUMxQztBQUNBO0FBQ0Esa0NBQWtDLGlFQUFnQjtBQUNsRDtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGtEQUFXO0FBQ2xEO0FBQ0E7QUFDQSxrQ0FBa0MsaUVBQWdCO0FBQ2xELG9DQUFvQyxZQUFZO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsa0RBQVc7QUFDNUM7QUFDQTtBQUNBLGtDQUFrQyxpRUFBZ0I7QUFDbEQ7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxrREFBVztBQUM5QztBQUNBO0FBQ0Esa0NBQWtDLGlFQUFnQjtBQUNsRCxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSw4QkFBOEIsa0RBQVc7QUFDekM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGlFQUFnQjtBQUNsRCxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxnQ0FBZ0Msa0RBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGlFQUFnQjtBQUNsRCxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSw2QkFBNkIsa0RBQVc7QUFDeEM7QUFDQSxrQ0FBa0MsaUVBQWdCO0FBQ2xELHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBLDhCQUE4QixrREFBVztBQUN6QztBQUNBLG9EQUFvRCxpRUFBZ0I7QUFDcEUsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSw4QkFBOEIsa0RBQVc7QUFDekM7QUFDQSxvREFBb0QsaUVBQWdCO0FBQ3BFLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0Esc0NBQXNDLGtEQUFXO0FBQ2pEO0FBQ0Esb0RBQW9ELGlFQUFnQjtBQUNwRSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLHNDQUFzQyxrREFBVztBQUNqRDtBQUNBLG9EQUFvRCxpRUFBZ0I7QUFDcEUsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZUFBZSw2Q0FBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwwQkFBMEI7QUFDMUMsc0ZBQXNGLGlFQUFnQjtBQUN0RztBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9FQUFvRTtBQUNwRix5REFBeUQsaUVBQWdCO0FBQ3pFLDJMQUEyTCxpRUFBZ0I7QUFDM007QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHFCQUFxQiwrREFBUTtBQUM3QjtBQUNBLHNCQUFzQixpRUFBZ0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsVUFBVTtBQUMxQiw0QkFBNEIscUVBQWM7QUFDMUM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsa0VBQVc7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsbUVBQVk7QUFDckMsZ0JBQWdCLFVBQVU7QUFDMUIsd0JBQXdCLDZDQUFNO0FBQzlCO0FBQ0EsUUFBUSxnREFBUztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsOEVBQThFO0FBQzlGLHlEQUF5RCxpRUFBZ0I7QUFDekUsMkxBQTJMLGlFQUFnQjtBQUMzTTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHFCQUFxQix1RUFBZ0I7QUFDckM7QUFDQSxzQkFBc0IsaUVBQWdCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtREFBbUQ7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlGQUF5RixpRUFBZ0I7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlFQUFVO0FBQ3pCO0FBQ0E7QUFDQSw4QkFBOEIsaUVBQWdCO0FBQzlDLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsNEJBQTRCLDhDQUFPO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFbU8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb3ZpZS1yZXZpZXctYXBwLy4vbm9kZV9tb2R1bGVzL0B0cnBjL3JlYWN0LXF1ZXJ5L2Rpc3QvY3JlYXRlSG9va3NJbnRlcm5hbC0wNjMxOTVmYy5tanM/MDAyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVSZWN1cnNpdmVQcm94eSwgY3JlYXRlRmxhdFByb3h5IH0gZnJvbSAnQHRycGMvc2VydmVyL3NoYXJlZCc7XG5pbXBvcnQgeyBnIGFzIGdldEFycmF5UXVlcnlLZXkgfSBmcm9tICcuL2dldEFycmF5UXVlcnlLZXktODYxMzRmOGIubWpzJztcbmltcG9ydCB7IGNyZWF0ZVRSUENDbGllbnRQcm94eSwgY3JlYXRlVFJQQ0NsaWVudCB9IGZyb20gJ0B0cnBjL2NsaWVudCc7XG5pbXBvcnQgeyB1c2VRdWVyeSwgdXNlUXVlcnlDbGllbnQsIHVzZU11dGF0aW9uLCBoYXNoUXVlcnlLZXksIHVzZUluZmluaXRlUXVlcnksIHVzZVF1ZXJpZXMgfSBmcm9tICdAdGFuc3RhY2svcmVhY3QtcXVlcnknO1xuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZU1lbW8sIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogV2UgdHJlYXQgYHVuZGVmaW5lZGAgYXMgYW4gaW5wdXQgdGhlIHNhbWUgYXMgb21pdHRpbmcgYW4gYGlucHV0YFxuICogaHR0cHM6Ly9naXRodWIuY29tL3RycGMvdHJwYy9pc3N1ZXMvMjI5MFxuICovIGZ1bmN0aW9uIGdldFF1ZXJ5S2V5SW50ZXJuYWwocGF0aCwgaW5wdXQpIHtcbiAgICBpZiAocGF0aC5sZW5ndGgpIHJldHVybiBpbnB1dCA9PT0gdW5kZWZpbmVkID8gW1xuICAgICAgICBwYXRoXG4gICAgXSA6IFtcbiAgICAgICAgcGF0aCxcbiAgICAgICAgaW5wdXRcbiAgICBdO1xuICAgIHJldHVybiBbXTtcbn1cbi8qKlxuICogTWV0aG9kIHRvIGV4dHJhY3QgdGhlIHF1ZXJ5IGtleSBmb3IgYSBwcm9jZWR1cmVcbiAqIEBwYXJhbSBwcm9jZWR1cmVPclJvdXRlciAtIHByb2NlZHVyZSBvciBBbnlSb3V0ZXJcbiAqIEBwYXJhbSBpbnB1dCAtIGlucHV0IHRvIHByb2NlZHVyZU9yUm91dGVyXG4gKiBAcGFyYW0gdHlwZSAtIGRlZmF1bHRzIHRvIGBhbnlgXG4gKiBAbGluayBodHRwczovL3RycGMuaW8vZG9jcy9nZXRRdWVyeUtleVxuICovIGZ1bmN0aW9uIGdldFF1ZXJ5S2V5KC4uLl9wYXJhbXMpIHtcbiAgICBjb25zdCBbcHJvY2VkdXJlT3JSb3V0ZXIsIGlucHV0LCB0eXBlXSA9IF9wYXJhbXM7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIHdlIGRvbid0IGV4cG9zZSBfZGVmIG9uIHRoZSB0eXBlIGxheWVyXG4gICAgY29uc3QgcGF0aCA9IHByb2NlZHVyZU9yUm91dGVyLl9kZWYoKS5wYXRoO1xuICAgIGNvbnN0IGRvdFBhdGggPSBwYXRoLmpvaW4oJy4nKTtcbiAgICBjb25zdCBxdWVyeUtleSA9IGdldEFycmF5UXVlcnlLZXkoZ2V0UXVlcnlLZXlJbnRlcm5hbChkb3RQYXRoLCBpbnB1dCksIHR5cGUgPz8gJ2FueScpO1xuICAgIHJldHVybiBxdWVyeUtleTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgcHJveHkgZm9yIGRlY29yYXRpbmcgcHJvY2VkdXJlc1xuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gY3JlYXRlUmVhY3RQcm94eURlY29yYXRpb24obmFtZSwgaG9va3MpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVjdXJzaXZlUHJveHkoKG9wdHMpPT57XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBvcHRzLmFyZ3M7XG4gICAgICAgIGNvbnN0IHBhdGhDb3B5ID0gW1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIC4uLm9wdHMucGF0aFxuICAgICAgICBdO1xuICAgICAgICAvLyBUaGUgbGFzdCBhcmcgaXMgZm9yIGluc3RhbmNlIGAudXNlTXV0YXRpb25gIG9yIGAudXNlUXVlcnkoKWBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgY29uc3QgbGFzdEFyZyA9IHBhdGhDb3B5LnBvcCgpO1xuICAgICAgICAvLyBUaGUgYHBhdGhgIGVuZHMgdXAgYmVpbmcgc29tZXRoaW5nIGxpa2UgYHBvc3QuYnlJZGBcbiAgICAgICAgY29uc3QgcGF0aCA9IHBhdGhDb3B5LmpvaW4oJy4nKTtcbiAgICAgICAgaWYgKGxhc3RBcmcgPT09ICd1c2VNdXRhdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBob29rc1tsYXN0QXJnXShwYXRoLCAuLi5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbaW5wdXQsIC4uLnJlc3RdID0gYXJncztcbiAgICAgICAgY29uc3QgcXVlcnlLZXkgPSBnZXRRdWVyeUtleUludGVybmFsKHBhdGgsIGlucHV0KTtcbiAgICAgICAgLy8gRXhwb3NlIHF1ZXJ5S2V5IGhlbHBlclxuICAgICAgICBpZiAobGFzdEFyZyA9PT0gJ2dldFF1ZXJ5S2V5Jykge1xuICAgICAgICAgICAgcmV0dXJuIGdldEFycmF5UXVlcnlLZXkocXVlcnlLZXksIHJlc3RbMF0gPz8gJ2FueScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYXN0QXJnID09PSAnX2RlZicpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcGF0aDogcGF0aENvcHlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3RBcmcuc3RhcnRzV2l0aCgndXNlU3VzcGVuc2UnKSkge1xuICAgICAgICAgICAgY29uc3Qgb3B0czEgPSByZXN0WzBdIHx8IHt9O1xuICAgICAgICAgICAgY29uc3QgZm4gPSBsYXN0QXJnID09PSAndXNlU3VzcGVuc2VRdWVyeScgPyAndXNlUXVlcnknIDogJ3VzZUluZmluaXRlUXVlcnknO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gaG9va3NbZm5dKHF1ZXJ5S2V5LCB7XG4gICAgICAgICAgICAgICAgLi4ub3B0czEsXG4gICAgICAgICAgICAgICAgc3VzcGVuc2U6IHRydWUsXG4gICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHJlc3VsdC5kYXRhLFxuICAgICAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaG9va3NbbGFzdEFyZ10ocXVlcnlLZXksIC4uLnJlc3QpO1xuICAgIH0pO1xufVxuXG5jb25zdCBjb250ZXh0UHJvcHMgPSBbXG4gICAgJ2NsaWVudCcsXG4gICAgJ3NzckNvbnRleHQnLFxuICAgICdzc3JTdGF0ZScsXG4gICAgJ2Fib3J0T25Vbm1vdW50J1xuXTtcbmNvbnN0IFRSUENDb250ZXh0ID0gLyojX19QVVJFX18qLyBjcmVhdGVDb250ZXh0KG51bGwpO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIGNyZWF0ZVJlYWN0UXVlcnlVdGlsc1Byb3h5KGNvbnRleHQpIHtcbiAgICByZXR1cm4gY3JlYXRlRmxhdFByb3h5KChrZXkpPT57XG4gICAgICAgIGNvbnN0IGNvbnRleHROYW1lID0ga2V5O1xuICAgICAgICBpZiAoY29udGV4dE5hbWUgPT09ICdjbGllbnQnKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVFJQQ0NsaWVudFByb3h5KGNvbnRleHQuY2xpZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dFByb3BzLmluY2x1ZGVzKGNvbnRleHROYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHRbY29udGV4dE5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnNpdmVQcm94eSgoeyBwYXRoICwgYXJncyAgfSk9PntcbiAgICAgICAgICAgIGNvbnN0IHBhdGhDb3B5ID0gW1xuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAuLi5wYXRoXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgY29uc3QgdXRpbE5hbWUgPSBwYXRoQ29weS5wb3AoKTtcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxQYXRoID0gcGF0aENvcHkuam9pbignLicpO1xuICAgICAgICAgICAgY29uc3QgZ2V0T3B0cyA9IChuYW1lKT0+e1xuICAgICAgICAgICAgICAgIGlmIChbXG4gICAgICAgICAgICAgICAgICAgICdzZXREYXRhJyxcbiAgICAgICAgICAgICAgICAgICAgJ3NldEluZmluaXRlRGF0YSdcbiAgICAgICAgICAgICAgICBdLmluY2x1ZGVzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtpbnB1dCwgdXBkYXRlciwgLi4ucmVzdF0gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWVyeUtleSA9IGdldFF1ZXJ5S2V5SW50ZXJuYWwoZnVsbFBhdGgsIGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5S2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgW2lucHV0MSwgLi4ucmVzdDFdID0gYXJncztcbiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeUtleTEgPSBnZXRRdWVyeUtleUludGVybmFsKGZ1bGxQYXRoLCBpbnB1dDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5S2V5OiBxdWVyeUtleTEsXG4gICAgICAgICAgICAgICAgICAgIHJlc3Q6IHJlc3QxXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCB7IHF1ZXJ5S2V5ICwgcmVzdCAsIHVwZGF0ZXIgIH0gPSBnZXRPcHRzKHV0aWxOYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHRNYXAgPSB7XG4gICAgICAgICAgICAgICAgZmV0Y2g6ICgpPT5jb250ZXh0LmZldGNoUXVlcnkocXVlcnlLZXksIC4uLnJlc3QpLFxuICAgICAgICAgICAgICAgIGZldGNoSW5maW5pdGU6ICgpPT5jb250ZXh0LmZldGNoSW5maW5pdGVRdWVyeShxdWVyeUtleSwgLi4ucmVzdCksXG4gICAgICAgICAgICAgICAgcHJlZmV0Y2g6ICgpPT5jb250ZXh0LnByZWZldGNoUXVlcnkocXVlcnlLZXksIC4uLnJlc3QpLFxuICAgICAgICAgICAgICAgIHByZWZldGNoSW5maW5pdGU6ICgpPT5jb250ZXh0LnByZWZldGNoSW5maW5pdGVRdWVyeShxdWVyeUtleSwgLi4ucmVzdCksXG4gICAgICAgICAgICAgICAgZW5zdXJlRGF0YTogKCk9PmNvbnRleHQuZW5zdXJlUXVlcnlEYXRhKHF1ZXJ5S2V5LCAuLi5yZXN0KSxcbiAgICAgICAgICAgICAgICBpbnZhbGlkYXRlOiAoKT0+Y29udGV4dC5pbnZhbGlkYXRlUXVlcmllcyhxdWVyeUtleSwgLi4ucmVzdCksXG4gICAgICAgICAgICAgICAgcmVzZXQ6ICgpPT5jb250ZXh0LnJlc2V0UXVlcmllcyhxdWVyeUtleSwgLi4ucmVzdCksXG4gICAgICAgICAgICAgICAgcmVmZXRjaDogKCk9PmNvbnRleHQucmVmZXRjaFF1ZXJpZXMocXVlcnlLZXksIC4uLnJlc3QpLFxuICAgICAgICAgICAgICAgIGNhbmNlbDogKCk9PmNvbnRleHQuY2FuY2VsUXVlcnkocXVlcnlLZXksIC4uLnJlc3QpLFxuICAgICAgICAgICAgICAgIHNldERhdGE6ICgpPT57XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0UXVlcnlEYXRhKHF1ZXJ5S2V5LCB1cGRhdGVyLCAuLi5yZXN0KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldEluZmluaXRlRGF0YTogKCk9PntcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRJbmZpbml0ZVF1ZXJ5RGF0YShxdWVyeUtleSwgdXBkYXRlciwgLi4ucmVzdCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXREYXRhOiAoKT0+Y29udGV4dC5nZXRRdWVyeURhdGEocXVlcnlLZXkpLFxuICAgICAgICAgICAgICAgIGdldEluZmluaXRlRGF0YTogKCk9PmNvbnRleHQuZ2V0SW5maW5pdGVRdWVyeURhdGEocXVlcnlLZXkpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHRNYXBbdXRpbE5hbWVdKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZSBwcm94eSBmb3IgYHVzZVF1ZXJpZXNgIG9wdGlvbnNcbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIGNyZWF0ZVVzZVF1ZXJpZXNQcm94eShjbGllbnQpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVjdXJzaXZlUHJveHkoKG9wdHMpPT57XG4gICAgICAgIGNvbnN0IHBhdGggPSBvcHRzLnBhdGguam9pbignLicpO1xuICAgICAgICBjb25zdCBbaW5wdXQsIF9vcHRzXSA9IG9wdHMuYXJncztcbiAgICAgICAgY29uc3QgcXVlcnlLZXkgPSBnZXRRdWVyeUtleUludGVybmFsKHBhdGgsIGlucHV0KTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHF1ZXJ5S2V5LFxuICAgICAgICAgICAgcXVlcnlGbjogKCk9PntcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LnF1ZXJ5KHBhdGgsIGlucHV0LCBfb3B0cz8udHJwYyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLi4uX29wdHNcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldENsaWVudEFyZ3MocGF0aEFuZElucHV0LCBvcHRzKSB7XG4gICAgY29uc3QgW3BhdGgsIGlucHV0XSA9IHBhdGhBbmRJbnB1dDtcbiAgICByZXR1cm4gW1xuICAgICAgICBwYXRoLFxuICAgICAgICBpbnB1dCxcbiAgICAgICAgb3B0cz8udHJwY1xuICAgIF07XG59XG5cbi8qKlxuICogTWFrZXMgYSBzdGFibGUgcmVmZXJlbmNlIG9mIHRoZSBgdHJwY2AgcHJvcFxuICovIGZ1bmN0aW9uIHVzZUhvb2tSZXN1bHQodmFsdWUpIHtcbiAgICBjb25zdCB7IHBhdGggIH0gPSB2YWx1ZTtcbiAgICByZXR1cm4gdXNlTWVtbygoKT0+KHtcbiAgICAgICAgICAgIHBhdGhcbiAgICAgICAgfSksIFtcbiAgICAgICAgcGF0aFxuICAgIF0pO1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIGNyZWF0ZVJvb3RIb29rcyhjb25maWcpIHtcbiAgICBjb25zdCBtdXRhdGlvblN1Y2Nlc3NPdmVycmlkZSA9IChjb25maWc/Lm92ZXJyaWRlcyA/PyBjb25maWc/LnVuc3RhYmxlX292ZXJyaWRlcyk/LnVzZU11dGF0aW9uPy5vblN1Y2Nlc3MgPz8gKChvcHRpb25zKT0+b3B0aW9ucy5vcmlnaW5hbEZuKCkpO1xuICAgIGNvbnN0IENvbnRleHQgPSBjb25maWc/LmNvbnRleHQgPz8gVFJQQ0NvbnRleHQ7XG4gICAgY29uc3QgUmVhY3RRdWVyeUNvbnRleHQgPSBjb25maWc/LnJlYWN0UXVlcnlDb250ZXh0O1xuICAgIGNvbnN0IGNyZWF0ZUNsaWVudCA9IChvcHRzKT0+e1xuICAgICAgICByZXR1cm4gY3JlYXRlVFJQQ0NsaWVudChvcHRzKTtcbiAgICB9O1xuICAgIGNvbnN0IFRSUENQcm92aWRlciA9IChwcm9wcyk9PntcbiAgICAgICAgY29uc3QgeyBhYm9ydE9uVW5tb3VudCA9ZmFsc2UgLCBjbGllbnQgLCBxdWVyeUNsaWVudCAsIHNzckNvbnRleHQgIH0gPSBwcm9wcztcbiAgICAgICAgY29uc3QgW3NzclN0YXRlLCBzZXRTU1JTdGF0ZV0gPSB1c2VTdGF0ZShwcm9wcy5zc3JTdGF0ZSA/PyBmYWxzZSk7XG4gICAgICAgIHVzZUVmZmVjdCgoKT0+e1xuICAgICAgICAgICAgLy8gT25seSB1cGRhdGluZyBzdGF0ZSB0byBgbW91bnRlZGAgaWYgd2UgYXJlIHVzaW5nIFNTUi5cbiAgICAgICAgICAgIC8vIFRoaXMgbWFrZXMgaXQgc28gd2UgZG9uJ3QgaGF2ZSBhbiB1bm5lY2Vzc2FyeSByZS1yZW5kZXIgd2hlbiBvcHRpbmcgb3V0IG9mIFNTUi5cbiAgICAgICAgICAgIHNldFNTUlN0YXRlKChzdGF0ZSk9PnN0YXRlID8gJ21vdW50ZWQnIDogZmFsc2UpO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICBhYm9ydE9uVW5tb3VudCxcbiAgICAgICAgICAgICAgICBxdWVyeUNsaWVudCxcbiAgICAgICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICAgICAgc3NyQ29udGV4dDogc3NyQ29udGV4dCA/PyBudWxsLFxuICAgICAgICAgICAgICAgIHNzclN0YXRlLFxuICAgICAgICAgICAgICAgIGZldGNoUXVlcnk6IHVzZUNhbGxiYWNrKChwYXRoQW5kSW5wdXQsIG9wdHMpPT57XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeUNsaWVudC5mZXRjaFF1ZXJ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeUtleTogZ2V0QXJyYXlRdWVyeUtleShwYXRoQW5kSW5wdXQsICdxdWVyeScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlGbjogKCk9PmNsaWVudC5xdWVyeSguLi5nZXRDbGllbnRBcmdzKHBhdGhBbmRJbnB1dCwgb3B0cykpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgICAgICBxdWVyeUNsaWVudFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIGZldGNoSW5maW5pdGVRdWVyeTogdXNlQ2FsbGJhY2soKHBhdGhBbmRJbnB1dCwgb3B0cyk9PntcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Q2xpZW50LmZldGNoSW5maW5pdGVRdWVyeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlLZXk6IGdldEFycmF5UXVlcnlLZXkocGF0aEFuZElucHV0LCAnaW5maW5pdGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5Rm46ICh7IHBhZ2VQYXJhbSAgfSk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbcGF0aCwgaW5wdXRdID0gcGF0aEFuZElucHV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdHVhbElucHV0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5pbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwYWdlUGFyYW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGllbnQucXVlcnkoLi4uZ2V0Q2xpZW50QXJncyhbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSwgb3B0cykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCBbXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlDbGllbnRcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBwcmVmZXRjaFF1ZXJ5OiB1c2VDYWxsYmFjaygocGF0aEFuZElucHV0LCBvcHRzKT0+e1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlDbGllbnQucHJlZmV0Y2hRdWVyeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlLZXk6IGdldEFycmF5UXVlcnlLZXkocGF0aEFuZElucHV0LCAncXVlcnknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5Rm46ICgpPT5jbGllbnQucXVlcnkoLi4uZ2V0Q2xpZW50QXJncyhwYXRoQW5kSW5wdXQsIG9wdHMpKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCBbXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlDbGllbnRcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBwcmVmZXRjaEluZmluaXRlUXVlcnk6IHVzZUNhbGxiYWNrKChwYXRoQW5kSW5wdXQsIG9wdHMpPT57XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeUNsaWVudC5wcmVmZXRjaEluZmluaXRlUXVlcnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5S2V5OiBnZXRBcnJheVF1ZXJ5S2V5KHBhdGhBbmRJbnB1dCwgJ2luZmluaXRlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeUZuOiAoeyBwYWdlUGFyYW0gIH0pPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW3BhdGgsIGlucHV0XSA9IHBhdGhBbmRJbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3R1YWxJbnB1dCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcGFnZVBhcmFtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LnF1ZXJ5KC4uLmdldENsaWVudEFyZ3MoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sIG9wdHMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5Q2xpZW50XG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgZW5zdXJlUXVlcnlEYXRhOiB1c2VDYWxsYmFjaygocGF0aEFuZElucHV0LCBvcHRzKT0+e1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlDbGllbnQuZW5zdXJlUXVlcnlEYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeUtleTogZ2V0QXJyYXlRdWVyeUtleShwYXRoQW5kSW5wdXQsICdxdWVyeScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlGbjogKCk9PmNsaWVudC5xdWVyeSguLi5nZXRDbGllbnRBcmdzKHBhdGhBbmRJbnB1dCwgb3B0cykpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgICAgICBxdWVyeUNsaWVudFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIGludmFsaWRhdGVRdWVyaWVzOiB1c2VDYWxsYmFjaygocXVlcnlLZXksIGZpbHRlcnMsIG9wdGlvbnMpPT57XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5maWx0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlLZXk6IGdldEFycmF5UXVlcnlLZXkocXVlcnlLZXksICdhbnknKVxuICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9LCBbXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5Q2xpZW50XG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgcmVzZXRRdWVyaWVzOiB1c2VDYWxsYmFjaygoLi4uYXJncyk9PntcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW3F1ZXJ5S2V5LCBmaWx0ZXJzLCBvcHRpb25zXSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeUNsaWVudC5yZXNldFF1ZXJpZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZmlsdGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5S2V5OiBnZXRBcnJheVF1ZXJ5S2V5KHF1ZXJ5S2V5LCAnYW55JylcbiAgICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgICAgICBxdWVyeUNsaWVudFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIHJlZmV0Y2hRdWVyaWVzOiB1c2VDYWxsYmFjaygoLi4uYXJncyk9PntcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW3F1ZXJ5S2V5LCBmaWx0ZXJzLCBvcHRpb25zXSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeUNsaWVudC5yZWZldGNoUXVlcmllcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5maWx0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlLZXk6IGdldEFycmF5UXVlcnlLZXkocXVlcnlLZXksICdhbnknKVxuICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9LCBbXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5Q2xpZW50XG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgY2FuY2VsUXVlcnk6IHVzZUNhbGxiYWNrKChwYXRoQW5kSW5wdXQpPT57XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeUNsaWVudC5jYW5jZWxRdWVyaWVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5S2V5OiBnZXRBcnJheVF1ZXJ5S2V5KHBhdGhBbmRJbnB1dCwgJ2FueScpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlDbGllbnRcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBzZXRRdWVyeURhdGE6IHVzZUNhbGxiYWNrKCguLi5hcmdzKT0+e1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbcXVlcnlLZXksIC4uLnJlc3RdID0gYXJncztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Q2xpZW50LnNldFF1ZXJ5RGF0YShnZXRBcnJheVF1ZXJ5S2V5KHF1ZXJ5S2V5LCAncXVlcnknKSwgLi4ucmVzdCk7XG4gICAgICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgICAgICBxdWVyeUNsaWVudFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIGdldFF1ZXJ5RGF0YTogdXNlQ2FsbGJhY2soKC4uLmFyZ3MpPT57XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtxdWVyeUtleSwgLi4ucmVzdF0gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlDbGllbnQuZ2V0UXVlcnlEYXRhKGdldEFycmF5UXVlcnlLZXkocXVlcnlLZXksICdxdWVyeScpLCAuLi5yZXN0KTtcbiAgICAgICAgICAgICAgICB9LCBbXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5Q2xpZW50XG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgc2V0SW5maW5pdGVRdWVyeURhdGE6IHVzZUNhbGxiYWNrKCguLi5hcmdzKT0+e1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbcXVlcnlLZXksIC4uLnJlc3RdID0gYXJncztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Q2xpZW50LnNldFF1ZXJ5RGF0YShnZXRBcnJheVF1ZXJ5S2V5KHF1ZXJ5S2V5LCAnaW5maW5pdGUnKSwgLi4ucmVzdCk7XG4gICAgICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgICAgICBxdWVyeUNsaWVudFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIGdldEluZmluaXRlUXVlcnlEYXRhOiB1c2VDYWxsYmFjaygoLi4uYXJncyk9PntcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW3F1ZXJ5S2V5LCAuLi5yZXN0XSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeUNsaWVudC5nZXRRdWVyeURhdGEoZ2V0QXJyYXlRdWVyeUtleShxdWVyeUtleSwgJ2luZmluaXRlJyksIC4uLnJlc3QpO1xuICAgICAgICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlDbGllbnRcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBwcm9wcy5jaGlsZHJlbik7XG4gICAgfTtcbiAgICBmdW5jdGlvbiB1c2VDb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gUmVhY3QudXNlQ29udGV4dChDb250ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAqIEhhY2sgdG8gbWFrZSBzdXJlIGVycm9ycyByZXR1cm4gYHN0YXR1c2A9J2Vycm9yYCB3aGVuIGRvaW5nIFNTUlxuICAgKiBAbGluayBodHRwczovL2dpdGh1Yi5jb20vdHJwYy90cnBjL3B1bGwvMTY0NVxuICAgKi8gZnVuY3Rpb24gdXNlU1NSUXVlcnlPcHRpb25zSWZOZWVkZWQocGF0aEFuZElucHV0LCB0eXBlLCBvcHRzKSB7XG4gICAgICAgIGNvbnN0IHsgcXVlcnlDbGllbnQgLCBzc3JTdGF0ZSAgfSA9IHVzZUNvbnRleHQoKTtcbiAgICAgICAgcmV0dXJuIHNzclN0YXRlICYmIHNzclN0YXRlICE9PSAnbW91bnRlZCcgJiYgcXVlcnlDbGllbnQuZ2V0UXVlcnlDYWNoZSgpLmZpbmQoZ2V0QXJyYXlRdWVyeUtleShwYXRoQW5kSW5wdXQsIHR5cGUpKT8uc3RhdGUuc3RhdHVzID09PSAnZXJyb3InID8ge1xuICAgICAgICAgICAgcmV0cnlPbk1vdW50OiBmYWxzZSxcbiAgICAgICAgICAgIC4uLm9wdHNcbiAgICAgICAgfSA6IG9wdHM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVzZVF1ZXJ5JDEoLy8gRklYTUUgcGF0aCBzaG91bGQgYmUgYSB0dXBsZSBpbiBuZXh0IG1ham9yXG4gICAgcGF0aEFuZElucHV0LCBvcHRzKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KCk7XG4gICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmV0cmlldmUgYXBwbGljYXRpb24gY29udGV4dC4gRGlkIHlvdSBmb3JnZXQgdG8gd3JhcCB5b3VyIEFwcCBpbnNpZGUgYHdpdGhUUlBDYCBIb0M/Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBhYm9ydE9uVW5tb3VudCAsIGNsaWVudCAsIHNzclN0YXRlICwgcXVlcnlDbGllbnQgLCBwcmVmZXRjaFF1ZXJ5ICB9ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgZGVmYXVsdE9wdHMgPSBxdWVyeUNsaWVudC5nZXRRdWVyeURlZmF1bHRzKGdldEFycmF5UXVlcnlLZXkocGF0aEFuZElucHV0LCAncXVlcnknKSk7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyAmJiBzc3JTdGF0ZSA9PT0gJ3ByZXBhc3MnICYmIG9wdHM/LnRycGM/LnNzciAhPT0gZmFsc2UgJiYgKG9wdHM/LmVuYWJsZWQgPz8gZGVmYXVsdE9wdHM/LmVuYWJsZWQpICE9PSBmYWxzZSAmJiAhcXVlcnlDbGllbnQuZ2V0UXVlcnlDYWNoZSgpLmZpbmQoZ2V0QXJyYXlRdWVyeUtleShwYXRoQW5kSW5wdXQsICdxdWVyeScpKSkge1xuICAgICAgICAgICAgdm9pZCBwcmVmZXRjaFF1ZXJ5KHBhdGhBbmRJbnB1dCwgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3NyT3B0cyA9IHVzZVNTUlF1ZXJ5T3B0aW9uc0lmTmVlZGVkKHBhdGhBbmRJbnB1dCwgJ3F1ZXJ5Jywge1xuICAgICAgICAgICAgLi4uZGVmYXVsdE9wdHMsXG4gICAgICAgICAgICAuLi5vcHRzXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzaG91bGRBYm9ydE9uVW5tb3VudCA9IG9wdHM/LnRycGM/LmFib3J0T25Vbm1vdW50ID8/IGNvbmZpZz8uYWJvcnRPblVubW91bnQgPz8gYWJvcnRPblVubW91bnQ7XG4gICAgICAgIGNvbnN0IGhvb2sgPSB1c2VRdWVyeSh7XG4gICAgICAgICAgICAuLi5zc3JPcHRzLFxuICAgICAgICAgICAgcXVlcnlLZXk6IGdldEFycmF5UXVlcnlLZXkocGF0aEFuZElucHV0LCAncXVlcnknKSxcbiAgICAgICAgICAgIHF1ZXJ5Rm46IChxdWVyeUZ1bmN0aW9uQ29udGV4dCk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBhY3R1YWxPcHRzID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5zc3JPcHRzLFxuICAgICAgICAgICAgICAgICAgICB0cnBjOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5zc3JPcHRzPy50cnBjLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc2hvdWxkQWJvcnRPblVubW91bnQgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBxdWVyeUZ1bmN0aW9uQ29udGV4dC5zaWduYWxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gOiB7fVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LnF1ZXJ5KC4uLmdldENsaWVudEFyZ3MocGF0aEFuZElucHV0LCBhY3R1YWxPcHRzKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGV4dDogUmVhY3RRdWVyeUNvbnRleHRcbiAgICAgICAgfSk7XG4gICAgICAgIGhvb2sudHJwYyA9IHVzZUhvb2tSZXN1bHQoe1xuICAgICAgICAgICAgcGF0aDogcGF0aEFuZElucHV0WzBdXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaG9vaztcbiAgICB9XG4gICAgZnVuY3Rpb24gdXNlTXV0YXRpb24kMSgvLyBGSVhNRTogdGhpcyBzaG91bGQgb25seSBiZSBhIHR1cGxlIHBhdGggaW4gbmV4dCBtYWpvclxuICAgIHBhdGgsIG9wdHMpIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnQgIH0gPSB1c2VDb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5Q2xpZW50ID0gdXNlUXVlcnlDbGllbnQoe1xuICAgICAgICAgICAgY29udGV4dDogUmVhY3RRdWVyeUNvbnRleHRcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGFjdHVhbFBhdGggPSBBcnJheS5pc0FycmF5KHBhdGgpID8gcGF0aFswXSA6IHBhdGg7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRPcHRzID0gcXVlcnlDbGllbnQuZ2V0TXV0YXRpb25EZWZhdWx0cyhbXG4gICAgICAgICAgICBhY3R1YWxQYXRoLnNwbGl0KCcuJylcbiAgICAgICAgXSk7XG4gICAgICAgIGNvbnN0IGhvb2sgPSB1c2VNdXRhdGlvbih7XG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICAgICAgbXV0YXRpb25LZXk6IFtcbiAgICAgICAgICAgICAgICBhY3R1YWxQYXRoLnNwbGl0KCcuJylcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBtdXRhdGlvbkZuOiAoaW5wdXQpPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5tdXRhdGlvbiguLi5nZXRDbGllbnRBcmdzKFtcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRcbiAgICAgICAgICAgICAgICBdLCBvcHRzKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGV4dDogUmVhY3RRdWVyeUNvbnRleHQsXG4gICAgICAgICAgICBvblN1Y2Nlc3MgKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbEZuID0gKCk9Pm9wdHM/Lm9uU3VjY2Vzcz8uKC4uLmFyZ3MpID8/IGRlZmF1bHRPcHRzPy5vblN1Y2Nlc3M/LiguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbXV0YXRpb25TdWNjZXNzT3ZlcnJpZGUoe1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEZuLFxuICAgICAgICAgICAgICAgICAgICBxdWVyeUNsaWVudCxcbiAgICAgICAgICAgICAgICAgICAgbWV0YTogb3B0cz8ubWV0YSA/PyBkZWZhdWx0T3B0cz8ubWV0YSA/PyB7fVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaG9vay50cnBjID0gdXNlSG9va1Jlc3VsdCh7XG4gICAgICAgICAgICBwYXRoOiBhY3R1YWxQYXRoXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaG9vaztcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLS0gQHByZXNlcnZlICovIGZ1bmN0aW9uIHVzZVN1YnNjcmlwdGlvbihwYXRoQW5kSW5wdXQsIG9wdHMpIHtcbiAgICAgICAgY29uc3QgZW5hYmxlZCA9IG9wdHM/LmVuYWJsZWQgPz8gdHJ1ZTtcbiAgICAgICAgY29uc3QgcXVlcnlLZXkgPSBoYXNoUXVlcnlLZXkocGF0aEFuZElucHV0KTtcbiAgICAgICAgY29uc3QgeyBjbGllbnQgIH0gPSB1c2VDb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IG9wdHNSZWYgPSB1c2VSZWYob3B0cyk7XG4gICAgICAgIG9wdHNSZWYuY3VycmVudCA9IG9wdHM7XG4gICAgICAgIHVzZUVmZmVjdCgoKT0+e1xuICAgICAgICAgICAgaWYgKCFlbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgW3BhdGgsIGlucHV0XSA9IHBhdGhBbmRJbnB1dDtcbiAgICAgICAgICAgIGxldCBpc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGNsaWVudC5zdWJzY3JpcHRpb24ocGF0aCwgaW5wdXQgPz8gdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICAgICAgb25TdGFydGVkOiAoKT0+e1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzU3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0c1JlZi5jdXJyZW50Lm9uU3RhcnRlZD8uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uRGF0YTogKGRhdGEpPT57XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRSB0aGlzIHNob3VsZG4ndCBiZSBuZWVkZWQgYXMgYm90aCBzaG91bGQgYmUgYHVua25vd25gIGluIG5leHQgbWFqb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHNSZWYuY3VycmVudC5vbkRhdGEoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uRXJyb3I6IChlcnIpPT57XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzUmVmLmN1cnJlbnQub25FcnJvcj8uKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgICAgIGlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgICAgIH0sIFtcbiAgICAgICAgICAgIHF1ZXJ5S2V5LFxuICAgICAgICAgICAgZW5hYmxlZFxuICAgICAgICBdKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXNlSW5maW5pdGVRdWVyeSQxKHBhdGhBbmRJbnB1dCwgb3B0cykge1xuICAgICAgICBjb25zdCBbcGF0aCwgaW5wdXRdID0gcGF0aEFuZElucHV0O1xuICAgICAgICBjb25zdCB7IGNsaWVudCAsIHNzclN0YXRlICwgcHJlZmV0Y2hJbmZpbml0ZVF1ZXJ5ICwgcXVlcnlDbGllbnQgLCBhYm9ydE9uVW5tb3VudCAsICB9ID0gdXNlQ29udGV4dCgpO1xuICAgICAgICBjb25zdCBkZWZhdWx0T3B0cyA9IHF1ZXJ5Q2xpZW50LmdldFF1ZXJ5RGVmYXVsdHMoZ2V0QXJyYXlRdWVyeUtleShwYXRoQW5kSW5wdXQsICdpbmZpbml0ZScpKTtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnICYmIHNzclN0YXRlID09PSAncHJlcGFzcycgJiYgb3B0cz8udHJwYz8uc3NyICE9PSBmYWxzZSAmJiAob3B0cz8uZW5hYmxlZCA/PyBkZWZhdWx0T3B0cz8uZW5hYmxlZCkgIT09IGZhbHNlICYmICFxdWVyeUNsaWVudC5nZXRRdWVyeUNhY2hlKCkuZmluZChnZXRBcnJheVF1ZXJ5S2V5KHBhdGhBbmRJbnB1dCwgJ2luZmluaXRlJykpKSB7XG4gICAgICAgICAgICB2b2lkIHByZWZldGNoSW5maW5pdGVRdWVyeShwYXRoQW5kSW5wdXQsIHtcbiAgICAgICAgICAgICAgICAuLi5kZWZhdWx0T3B0cyxcbiAgICAgICAgICAgICAgICAuLi5vcHRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzc3JPcHRzID0gdXNlU1NSUXVlcnlPcHRpb25zSWZOZWVkZWQocGF0aEFuZElucHV0LCAnaW5maW5pdGUnLCB7XG4gICAgICAgICAgICAuLi5kZWZhdWx0T3B0cyxcbiAgICAgICAgICAgIC4uLm9wdHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHJlcXVlc3Qgb3B0aW9uIHNob3VsZCB0YWtlIHByaW9yaXR5IG92ZXIgZ2xvYmFsXG4gICAgICAgIGNvbnN0IHNob3VsZEFib3J0T25Vbm1vdW50ID0gb3B0cz8udHJwYz8uYWJvcnRPblVubW91bnQgPz8gYWJvcnRPblVubW91bnQ7XG4gICAgICAgIGNvbnN0IGhvb2sgPSB1c2VJbmZpbml0ZVF1ZXJ5KHtcbiAgICAgICAgICAgIC4uLnNzck9wdHMsXG4gICAgICAgICAgICBxdWVyeUtleTogZ2V0QXJyYXlRdWVyeUtleShwYXRoQW5kSW5wdXQsICdpbmZpbml0ZScpLFxuICAgICAgICAgICAgcXVlcnlGbjogKHF1ZXJ5RnVuY3Rpb25Db250ZXh0KT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdHVhbE9wdHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnNzck9wdHMsXG4gICAgICAgICAgICAgICAgICAgIHRycGM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnNzck9wdHM/LnRycGMsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5zaG91bGRBYm9ydE9uVW5tb3VudCA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IHF1ZXJ5RnVuY3Rpb25Db250ZXh0LnNpZ25hbFxuICAgICAgICAgICAgICAgICAgICAgICAgfSA6IHt9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdHVhbElucHV0ID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5pbnB1dCA/PyB7fSxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBxdWVyeUZ1bmN0aW9uQ29udGV4dC5wYWdlUGFyYW0gPz8gb3B0cz8uaW5pdGlhbEN1cnNvclxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gRklYTUUgYXMgYW55IHNob3VsZG4ndCBiZSBuZWVkZWQgYXMgY2xpZW50IHNob3VsZCBiZSB1bnR5cGVkIHRvb1xuICAgICAgICAgICAgICAgIHJldHVybiBjbGllbnQucXVlcnkoLi4uZ2V0Q2xpZW50QXJncyhbXG4gICAgICAgICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGFjdHVhbElucHV0XG4gICAgICAgICAgICAgICAgXSwgYWN0dWFsT3B0cykpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRleHQ6IFJlYWN0UXVlcnlDb250ZXh0XG4gICAgICAgIH0pO1xuICAgICAgICBob29rLnRycGMgPSB1c2VIb29rUmVzdWx0KHtcbiAgICAgICAgICAgIHBhdGhcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBob29rO1xuICAgIH1cbiAgICBjb25zdCB1c2VRdWVyaWVzJDEgPSAocXVlcmllc0NhbGxiYWNrLCBjb250ZXh0KT0+e1xuICAgICAgICBjb25zdCB7IHNzclN0YXRlICwgcXVlcnlDbGllbnQgLCBwcmVmZXRjaFF1ZXJ5ICwgY2xpZW50ICB9ID0gdXNlQ29udGV4dCgpO1xuICAgICAgICBjb25zdCBwcm94eSA9IGNyZWF0ZVVzZVF1ZXJpZXNQcm94eShjbGllbnQpO1xuICAgICAgICBjb25zdCBxdWVyaWVzID0gcXVlcmllc0NhbGxiYWNrKHByb3h5KTtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnICYmIHNzclN0YXRlID09PSAncHJlcGFzcycpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcXVlcnkgb2YgcXVlcmllcyl7XG4gICAgICAgICAgICAgICAgY29uc3QgcXVlcnlPcHRpb24gPSBxdWVyeTtcbiAgICAgICAgICAgICAgICBpZiAocXVlcnlPcHRpb24udHJwYz8uc3NyICE9PSBmYWxzZSAmJiAhcXVlcnlDbGllbnQuZ2V0UXVlcnlDYWNoZSgpLmZpbmQoZ2V0QXJyYXlRdWVyeUtleShxdWVyeU9wdGlvbi5xdWVyeUtleSwgJ3F1ZXJ5JykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZvaWQgcHJlZmV0Y2hRdWVyeShxdWVyeU9wdGlvbi5xdWVyeUtleSwgcXVlcnlPcHRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXNlUXVlcmllcyh7XG4gICAgICAgICAgICBxdWVyaWVzOiBxdWVyaWVzLm1hcCgocXVlcnkpPT4oe1xuICAgICAgICAgICAgICAgICAgICAuLi5xdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlLZXk6IGdldEFycmF5UXVlcnlLZXkocXVlcnkucXVlcnlLZXksICdxdWVyeScpXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgY29udGV4dFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHVzZURlaHlkcmF0ZWRTdGF0ZSA9IChjbGllbnQsIHRycGNTdGF0ZSk9PntcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWQgPSB1c2VNZW1vKCgpPT57XG4gICAgICAgICAgICBpZiAoIXRycGNTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnBjU3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50LnJ1bnRpbWUudHJhbnNmb3JtZXIuZGVzZXJpYWxpemUodHJwY1N0YXRlKTtcbiAgICAgICAgfSwgW1xuICAgICAgICAgICAgdHJwY1N0YXRlLFxuICAgICAgICAgICAgY2xpZW50XG4gICAgICAgIF0pO1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWQ7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBQcm92aWRlcjogVFJQQ1Byb3ZpZGVyLFxuICAgICAgICBjcmVhdGVDbGllbnQsXG4gICAgICAgIHVzZUNvbnRleHQsXG4gICAgICAgIHVzZVV0aWxzOiB1c2VDb250ZXh0LFxuICAgICAgICB1c2VRdWVyeTogdXNlUXVlcnkkMSxcbiAgICAgICAgdXNlUXVlcmllczogdXNlUXVlcmllcyQxLFxuICAgICAgICB1c2VNdXRhdGlvbjogdXNlTXV0YXRpb24kMSxcbiAgICAgICAgdXNlU3Vic2NyaXB0aW9uLFxuICAgICAgICB1c2VEZWh5ZHJhdGVkU3RhdGUsXG4gICAgICAgIHVzZUluZmluaXRlUXVlcnk6IHVzZUluZmluaXRlUXVlcnkkMVxuICAgIH07XG59XG5cbi8qKlxuICogQ3JlYXRlIHN0cm9uZ2x5IHR5cGVkIHJlYWN0IGhvb2tzXG4gKiBAaW50ZXJuYWxcbiAqIEBkZXByZWNhdGVkXG4gKi8gZnVuY3Rpb24gY3JlYXRlSG9va3NJbnRlcm5hbChjb25maWcpIHtcbiAgICByZXR1cm4gY3JlYXRlUm9vdEhvb2tzKGNvbmZpZyk7XG59XG5cbmV4cG9ydCB7IFRSUENDb250ZXh0IGFzIFQsIGNyZWF0ZVJlYWN0UXVlcnlVdGlsc1Byb3h5IGFzIGEsIGNyZWF0ZVJlYWN0UHJveHlEZWNvcmF0aW9uIGFzIGIsIGNyZWF0ZUhvb2tzSW50ZXJuYWwgYXMgYywgZ2V0Q2xpZW50QXJncyBhcyBkLCBjcmVhdGVVc2VRdWVyaWVzUHJveHkgYXMgZSwgY3JlYXRlUm9vdEhvb2tzIGFzIGYsIGdldFF1ZXJ5S2V5IGFzIGcsIGNvbnRleHRQcm9wcyBhcyBoIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/react-query/dist/createHooksInternal-063195fc.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/react-query/dist/getArrayQueryKey-86134f8b.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@trpc/react-query/dist/getArrayQueryKey-86134f8b.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   g: () => (/* binding */ getArrayQueryKey)\n/* harmony export */ });\n/**\n * To allow easy interactions with groups of related queries, such as\n * invalidating all queries of a router, we use an array as the path when\n * storing in tanstack query. This function converts from the `.` separated\n * path passed around internally by both the legacy and proxy implementation.\n * https://github.com/trpc/trpc/issues/2611\n **/ function getArrayQueryKey(queryKey, type) {\n    const queryKeyArrayed = Array.isArray(queryKey) ? queryKey : [\n        queryKey\n    ];\n    const [path, input] = queryKeyArrayed;\n    const arrayPath = typeof path !== 'string' || path === '' ? [] : path.split('.');\n    // Construct a query key that is easy to destructure and flexible for\n    // partial selecting etc.\n    // https://github.com/trpc/trpc/issues/3128\n    if (!input && (!type || type === 'any')) // for `utils.invalidate()` to match all queries (including vanilla react-query)\n    // we don't want nested array if path is empty, i.e. `[]` instead of `[[]]`\n    return arrayPath.length ? [\n        arrayPath\n    ] : [];\n    return [\n        arrayPath,\n        {\n            ...typeof input !== 'undefined' && {\n                input: input\n            },\n            ...type && type !== 'any' && {\n                type: type\n            }\n        }\n    ];\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvcmVhY3QtcXVlcnkvZGlzdC9nZXRBcnJheVF1ZXJ5S2V5LTg2MTM0ZjhiLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVpQyIsInNvdXJjZXMiOlsid2VicGFjazovL21vdmllLXJldmlldy1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvcmVhY3QtcXVlcnkvZGlzdC9nZXRBcnJheVF1ZXJ5S2V5LTg2MTM0ZjhiLm1qcz80MDkzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVG8gYWxsb3cgZWFzeSBpbnRlcmFjdGlvbnMgd2l0aCBncm91cHMgb2YgcmVsYXRlZCBxdWVyaWVzLCBzdWNoIGFzXG4gKiBpbnZhbGlkYXRpbmcgYWxsIHF1ZXJpZXMgb2YgYSByb3V0ZXIsIHdlIHVzZSBhbiBhcnJheSBhcyB0aGUgcGF0aCB3aGVuXG4gKiBzdG9yaW5nIGluIHRhbnN0YWNrIHF1ZXJ5LiBUaGlzIGZ1bmN0aW9uIGNvbnZlcnRzIGZyb20gdGhlIGAuYCBzZXBhcmF0ZWRcbiAqIHBhdGggcGFzc2VkIGFyb3VuZCBpbnRlcm5hbGx5IGJ5IGJvdGggdGhlIGxlZ2FjeSBhbmQgcHJveHkgaW1wbGVtZW50YXRpb24uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdHJwYy90cnBjL2lzc3Vlcy8yNjExXG4gKiovIGZ1bmN0aW9uIGdldEFycmF5UXVlcnlLZXkocXVlcnlLZXksIHR5cGUpIHtcbiAgICBjb25zdCBxdWVyeUtleUFycmF5ZWQgPSBBcnJheS5pc0FycmF5KHF1ZXJ5S2V5KSA/IHF1ZXJ5S2V5IDogW1xuICAgICAgICBxdWVyeUtleVxuICAgIF07XG4gICAgY29uc3QgW3BhdGgsIGlucHV0XSA9IHF1ZXJ5S2V5QXJyYXllZDtcbiAgICBjb25zdCBhcnJheVBhdGggPSB0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycgfHwgcGF0aCA9PT0gJycgPyBbXSA6IHBhdGguc3BsaXQoJy4nKTtcbiAgICAvLyBDb25zdHJ1Y3QgYSBxdWVyeSBrZXkgdGhhdCBpcyBlYXN5IHRvIGRlc3RydWN0dXJlIGFuZCBmbGV4aWJsZSBmb3JcbiAgICAvLyBwYXJ0aWFsIHNlbGVjdGluZyBldGMuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RycGMvdHJwYy9pc3N1ZXMvMzEyOFxuICAgIGlmICghaW5wdXQgJiYgKCF0eXBlIHx8IHR5cGUgPT09ICdhbnknKSkgLy8gZm9yIGB1dGlscy5pbnZhbGlkYXRlKClgIHRvIG1hdGNoIGFsbCBxdWVyaWVzIChpbmNsdWRpbmcgdmFuaWxsYSByZWFjdC1xdWVyeSlcbiAgICAvLyB3ZSBkb24ndCB3YW50IG5lc3RlZCBhcnJheSBpZiBwYXRoIGlzIGVtcHR5LCBpLmUuIGBbXWAgaW5zdGVhZCBvZiBgW1tdXWBcbiAgICByZXR1cm4gYXJyYXlQYXRoLmxlbmd0aCA/IFtcbiAgICAgICAgYXJyYXlQYXRoXG4gICAgXSA6IFtdO1xuICAgIHJldHVybiBbXG4gICAgICAgIGFycmF5UGF0aCxcbiAgICAgICAge1xuICAgICAgICAgICAgLi4udHlwZW9mIGlucHV0ICE9PSAndW5kZWZpbmVkJyAmJiB7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IGlucHV0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLi4udHlwZSAmJiB0eXBlICE9PSAnYW55JyAmJiB7XG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXTtcbn1cblxuZXhwb3J0IHsgZ2V0QXJyYXlRdWVyeUtleSBhcyBnIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/react-query/dist/getArrayQueryKey-86134f8b.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/react-query/dist/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@trpc/react-query/dist/index.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TRPCClientError: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.TRPCClientError),\n/* harmony export */   TRPCUntypedClient: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.TRPCUntypedClient),\n/* harmony export */   clientCallTypeToProcedureType: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.clientCallTypeToProcedureType),\n/* harmony export */   createReactQueryHooks: () => (/* binding */ createReactQueryHooks),\n/* harmony export */   createTRPCClient: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.createTRPCClient),\n/* harmony export */   createTRPCClientProxy: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.createTRPCClientProxy),\n/* harmony export */   createTRPCProxyClient: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.createTRPCProxyClient),\n/* harmony export */   createTRPCReact: () => (/* binding */ createTRPCReact),\n/* harmony export */   createTRPCUntypedClient: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.createTRPCUntypedClient),\n/* harmony export */   createWSClient: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.createWSClient),\n/* harmony export */   experimental_formDataLink: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.experimental_formDataLink),\n/* harmony export */   getFetch: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.getFetch),\n/* harmony export */   getQueryKey: () => (/* reexport safe */ _createHooksInternal_063195fc_mjs__WEBPACK_IMPORTED_MODULE_1__.g),\n/* harmony export */   getUntypedClient: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.getUntypedClient),\n/* harmony export */   httpBatchLink: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.httpBatchLink),\n/* harmony export */   httpLink: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.httpLink),\n/* harmony export */   httpLinkFactory: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.httpLinkFactory),\n/* harmony export */   loggerLink: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.loggerLink),\n/* harmony export */   splitLink: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.splitLink),\n/* harmony export */   unstable_httpBatchStreamLink: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.unstable_httpBatchStreamLink),\n/* harmony export */   wsLink: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.wsLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/client */ \"(ssr)/./node_modules/@trpc/client/dist/index.mjs\");\n/* harmony import */ var _createHooksInternal_063195fc_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./createHooksInternal-063195fc.mjs */ \"(ssr)/./node_modules/@trpc/react-query/dist/createHooksInternal-063195fc.mjs\");\n/* harmony import */ var _trpc_server_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @trpc/server/shared */ \"(ssr)/./node_modules/@trpc/server/dist/shared/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getArrayQueryKey-86134f8b.mjs */ \"(ssr)/./node_modules/@trpc/react-query/dist/getArrayQueryKey-86134f8b.mjs\");\n\n\n\n\n\n\n\n\n/**\n * @internal\n */ function createHooksInternalProxy(trpc) {\n    return (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_2__.createFlatProxy)((key)=>{\n        if (key === 'useContext' || key === 'useUtils') {\n            return ()=>{\n                const context = trpc.useUtils();\n                // create a stable reference of the utils context\n                return (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>{\n                    return (0,_createHooksInternal_063195fc_mjs__WEBPACK_IMPORTED_MODULE_1__.a)(context);\n                }, [\n                    context\n                ]);\n            };\n        }\n        if (trpc.hasOwnProperty(key)) {\n            return trpc[key];\n        }\n        return (0,_createHooksInternal_063195fc_mjs__WEBPACK_IMPORTED_MODULE_1__.b)(key, trpc);\n    });\n}\nfunction createTRPCReact(opts) {\n    const hooks = (0,_createHooksInternal_063195fc_mjs__WEBPACK_IMPORTED_MODULE_1__.c)(opts);\n    const proxy = createHooksInternalProxy(hooks);\n    return proxy;\n}\n\n// interop:\n/**\n * @deprecated use `createTRPCReact` instead\n */ function createReactQueryHooks(opts) {\n    const trpc = (0,_createHooksInternal_063195fc_mjs__WEBPACK_IMPORTED_MODULE_1__.c)(opts);\n    const proxy = createHooksInternalProxy(trpc);\n    return {\n        ...trpc,\n        proxy\n    };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvcmVhY3QtcXVlcnkvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNkI7QUFDbUg7QUFDMUU7QUFDaEI7QUFDdEI7QUFDRDtBQUNVOztBQUV6QztBQUNBO0FBQ0E7QUFDQSxXQUFXLG9FQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDhDQUFPO0FBQzlCLDJCQUEyQixvRUFBMEI7QUFDckQsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvRUFBMEI7QUFDekMsS0FBSztBQUNMO0FBQ0E7QUFDQSxrQkFBa0Isb0VBQW1CO0FBQ3JDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixvRUFBbUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVrRCIsInNvdXJjZXMiOlsid2VicGFjazovL21vdmllLXJldmlldy1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvcmVhY3QtcXVlcnkvZGlzdC9pbmRleC5tanM/ZjQxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICdAdHJwYy9jbGllbnQnO1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVIb29rc0ludGVybmFsLCBhIGFzIGNyZWF0ZVJlYWN0UXVlcnlVdGlsc1Byb3h5LCBiIGFzIGNyZWF0ZVJlYWN0UHJveHlEZWNvcmF0aW9uIH0gZnJvbSAnLi9jcmVhdGVIb29rc0ludGVybmFsLTA2MzE5NWZjLm1qcyc7XG5leHBvcnQgeyBnIGFzIGdldFF1ZXJ5S2V5IH0gZnJvbSAnLi9jcmVhdGVIb29rc0ludGVybmFsLTA2MzE5NWZjLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVGbGF0UHJveHkgfSBmcm9tICdAdHJwYy9zZXJ2ZXIvc2hhcmVkJztcbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJ0B0YW5zdGFjay9yZWFjdC1xdWVyeSc7XG5pbXBvcnQgJy4vZ2V0QXJyYXlRdWVyeUtleS04NjEzNGY4Yi5tanMnO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIGNyZWF0ZUhvb2tzSW50ZXJuYWxQcm94eSh0cnBjKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUZsYXRQcm94eSgoa2V5KT0+e1xuICAgICAgICBpZiAoa2V5ID09PSAndXNlQ29udGV4dCcgfHwga2V5ID09PSAndXNlVXRpbHMnKSB7XG4gICAgICAgICAgICByZXR1cm4gKCk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gdHJwYy51c2VVdGlscygpO1xuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhIHN0YWJsZSByZWZlcmVuY2Ugb2YgdGhlIHV0aWxzIGNvbnRleHRcbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlTWVtbygoKT0+e1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlUmVhY3RRdWVyeVV0aWxzUHJveHkoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0XG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cnBjLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnBjW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZVJlYWN0UHJveHlEZWNvcmF0aW9uKGtleSwgdHJwYyk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVUUlBDUmVhY3Qob3B0cykge1xuICAgIGNvbnN0IGhvb2tzID0gY3JlYXRlSG9va3NJbnRlcm5hbChvcHRzKTtcbiAgICBjb25zdCBwcm94eSA9IGNyZWF0ZUhvb2tzSW50ZXJuYWxQcm94eShob29rcyk7XG4gICAgcmV0dXJuIHByb3h5O1xufVxuXG4vLyBpbnRlcm9wOlxuLyoqXG4gKiBAZGVwcmVjYXRlZCB1c2UgYGNyZWF0ZVRSUENSZWFjdGAgaW5zdGVhZFxuICovIGZ1bmN0aW9uIGNyZWF0ZVJlYWN0UXVlcnlIb29rcyhvcHRzKSB7XG4gICAgY29uc3QgdHJwYyA9IGNyZWF0ZUhvb2tzSW50ZXJuYWwob3B0cyk7XG4gICAgY29uc3QgcHJveHkgPSBjcmVhdGVIb29rc0ludGVybmFsUHJveHkodHJwYyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4udHJwYyxcbiAgICAgICAgcHJveHlcbiAgICB9O1xufVxuXG5leHBvcnQgeyBjcmVhdGVSZWFjdFF1ZXJ5SG9va3MsIGNyZWF0ZVRSUENSZWFjdCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/react-query/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@trpc/server/dist/codes-c924c3db.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   T: () => (/* binding */ TRPC_ERROR_CODES_BY_KEY),\n/* harmony export */   a: () => (/* binding */ TRPC_ERROR_CODES_BY_NUMBER),\n/* harmony export */   i: () => (/* binding */ invert)\n/* harmony export */ });\n/**\n * @internal\n */ function invert(obj) {\n    const newObj = Object.create(null);\n    for(const key in obj){\n        const v = obj[key];\n        newObj[v] = key;\n    }\n    return newObj;\n}\n\n// reference: https://www.jsonrpc.org/specification\n/**\n * JSON-RPC 2.0 Error codes\n *\n * `-32000` to `-32099` are reserved for implementation-defined server-errors.\n * For tRPC we're copying the last digits of HTTP 4XX errors.\n */ const TRPC_ERROR_CODES_BY_KEY = {\n    /**\n   * Invalid JSON was received by the server.\n   * An error occurred on the server while parsing the JSON text.\n   */ PARSE_ERROR: -32700,\n    /**\n   * The JSON sent is not a valid Request object.\n   */ BAD_REQUEST: -32600,\n    // Internal JSON-RPC error\n    INTERNAL_SERVER_ERROR: -32603,\n    NOT_IMPLEMENTED: -32603,\n    // Implementation specific errors\n    UNAUTHORIZED: -32001,\n    FORBIDDEN: -32003,\n    NOT_FOUND: -32004,\n    METHOD_NOT_SUPPORTED: -32005,\n    TIMEOUT: -32008,\n    CONFLICT: -32009,\n    PRECONDITION_FAILED: -32012,\n    PAYLOAD_TOO_LARGE: -32013,\n    UNPROCESSABLE_CONTENT: -32022,\n    TOO_MANY_REQUESTS: -32029,\n    CLIENT_CLOSED_REQUEST: -32099\n};\nconst TRPC_ERROR_CODES_BY_NUMBER = invert(TRPC_ERROR_CODES_BY_KEY);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvY29kZXMtYzkyNGMzZGIubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVzRiIsInNvdXJjZXMiOlsid2VicGFjazovL21vdmllLXJldmlldy1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvY29kZXMtYzkyNGMzZGIubWpzP2MzYTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAaW50ZXJuYWxcbiAqLyBmdW5jdGlvbiBpbnZlcnQob2JqKSB7XG4gICAgY29uc3QgbmV3T2JqID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBmb3IoY29uc3Qga2V5IGluIG9iail7XG4gICAgICAgIGNvbnN0IHYgPSBvYmpba2V5XTtcbiAgICAgICAgbmV3T2JqW3ZdID0ga2V5O1xuICAgIH1cbiAgICByZXR1cm4gbmV3T2JqO1xufVxuXG4vLyByZWZlcmVuY2U6IGh0dHBzOi8vd3d3Lmpzb25ycGMub3JnL3NwZWNpZmljYXRpb25cbi8qKlxuICogSlNPTi1SUEMgMi4wIEVycm9yIGNvZGVzXG4gKlxuICogYC0zMjAwMGAgdG8gYC0zMjA5OWAgYXJlIHJlc2VydmVkIGZvciBpbXBsZW1lbnRhdGlvbi1kZWZpbmVkIHNlcnZlci1lcnJvcnMuXG4gKiBGb3IgdFJQQyB3ZSdyZSBjb3B5aW5nIHRoZSBsYXN0IGRpZ2l0cyBvZiBIVFRQIDRYWCBlcnJvcnMuXG4gKi8gY29uc3QgVFJQQ19FUlJPUl9DT0RFU19CWV9LRVkgPSB7XG4gICAgLyoqXG4gICAqIEludmFsaWQgSlNPTiB3YXMgcmVjZWl2ZWQgYnkgdGhlIHNlcnZlci5cbiAgICogQW4gZXJyb3Igb2NjdXJyZWQgb24gdGhlIHNlcnZlciB3aGlsZSBwYXJzaW5nIHRoZSBKU09OIHRleHQuXG4gICAqLyBQQVJTRV9FUlJPUjogLTMyNzAwLFxuICAgIC8qKlxuICAgKiBUaGUgSlNPTiBzZW50IGlzIG5vdCBhIHZhbGlkIFJlcXVlc3Qgb2JqZWN0LlxuICAgKi8gQkFEX1JFUVVFU1Q6IC0zMjYwMCxcbiAgICAvLyBJbnRlcm5hbCBKU09OLVJQQyBlcnJvclxuICAgIElOVEVSTkFMX1NFUlZFUl9FUlJPUjogLTMyNjAzLFxuICAgIE5PVF9JTVBMRU1FTlRFRDogLTMyNjAzLFxuICAgIC8vIEltcGxlbWVudGF0aW9uIHNwZWNpZmljIGVycm9yc1xuICAgIFVOQVVUSE9SSVpFRDogLTMyMDAxLFxuICAgIEZPUkJJRERFTjogLTMyMDAzLFxuICAgIE5PVF9GT1VORDogLTMyMDA0LFxuICAgIE1FVEhPRF9OT1RfU1VQUE9SVEVEOiAtMzIwMDUsXG4gICAgVElNRU9VVDogLTMyMDA4LFxuICAgIENPTkZMSUNUOiAtMzIwMDksXG4gICAgUFJFQ09ORElUSU9OX0ZBSUxFRDogLTMyMDEyLFxuICAgIFBBWUxPQURfVE9PX0xBUkdFOiAtMzIwMTMsXG4gICAgVU5QUk9DRVNTQUJMRV9DT05URU5UOiAtMzIwMjIsXG4gICAgVE9PX01BTllfUkVRVUVTVFM6IC0zMjAyOSxcbiAgICBDTElFTlRfQ0xPU0VEX1JFUVVFU1Q6IC0zMjA5OVxufTtcbmNvbnN0IFRSUENfRVJST1JfQ09ERVNfQllfTlVNQkVSID0gaW52ZXJ0KFRSUENfRVJST1JfQ09ERVNfQllfS0VZKTtcblxuZXhwb3J0IHsgVFJQQ19FUlJPUl9DT0RFU19CWV9LRVkgYXMgVCwgVFJQQ19FUlJPUl9DT0RFU19CWV9OVU1CRVIgYXMgYSwgaW52ZXJ0IGFzIGkgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/server/dist/getCauseFromUnknown-2d66414a.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@trpc/server/dist/getCauseFromUnknown-2d66414a.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   g: () => (/* binding */ getCauseFromUnknown)\n/* harmony export */ });\n/**\n * @internal\n */ function isObject(value) {\n    // check that value is object\n    return !!value && !Array.isArray(value) && typeof value === 'object';\n}\n\nclass UnknownCauseError extends Error {\n}\nfunction getCauseFromUnknown(cause) {\n    if (cause instanceof Error) {\n        return cause;\n    }\n    const type = typeof cause;\n    if (type === 'undefined' || type === 'function' || cause === null) {\n        return undefined;\n    }\n    // Primitive types just get wrapped in an error\n    if (type !== 'object') {\n        return new Error(String(cause));\n    }\n    // If it's an object, we'll create a synthetic error\n    if (isObject(cause)) {\n        const err = new UnknownCauseError();\n        for(const key in cause){\n            err[key] = cause[key];\n        }\n        return err;\n    }\n    return undefined;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvZ2V0Q2F1c2VGcm9tVW5rbm93bi0yZDY2NDE0YS5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW92aWUtcmV2aWV3LWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9zZXJ2ZXIvZGlzdC9nZXRDYXVzZUZyb21Vbmtub3duLTJkNjY0MTRhLm1qcz8zNDFjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAvLyBjaGVjayB0aGF0IHZhbHVlIGlzIG9iamVjdFxuICAgIHJldHVybiAhIXZhbHVlICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnO1xufVxuXG5jbGFzcyBVbmtub3duQ2F1c2VFcnJvciBleHRlbmRzIEVycm9yIHtcbn1cbmZ1bmN0aW9uIGdldENhdXNlRnJvbVVua25vd24oY2F1c2UpIHtcbiAgICBpZiAoY2F1c2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4gY2F1c2U7XG4gICAgfVxuICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgY2F1c2U7XG4gICAgaWYgKHR5cGUgPT09ICd1bmRlZmluZWQnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicgfHwgY2F1c2UgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gUHJpbWl0aXZlIHR5cGVzIGp1c3QgZ2V0IHdyYXBwZWQgaW4gYW4gZXJyb3JcbiAgICBpZiAodHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihTdHJpbmcoY2F1c2UpKTtcbiAgICB9XG4gICAgLy8gSWYgaXQncyBhbiBvYmplY3QsIHdlJ2xsIGNyZWF0ZSBhIHN5bnRoZXRpYyBlcnJvclxuICAgIGlmIChpc09iamVjdChjYXVzZSkpIHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IFVua25vd25DYXVzZUVycm9yKCk7XG4gICAgICAgIGZvcihjb25zdCBrZXkgaW4gY2F1c2Upe1xuICAgICAgICAgICAgZXJyW2tleV0gPSBjYXVzZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCB7IGdldENhdXNlRnJvbVVua25vd24gYXMgZyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/server/dist/getCauseFromUnknown-2d66414a.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/server/dist/index-f91d720c.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@trpc/server/dist/index-f91d720c.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   T: () => (/* binding */ TRPC_ERROR_CODES_BY_NUMBER),\n/* harmony export */   a: () => (/* binding */ createRecursiveProxy),\n/* harmony export */   b: () => (/* binding */ getHTTPStatusCode),\n/* harmony export */   c: () => (/* binding */ createFlatProxy),\n/* harmony export */   g: () => (/* binding */ getHTTPStatusCodeFromError)\n/* harmony export */ });\n/* harmony import */ var _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./codes-c924c3db.mjs */ \"(ssr)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs\");\n\n\nconst TRPC_ERROR_CODES_BY_NUMBER = (0,_codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(_codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_0__.T);\nconst JSONRPC2_TO_HTTP_CODE = {\n    PARSE_ERROR: 400,\n    BAD_REQUEST: 400,\n    UNAUTHORIZED: 401,\n    NOT_FOUND: 404,\n    FORBIDDEN: 403,\n    METHOD_NOT_SUPPORTED: 405,\n    TIMEOUT: 408,\n    CONFLICT: 409,\n    PRECONDITION_FAILED: 412,\n    PAYLOAD_TOO_LARGE: 413,\n    UNPROCESSABLE_CONTENT: 422,\n    TOO_MANY_REQUESTS: 429,\n    CLIENT_CLOSED_REQUEST: 499,\n    INTERNAL_SERVER_ERROR: 500,\n    NOT_IMPLEMENTED: 501\n};\nfunction getStatusCodeFromKey(code) {\n    return JSONRPC2_TO_HTTP_CODE[code] ?? 500;\n}\nfunction getHTTPStatusCode(json) {\n    const arr = Array.isArray(json) ? json : [\n        json\n    ];\n    const httpStatuses = new Set(arr.map((res)=>{\n        if ('error' in res) {\n            const data = res.error.data;\n            if (typeof data.httpStatus === 'number') {\n                return data.httpStatus;\n            }\n            const code = TRPC_ERROR_CODES_BY_NUMBER[res.error.code];\n            return getStatusCodeFromKey(code);\n        }\n        return 200;\n    }));\n    if (httpStatuses.size !== 1) {\n        return 207;\n    }\n    const httpStatus = httpStatuses.values().next().value;\n    return httpStatus;\n}\nfunction getHTTPStatusCodeFromError(error) {\n    return getStatusCodeFromKey(error.code);\n}\n\nconst noop = ()=>{\n// noop\n};\nfunction createInnerProxy(callback, path) {\n    const proxy = new Proxy(noop, {\n        get (_obj, key) {\n            if (typeof key !== 'string' || key === 'then') {\n                // special case for if the proxy is accidentally treated\n                // like a PromiseLike (like in `Promise.resolve(proxy)`)\n                return undefined;\n            }\n            return createInnerProxy(callback, [\n                ...path,\n                key\n            ]);\n        },\n        apply (_1, _2, args) {\n            const isApply = path[path.length - 1] === 'apply';\n            return callback({\n                args: isApply ? args.length >= 2 ? args[1] : [] : args,\n                path: isApply ? path.slice(0, -1) : path\n            });\n        }\n    });\n    return proxy;\n}\n/**\n * Creates a proxy that calls the callback with the path and arguments\n *\n * @internal\n */ const createRecursiveProxy = (callback)=>createInnerProxy(callback, []);\n/**\n * Used in place of `new Proxy` where each handler will map 1 level deep to another value.\n *\n * @internal\n */ const createFlatProxy = (callback)=>{\n    return new Proxy(noop, {\n        get (_obj, name) {\n            if (typeof name !== 'string' || name === 'then') {\n                // special case for if the proxy is accidentally treated\n                // like a PromiseLike (like in `Promise.resolve(proxy)`)\n                return undefined;\n            }\n            return callback(name);\n        }\n    });\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvaW5kZXgtZjkxZDcyMGMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFpRjs7QUFFakYsbUNBQW1DLHNEQUFNLENBQUMsa0RBQXVCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRXFKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW92aWUtcmV2aWV3LWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9zZXJ2ZXIvZGlzdC9pbmRleC1mOTFkNzIwYy5tanM/ZDZlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpIGFzIGludmVydCwgVCBhcyBUUlBDX0VSUk9SX0NPREVTX0JZX0tFWSB9IGZyb20gJy4vY29kZXMtYzkyNGMzZGIubWpzJztcblxuY29uc3QgVFJQQ19FUlJPUl9DT0RFU19CWV9OVU1CRVIgPSBpbnZlcnQoVFJQQ19FUlJPUl9DT0RFU19CWV9LRVkpO1xuY29uc3QgSlNPTlJQQzJfVE9fSFRUUF9DT0RFID0ge1xuICAgIFBBUlNFX0VSUk9SOiA0MDAsXG4gICAgQkFEX1JFUVVFU1Q6IDQwMCxcbiAgICBVTkFVVEhPUklaRUQ6IDQwMSxcbiAgICBOT1RfRk9VTkQ6IDQwNCxcbiAgICBGT1JCSURERU46IDQwMyxcbiAgICBNRVRIT0RfTk9UX1NVUFBPUlRFRDogNDA1LFxuICAgIFRJTUVPVVQ6IDQwOCxcbiAgICBDT05GTElDVDogNDA5LFxuICAgIFBSRUNPTkRJVElPTl9GQUlMRUQ6IDQxMixcbiAgICBQQVlMT0FEX1RPT19MQVJHRTogNDEzLFxuICAgIFVOUFJPQ0VTU0FCTEVfQ09OVEVOVDogNDIyLFxuICAgIFRPT19NQU5ZX1JFUVVFU1RTOiA0MjksXG4gICAgQ0xJRU5UX0NMT1NFRF9SRVFVRVNUOiA0OTksXG4gICAgSU5URVJOQUxfU0VSVkVSX0VSUk9SOiA1MDAsXG4gICAgTk9UX0lNUExFTUVOVEVEOiA1MDFcbn07XG5mdW5jdGlvbiBnZXRTdGF0dXNDb2RlRnJvbUtleShjb2RlKSB7XG4gICAgcmV0dXJuIEpTT05SUEMyX1RPX0hUVFBfQ09ERVtjb2RlXSA/PyA1MDA7XG59XG5mdW5jdGlvbiBnZXRIVFRQU3RhdHVzQ29kZShqc29uKSB7XG4gICAgY29uc3QgYXJyID0gQXJyYXkuaXNBcnJheShqc29uKSA/IGpzb24gOiBbXG4gICAgICAgIGpzb25cbiAgICBdO1xuICAgIGNvbnN0IGh0dHBTdGF0dXNlcyA9IG5ldyBTZXQoYXJyLm1hcCgocmVzKT0+e1xuICAgICAgICBpZiAoJ2Vycm9yJyBpbiByZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXMuZXJyb3IuZGF0YTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS5odHRwU3RhdHVzID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmh0dHBTdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb2RlID0gVFJQQ19FUlJPUl9DT0RFU19CWV9OVU1CRVJbcmVzLmVycm9yLmNvZGVdO1xuICAgICAgICAgICAgcmV0dXJuIGdldFN0YXR1c0NvZGVGcm9tS2V5KGNvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAyMDA7XG4gICAgfSkpO1xuICAgIGlmIChodHRwU3RhdHVzZXMuc2l6ZSAhPT0gMSkge1xuICAgICAgICByZXR1cm4gMjA3O1xuICAgIH1cbiAgICBjb25zdCBodHRwU3RhdHVzID0gaHR0cFN0YXR1c2VzLnZhbHVlcygpLm5leHQoKS52YWx1ZTtcbiAgICByZXR1cm4gaHR0cFN0YXR1cztcbn1cbmZ1bmN0aW9uIGdldEhUVFBTdGF0dXNDb2RlRnJvbUVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIGdldFN0YXR1c0NvZGVGcm9tS2V5KGVycm9yLmNvZGUpO1xufVxuXG5jb25zdCBub29wID0gKCk9Pntcbi8vIG5vb3Bcbn07XG5mdW5jdGlvbiBjcmVhdGVJbm5lclByb3h5KGNhbGxiYWNrLCBwYXRoKSB7XG4gICAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkobm9vcCwge1xuICAgICAgICBnZXQgKF9vYmosIGtleSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnIHx8IGtleSA9PT0gJ3RoZW4nKSB7XG4gICAgICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBpZiB0aGUgcHJveHkgaXMgYWNjaWRlbnRhbGx5IHRyZWF0ZWRcbiAgICAgICAgICAgICAgICAvLyBsaWtlIGEgUHJvbWlzZUxpa2UgKGxpa2UgaW4gYFByb21pc2UucmVzb2x2ZShwcm94eSlgKVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW5uZXJQcm94eShjYWxsYmFjaywgW1xuICAgICAgICAgICAgICAgIC4uLnBhdGgsXG4gICAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXBwbHkgKF8xLCBfMiwgYXJncykge1xuICAgICAgICAgICAgY29uc3QgaXNBcHBseSA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXSA9PT0gJ2FwcGx5JztcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgYXJnczogaXNBcHBseSA/IGFyZ3MubGVuZ3RoID49IDIgPyBhcmdzWzFdIDogW10gOiBhcmdzLFxuICAgICAgICAgICAgICAgIHBhdGg6IGlzQXBwbHkgPyBwYXRoLnNsaWNlKDAsIC0xKSA6IHBhdGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHByb3h5O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgcHJveHkgdGhhdCBjYWxscyB0aGUgY2FsbGJhY2sgd2l0aCB0aGUgcGF0aCBhbmQgYXJndW1lbnRzXG4gKlxuICogQGludGVybmFsXG4gKi8gY29uc3QgY3JlYXRlUmVjdXJzaXZlUHJveHkgPSAoY2FsbGJhY2spPT5jcmVhdGVJbm5lclByb3h5KGNhbGxiYWNrLCBbXSk7XG4vKipcbiAqIFVzZWQgaW4gcGxhY2Ugb2YgYG5ldyBQcm94eWAgd2hlcmUgZWFjaCBoYW5kbGVyIHdpbGwgbWFwIDEgbGV2ZWwgZGVlcCB0byBhbm90aGVyIHZhbHVlLlxuICpcbiAqIEBpbnRlcm5hbFxuICovIGNvbnN0IGNyZWF0ZUZsYXRQcm94eSA9IChjYWxsYmFjayk9PntcbiAgICByZXR1cm4gbmV3IFByb3h5KG5vb3AsIHtcbiAgICAgICAgZ2V0IChfb2JqLCBuYW1lKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnIHx8IG5hbWUgPT09ICd0aGVuJykge1xuICAgICAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgaWYgdGhlIHByb3h5IGlzIGFjY2lkZW50YWxseSB0cmVhdGVkXG4gICAgICAgICAgICAgICAgLy8gbGlrZSBhIFByb21pc2VMaWtlIChsaWtlIGluIGBQcm9taXNlLnJlc29sdmUocHJveHkpYClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5hbWUpO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5leHBvcnQgeyBUUlBDX0VSUk9SX0NPREVTX0JZX05VTUJFUiBhcyBULCBjcmVhdGVSZWN1cnNpdmVQcm94eSBhcyBhLCBnZXRIVFRQU3RhdHVzQ29kZSBhcyBiLCBjcmVhdGVGbGF0UHJveHkgYXMgYywgZ2V0SFRUUFN0YXR1c0NvZGVGcm9tRXJyb3IgYXMgZyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/server/dist/index-f91d720c.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/server/dist/observable-ade1bad8.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@trpc/server/dist/observable-ade1bad8.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   i: () => (/* binding */ isObservable),\n/* harmony export */   o: () => (/* binding */ observable)\n/* harmony export */ });\nfunction identity(x) {\n    return x;\n}\n\n/** @internal */ function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce((prev, fn)=>fn(prev), input);\n    };\n}\n\nfunction isObservable(x) {\n    return typeof x === 'object' && x !== null && 'subscribe' in x;\n}\nfunction observable(subscribe) {\n    const self = {\n        subscribe (observer) {\n            let teardownRef = null;\n            let isDone = false;\n            let unsubscribed = false;\n            let teardownImmediately = false;\n            function unsubscribe() {\n                if (teardownRef === null) {\n                    teardownImmediately = true;\n                    return;\n                }\n                if (unsubscribed) {\n                    return;\n                }\n                unsubscribed = true;\n                if (typeof teardownRef === 'function') {\n                    teardownRef();\n                } else if (teardownRef) {\n                    teardownRef.unsubscribe();\n                }\n            }\n            teardownRef = subscribe({\n                next (value) {\n                    if (isDone) {\n                        return;\n                    }\n                    observer.next?.(value);\n                },\n                error (err) {\n                    if (isDone) {\n                        return;\n                    }\n                    isDone = true;\n                    observer.error?.(err);\n                    unsubscribe();\n                },\n                complete () {\n                    if (isDone) {\n                        return;\n                    }\n                    isDone = true;\n                    observer.complete?.();\n                    unsubscribe();\n                }\n            });\n            if (teardownImmediately) {\n                unsubscribe();\n            }\n            return {\n                unsubscribe\n            };\n        },\n        pipe (...operations) {\n            return pipeFromArray(operations)(self);\n        }\n    };\n    return self;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3Qvb2JzZXJ2YWJsZS1hZGUxYmFkOC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU4QyIsInNvdXJjZXMiOlsid2VicGFjazovL21vdmllLXJldmlldy1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3Qvb2JzZXJ2YWJsZS1hZGUxYmFkOC5tanM/NzEwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBpZGVudGl0eSh4KSB7XG4gICAgcmV0dXJuIHg7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi8gZnVuY3Rpb24gcGlwZUZyb21BcnJheShmbnMpIHtcbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChmbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgIHJldHVybiBmbnNbMF07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBwaXBlZChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZm5zLnJlZHVjZSgocHJldiwgZm4pPT5mbihwcmV2KSwgaW5wdXQpO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGlzT2JzZXJ2YWJsZSh4KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsICYmICdzdWJzY3JpYmUnIGluIHg7XG59XG5mdW5jdGlvbiBvYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgIGNvbnN0IHNlbGYgPSB7XG4gICAgICAgIHN1YnNjcmliZSAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIGxldCB0ZWFyZG93blJlZiA9IG51bGw7XG4gICAgICAgICAgICBsZXQgaXNEb25lID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgdW5zdWJzY3JpYmVkID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgdGVhcmRvd25JbW1lZGlhdGVseSA9IGZhbHNlO1xuICAgICAgICAgICAgZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlYXJkb3duUmVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlYXJkb3duSW1tZWRpYXRlbHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh1bnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGVhcmRvd25SZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGVhcmRvd25SZWYoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRlYXJkb3duUmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlYXJkb3duUmVmLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVhcmRvd25SZWYgPSBzdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgIG5leHQgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0RvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0Py4odmFsdWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3IgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3I/LihlcnIpO1xuICAgICAgICAgICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGUgKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGU/LigpO1xuICAgICAgICAgICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRlYXJkb3duSW1tZWRpYXRlbHkpIHtcbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgcGlwZSAoLi4ub3BlcmF0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkob3BlcmF0aW9ucykoc2VsZik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBzZWxmO1xufVxuXG5leHBvcnQgeyBpc09ic2VydmFibGUgYXMgaSwgb2JzZXJ2YWJsZSBhcyBvIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/server/dist/observable-ade1bad8.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/server/dist/observable/index.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@trpc/server/dist/observable/index.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isObservable: () => (/* reexport safe */ _observable_ade1bad8_mjs__WEBPACK_IMPORTED_MODULE_0__.i),\n/* harmony export */   map: () => (/* binding */ map),\n/* harmony export */   observable: () => (/* reexport safe */ _observable_ade1bad8_mjs__WEBPACK_IMPORTED_MODULE_0__.o),\n/* harmony export */   observableToPromise: () => (/* binding */ observableToPromise),\n/* harmony export */   share: () => (/* binding */ share),\n/* harmony export */   tap: () => (/* binding */ tap)\n/* harmony export */ });\n/* harmony import */ var _observable_ade1bad8_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable-ade1bad8.mjs */ \"(ssr)/./node_modules/@trpc/server/dist/observable-ade1bad8.mjs\");\n\n\nfunction share(_opts) {\n    return (originalObserver)=>{\n        let refCount = 0;\n        let subscription = null;\n        const observers = [];\n        function startIfNeeded() {\n            if (subscription) {\n                return;\n            }\n            subscription = originalObserver.subscribe({\n                next (value) {\n                    for (const observer of observers){\n                        observer.next?.(value);\n                    }\n                },\n                error (error) {\n                    for (const observer of observers){\n                        observer.error?.(error);\n                    }\n                },\n                complete () {\n                    for (const observer of observers){\n                        observer.complete?.();\n                    }\n                }\n            });\n        }\n        function resetIfNeeded() {\n            // \"resetOnRefCountZero\"\n            if (refCount === 0 && subscription) {\n                const _sub = subscription;\n                subscription = null;\n                _sub.unsubscribe();\n            }\n        }\n        return {\n            subscribe (observer) {\n                refCount++;\n                observers.push(observer);\n                startIfNeeded();\n                return {\n                    unsubscribe () {\n                        refCount--;\n                        resetIfNeeded();\n                        const index = observers.findIndex((v)=>v === observer);\n                        if (index > -1) {\n                            observers.splice(index, 1);\n                        }\n                    }\n                };\n            }\n        };\n    };\n}\n\nfunction map(project) {\n    return (originalObserver)=>{\n        return {\n            subscribe (observer) {\n                let index = 0;\n                const subscription = originalObserver.subscribe({\n                    next (value) {\n                        observer.next?.(project(value, index++));\n                    },\n                    error (error) {\n                        observer.error?.(error);\n                    },\n                    complete () {\n                        observer.complete?.();\n                    }\n                });\n                return subscription;\n            }\n        };\n    };\n}\n\nfunction tap(observer) {\n    return (originalObserver)=>{\n        return {\n            subscribe (observer2) {\n                return originalObserver.subscribe({\n                    next (v) {\n                        observer.next?.(v);\n                        observer2.next?.(v);\n                    },\n                    error (v) {\n                        observer.error?.(v);\n                        observer2.error?.(v);\n                    },\n                    complete () {\n                        observer.complete?.();\n                        observer2.complete?.();\n                    }\n                });\n            }\n        };\n    };\n}\n\nclass ObservableAbortError extends Error {\n    constructor(message){\n        super(message);\n        this.name = 'ObservableAbortError';\n        Object.setPrototypeOf(this, ObservableAbortError.prototype);\n    }\n}\n/** @internal */ function observableToPromise(observable) {\n    let abort;\n    const promise = new Promise((resolve, reject)=>{\n        let isDone = false;\n        function onDone() {\n            if (isDone) {\n                return;\n            }\n            isDone = true;\n            reject(new ObservableAbortError('This operation was aborted.'));\n            obs$.unsubscribe();\n        }\n        const obs$ = observable.subscribe({\n            next (data) {\n                isDone = true;\n                resolve(data);\n                onDone();\n            },\n            error (data) {\n                isDone = true;\n                reject(data);\n                onDone();\n            },\n            complete () {\n                isDone = true;\n                onDone();\n            }\n        });\n        abort = onDone;\n    });\n    return {\n        promise,\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        abort: abort\n    };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3Qvb2JzZXJ2YWJsZS9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFnRjs7QUFFaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVnRCIsInNvdXJjZXMiOlsid2VicGFjazovL21vdmllLXJldmlldy1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3Qvb2JzZXJ2YWJsZS9pbmRleC5tanM/NTY2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBpIGFzIGlzT2JzZXJ2YWJsZSwgbyBhcyBvYnNlcnZhYmxlIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS1hZGUxYmFkOC5tanMnO1xuXG5mdW5jdGlvbiBzaGFyZShfb3B0cykge1xuICAgIHJldHVybiAob3JpZ2luYWxPYnNlcnZlcik9PntcbiAgICAgICAgbGV0IHJlZkNvdW50ID0gMDtcbiAgICAgICAgbGV0IHN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIGNvbnN0IG9ic2VydmVycyA9IFtdO1xuICAgICAgICBmdW5jdGlvbiBzdGFydElmTmVlZGVkKCkge1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG9yaWdpbmFsT2JzZXJ2ZXIuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBuZXh0ICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9ic2VydmVyIG9mIG9ic2VydmVycyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0Py4odmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvciAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYnNlcnZlciBvZiBvYnNlcnZlcnMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYnNlcnZlciBvZiBvYnNlcnZlcnMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGU/LigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcmVzZXRJZk5lZWRlZCgpIHtcbiAgICAgICAgICAgIC8vIFwicmVzZXRPblJlZkNvdW50WmVyb1wiXG4gICAgICAgICAgICBpZiAocmVmQ291bnQgPT09IDAgJiYgc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgX3N1YiA9IHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIF9zdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3Vic2NyaWJlIChvYnNlcnZlcikge1xuICAgICAgICAgICAgICAgIHJlZkNvdW50Kys7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgIHN0YXJ0SWZOZWVkZWQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB1bnN1YnNjcmliZSAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZDb3VudC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRJZk5lZWRlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBvYnNlcnZlcnMuZmluZEluZGV4KCh2KT0+diA9PT0gb2JzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gbWFwKHByb2plY3QpIHtcbiAgICByZXR1cm4gKG9yaWdpbmFsT2JzZXJ2ZXIpPT57XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWJzY3JpYmUgKG9ic2VydmVyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBvcmlnaW5hbE9ic2VydmVyLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgICAgIG5leHQgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0Py4ocHJvamVjdCh2YWx1ZSwgaW5kZXgrKykpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvciAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yPy4oZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZT8uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIHRhcChvYnNlcnZlcikge1xuICAgIHJldHVybiAob3JpZ2luYWxPYnNlcnZlcik9PntcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1YnNjcmliZSAob2JzZXJ2ZXIyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsT2JzZXJ2ZXIuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCAodikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dD8uKHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIyLm5leHQ/Lih2KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yPy4odik7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlcjIuZXJyb3I/Lih2KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUgKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGU/LigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIyLmNvbXBsZXRlPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59XG5cbmNsYXNzIE9ic2VydmFibGVBYm9ydEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2Upe1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ09ic2VydmFibGVBYm9ydEVycm9yJztcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIE9ic2VydmFibGVBYm9ydEVycm9yLnByb3RvdHlwZSk7XG4gICAgfVxufVxuLyoqIEBpbnRlcm5hbCAqLyBmdW5jdGlvbiBvYnNlcnZhYmxlVG9Qcm9taXNlKG9ic2VydmFibGUpIHtcbiAgICBsZXQgYWJvcnQ7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT57XG4gICAgICAgIGxldCBpc0RvbmUgPSBmYWxzZTtcbiAgICAgICAgZnVuY3Rpb24gb25Eb25lKCkge1xuICAgICAgICAgICAgaWYgKGlzRG9uZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzRG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZWplY3QobmV3IE9ic2VydmFibGVBYm9ydEVycm9yKCdUaGlzIG9wZXJhdGlvbiB3YXMgYWJvcnRlZC4nKSk7XG4gICAgICAgICAgICBvYnMkLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2JzJCA9IG9ic2VydmFibGUuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgIG5leHQgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgb25Eb25lKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3IgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlamVjdChkYXRhKTtcbiAgICAgICAgICAgICAgICBvbkRvbmUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wbGV0ZSAoKSB7XG4gICAgICAgICAgICAgICAgaXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBvbkRvbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFib3J0ID0gb25Eb25lO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHByb21pc2UsXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgIGFib3J0OiBhYm9ydFxuICAgIH07XG59XG5cbmV4cG9ydCB7IG1hcCwgb2JzZXJ2YWJsZVRvUHJvbWlzZSwgc2hhcmUsIHRhcCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/server/dist/observable/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/server/dist/shared/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@trpc/server/dist/shared/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createFlatProxy: () => (/* reexport safe */ _index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   createRecursiveProxy: () => (/* reexport safe */ _index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_0__.a),\n/* harmony export */   getCauseFromUnknown: () => (/* reexport safe */ _getCauseFromUnknown_2d66414a_mjs__WEBPACK_IMPORTED_MODULE_2__.g),\n/* harmony export */   getErrorShape: () => (/* reexport safe */ _transformTRPCResponse_1153b421_mjs__WEBPACK_IMPORTED_MODULE_1__.g),\n/* harmony export */   transformTRPCResponse: () => (/* reexport safe */ _transformTRPCResponse_1153b421_mjs__WEBPACK_IMPORTED_MODULE_1__.t)\n/* harmony export */ });\n/* harmony import */ var _index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../index-f91d720c.mjs */ \"(ssr)/./node_modules/@trpc/server/dist/index-f91d720c.mjs\");\n/* harmony import */ var _transformTRPCResponse_1153b421_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../transformTRPCResponse-1153b421.mjs */ \"(ssr)/./node_modules/@trpc/server/dist/transformTRPCResponse-1153b421.mjs\");\n/* harmony import */ var _getCauseFromUnknown_2d66414a_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../getCauseFromUnknown-2d66414a.mjs */ \"(ssr)/./node_modules/@trpc/server/dist/getCauseFromUnknown-2d66414a.mjs\");\n/* harmony import */ var _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../codes-c924c3db.mjs */ \"(ssr)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs\");\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3Qvc2hhcmVkL2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBd0Y7QUFDZTtBQUN4QjtBQUNoRCIsInNvdXJjZXMiOlsid2VicGFjazovL21vdmllLXJldmlldy1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3Qvc2hhcmVkL2luZGV4Lm1qcz9hZGU4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGMgYXMgY3JlYXRlRmxhdFByb3h5LCBhIGFzIGNyZWF0ZVJlY3Vyc2l2ZVByb3h5IH0gZnJvbSAnLi4vaW5kZXgtZjkxZDcyMGMubWpzJztcbmV4cG9ydCB7IGcgYXMgZ2V0RXJyb3JTaGFwZSwgdCBhcyB0cmFuc2Zvcm1UUlBDUmVzcG9uc2UgfSBmcm9tICcuLi90cmFuc2Zvcm1UUlBDUmVzcG9uc2UtMTE1M2I0MjEubWpzJztcbmV4cG9ydCB7IGcgYXMgZ2V0Q2F1c2VGcm9tVW5rbm93biB9IGZyb20gJy4uL2dldENhdXNlRnJvbVVua25vd24tMmQ2NjQxNGEubWpzJztcbmltcG9ydCAnLi4vY29kZXMtYzkyNGMzZGIubWpzJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/server/dist/shared/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/server/dist/transformTRPCResponse-1153b421.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@trpc/server/dist/transformTRPCResponse-1153b421.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   g: () => (/* binding */ getErrorShape),\n/* harmony export */   t: () => (/* binding */ transformTRPCResponse)\n/* harmony export */ });\n/* harmony import */ var _index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-f91d720c.mjs */ \"(ssr)/./node_modules/@trpc/server/dist/index-f91d720c.mjs\");\n/* harmony import */ var _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./codes-c924c3db.mjs */ \"(ssr)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs\");\n\n\n\n/**\n * @internal\n */ function getErrorShape(opts) {\n    const { path , error , config  } = opts;\n    const { code  } = opts.error;\n    const shape = {\n        message: error.message,\n        code: _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_1__.T[code],\n        data: {\n            code,\n            httpStatus: (0,_index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(error)\n        }\n    };\n    if (config.isDev && typeof opts.error.stack === 'string') {\n        shape.data.stack = opts.error.stack;\n    }\n    if (typeof path === 'string') {\n        shape.data.path = path;\n    }\n    return config.errorFormatter({\n        ...opts,\n        shape\n    });\n}\n\nfunction transformTRPCResponseItem(config, item) {\n    if ('error' in item) {\n        return {\n            ...item,\n            error: config.transformer.output.serialize(item.error)\n        };\n    }\n    if ('data' in item.result) {\n        return {\n            ...item,\n            result: {\n                ...item.result,\n                data: config.transformer.output.serialize(item.result.data)\n            }\n        };\n    }\n    return item;\n}\n/**\n * Takes a unserialized `TRPCResponse` and serializes it with the router's transformers\n **/ function transformTRPCResponse(config, itemOrItems) {\n    return Array.isArray(itemOrItems) ? itemOrItems.map((item)=>transformTRPCResponseItem(config, item)) : transformTRPCResponseItem(config, itemOrItems);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvdHJhbnNmb3JtVFJQQ1Jlc3BvbnNlLTExNTNiNDIxLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXVFO0FBQ0g7O0FBRXBFO0FBQ0E7QUFDQTtBQUNBLFlBQVkseUJBQXlCO0FBQ3JDLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0EsY0FBYyxrREFBdUI7QUFDckM7QUFDQTtBQUNBLHdCQUF3QixzREFBMEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUwRCIsInNvdXJjZXMiOlsid2VicGFjazovL21vdmllLXJldmlldy1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvdHJhbnNmb3JtVFJQQ1Jlc3BvbnNlLTExNTNiNDIxLm1qcz9jYzNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGcgYXMgZ2V0SFRUUFN0YXR1c0NvZGVGcm9tRXJyb3IgfSBmcm9tICcuL2luZGV4LWY5MWQ3MjBjLm1qcyc7XG5pbXBvcnQgeyBUIGFzIFRSUENfRVJST1JfQ09ERVNfQllfS0VZIH0gZnJvbSAnLi9jb2Rlcy1jOTI0YzNkYi5tanMnO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIGdldEVycm9yU2hhcGUob3B0cykge1xuICAgIGNvbnN0IHsgcGF0aCAsIGVycm9yICwgY29uZmlnICB9ID0gb3B0cztcbiAgICBjb25zdCB7IGNvZGUgIH0gPSBvcHRzLmVycm9yO1xuICAgIGNvbnN0IHNoYXBlID0ge1xuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICBjb2RlOiBUUlBDX0VSUk9SX0NPREVTX0JZX0tFWVtjb2RlXSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgY29kZSxcbiAgICAgICAgICAgIGh0dHBTdGF0dXM6IGdldEhUVFBTdGF0dXNDb2RlRnJvbUVycm9yKGVycm9yKVxuICAgICAgICB9XG4gICAgfTtcbiAgICBpZiAoY29uZmlnLmlzRGV2ICYmIHR5cGVvZiBvcHRzLmVycm9yLnN0YWNrID09PSAnc3RyaW5nJykge1xuICAgICAgICBzaGFwZS5kYXRhLnN0YWNrID0gb3B0cy5lcnJvci5zdGFjaztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgICAgICBzaGFwZS5kYXRhLnBhdGggPSBwYXRoO1xuICAgIH1cbiAgICByZXR1cm4gY29uZmlnLmVycm9yRm9ybWF0dGVyKHtcbiAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgc2hhcGVcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtVFJQQ1Jlc3BvbnNlSXRlbShjb25maWcsIGl0ZW0pIHtcbiAgICBpZiAoJ2Vycm9yJyBpbiBpdGVtKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgZXJyb3I6IGNvbmZpZy50cmFuc2Zvcm1lci5vdXRwdXQuc2VyaWFsaXplKGl0ZW0uZXJyb3IpXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICgnZGF0YScgaW4gaXRlbS5yZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICByZXN1bHQ6IHtcbiAgICAgICAgICAgICAgICAuLi5pdGVtLnJlc3VsdCxcbiAgICAgICAgICAgICAgICBkYXRhOiBjb25maWcudHJhbnNmb3JtZXIub3V0cHV0LnNlcmlhbGl6ZShpdGVtLnJlc3VsdC5kYXRhKVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gaXRlbTtcbn1cbi8qKlxuICogVGFrZXMgYSB1bnNlcmlhbGl6ZWQgYFRSUENSZXNwb25zZWAgYW5kIHNlcmlhbGl6ZXMgaXQgd2l0aCB0aGUgcm91dGVyJ3MgdHJhbnNmb3JtZXJzXG4gKiovIGZ1bmN0aW9uIHRyYW5zZm9ybVRSUENSZXNwb25zZShjb25maWcsIGl0ZW1Pckl0ZW1zKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoaXRlbU9ySXRlbXMpID8gaXRlbU9ySXRlbXMubWFwKChpdGVtKT0+dHJhbnNmb3JtVFJQQ1Jlc3BvbnNlSXRlbShjb25maWcsIGl0ZW0pKSA6IHRyYW5zZm9ybVRSUENSZXNwb25zZUl0ZW0oY29uZmlnLCBpdGVtT3JJdGVtcyk7XG59XG5cbmV4cG9ydCB7IGdldEVycm9yU2hhcGUgYXMgZywgdHJhbnNmb3JtVFJQQ1Jlc3BvbnNlIGFzIHQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/server/dist/transformTRPCResponse-1153b421.mjs\n");

/***/ })

};
;